(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9017],{63955:function(e,t,i){"use strict";var n=i(37014),r=i(28702),a=i(35843),s=i(87927);let o=(0,n.Z)({createStyledComponent:(0,a.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.root,t[`maxWidth${(0,r.Z)(String(i.maxWidth))}`],i.fixed&&t.fixed,i.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,s.Z)({props:e,name:"MuiContainer"})});t.Z=o},91053:function(e,t,i){"use strict";i.d(t,{CT:function(){return d},V2:function(){return u},V6:function(){return h},cm:function(){return l},dL:function(){return c}});var n=i(92268),r="e-float-line",a="e-float-text",s="e-label-top",o="e-label-bottom";function l(e,t,i,l,h,p,c){var u=(0,n.az)("span",{className:r}),m=(0,n.az)("label",{className:a}),v=i.getAttribute("id")?i.getAttribute("id"):(0,n.QI)("ej2_multiselect");i.id=v,(0,n.le)(i.id)||""===i.id||(m.id="label_"+i.id.replace(/ /g,"_"),(0,n.Y4)(l,{"aria-labelledby":m.id})),(0,n.le)(l.placeholder)||""===l.placeholder||(m.innerText=d(l.placeholder),l.removeAttribute("placeholder")),m.innerText=d(c),t.appendChild(u),t.appendChild(m),e.classList.add("e-float-input"),h&&h.length>0?((0,n.cn)([m],s),(0,n.IV)([m],o)):((0,n.IV)([m],s),(0,n.cn)([m],o)),"Always"===p&&(m.classList.contains(o)&&(0,n.IV)([m],o),(0,n.cn)([m],s))}function h(e,t,i,s,o,l,h){var c,u=t.querySelector("."+a),d=t.querySelector("."+r);(0,n.le)(u)?p(o,s,c=null!==h?h:""):(c=u.innerText,(0,n.og)(i.querySelector("."+a)),p(o,s,c),(0,n.le)(d)||(0,n.og)(i.querySelector("."+r))),e.classList.remove("e-float-input")}function p(e,t,i){e&&e.length?t.placeholder="":t.placeholder=i}function c(e,t){e.classList.add("e-input-focus");var i=t.querySelector("."+a);!(0,n.le)(i)&&((0,n.cn)([i],s),i.classList.contains(o)&&(0,n.IV)([i],o))}function u(e,t,i,r,l){e.classList.remove("e-input-focus");var h=t.querySelector("."+a);i&&i.length<=0&&"Auto"===r&&!(0,n.le)(h)&&(h.classList.contains(s)&&(0,n.IV)([h],s),(0,n.cn)([h],o))}function d(e){var t="";if(!(0,n.le)(e)&&""!==e){var i=document.createElement("span");i.innerHTML='<input  placeholder="'+e+'"/>',t=i.children[0].placeholder}return t}},48163:function(e,t,i){"use strict";i.d(t,{i:function(){return rb}});var n,r,a,s,o,l,h,p,c,u,d,m,v,g,f,y,b,T,D,w,C,S,E,k=i(2265),A=i(92268),V=i(58174),M=i(25080),x=i(69455),I=i(48622),O=(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),R=function(e,t,i,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},P="e-rtl",H="e-overlay",L="e-nav-arrow",q="e-nav-right-arrow",F="e-nav-left-arrow",W="e-scroll-nav",z="e-scroll-right-nav",B="e-scroll-left-nav",j="e-scroll-device",N="e-scroll-overlay",U="e-scroll-right-overlay",Y="e-scroll-left-overlay",_=function(e){function t(t,i){return e.call(this,t,i)||this}return O(t,e),t.prototype.preRender=function(){this.browser=A.AR.info.name,this.browserCheck="mozilla"===this.browser,this.isDevice=A.AR.isDevice,this.customStep=!0;var e=this.element;this.ieCheck="edge"===this.browser||"msie"===this.browser,this.initialize(),""===e.id&&(e.id=(0,A.QI)("hscroll"),this.uniqueId=!0),e.style.display="block",this.enableRtl&&e.classList.add(P)},t.prototype.render=function(){this.touchModule=new A.Xh(this.element,{scroll:this.touchHandler.bind(this),swipe:this.swipeHandler.bind(this)}),A.bi.add(this.scrollEle,"scroll",this.scrollHandler,this),this.isDevice?(this.element.classList.add(j),this.createOverlay(this.element)):this.createNavIcon(this.element),this.setScrollState()},t.prototype.setScrollState=function(){(0,A.le)(this.scrollStep)||this.scrollStep<0?(this.scrollStep=this.scrollEle.offsetWidth,this.customStep=!1):this.customStep=!0},t.prototype.initialize=function(){var e=this.createElement("div",{className:"e-hscroll-content"}),t=this.createElement("div",{className:"e-hscroll-bar"});t.setAttribute("tabindex","-1");for(var i=this.element,n=[].slice.call(i.children),r=0;r<n.length;r++){var a=n[r];e.appendChild(a)}t.appendChild(e),i.appendChild(t),t.style.overflowX="hidden",this.scrollEle=t,this.scrollItems=e},t.prototype.getPersistData=function(){return this.addOnPersist(["scrollStep"])},t.prototype.getModuleName=function(){return"hScroll"},t.prototype.destroy=function(){var t=this.element;t.style.display="",t.classList.remove("e-hscroll"),t.classList.remove(j),t.classList.remove(P);var i=(0,A.td)(".e-"+t.id+"_nav."+W,t),n=(0,A.td)("."+N,t);[].slice.call(n).forEach(function(e){(0,A.og)(e)});for(var r=0,a=[].slice.call(this.scrollItems.children);r<a.length;r++){var s=a[r];t.appendChild(s)}this.uniqueId&&this.element.removeAttribute("id"),(0,A.og)(this.scrollEle),i.length>0&&((0,A.og)(i[0]),(0,A.le)(i[1])||(0,A.og)(i[1])),A.bi.remove(this.scrollEle,"scroll",this.scrollHandler),this.touchModule.destroy(),this.touchModule=null,e.prototype.destroy.call(this)},t.prototype.disable=function(e){var t=(0,A.td)(".e-scroll-nav:not(."+H+")",this.element);e?this.element.classList.add(H):this.element.classList.remove(H),[].slice.call(t).forEach(function(t){t.setAttribute("tabindex",e?"-1":"0")})},t.prototype.createOverlay=function(e){var t=e.id.concat("_nav"),i=this.createElement("div",{className:N+" "+U}),n="e-"+e.id.concat("_nav "+W+" "+z),r=this.createElement("div",{id:t.concat("_right"),className:n}),a=this.createElement("div",{className:q+" "+L+" e-icons"});r.appendChild(a);var s=this.createElement("div",{className:N+" "+Y});this.ieCheck&&r.classList.add("e-ie-align"),e.appendChild(i),e.appendChild(r),e.insertBefore(s,e.firstChild),this.eventBinding([r])},t.prototype.createNavIcon=function(e){var t=e.id.concat("_nav"),i="e-"+e.id.concat("_nav "+W+" "+z),n={role:"button",id:t.concat("_right"),"aria-label":"Scroll right"},r=this.createElement("div",{className:i,attrs:n});r.setAttribute("aria-disabled","false");var a=this.createElement("div",{className:q+" "+L+" e-icons"}),s="e-"+e.id.concat("_nav "+W+" "+B),o={role:"button",id:t.concat("_left"),"aria-label":"Scroll left"},l=this.createElement("div",{className:s+" "+H,attrs:o});l.setAttribute("aria-disabled","true");var h=this.createElement("div",{className:F+" "+L+" e-icons"});l.appendChild(h),r.appendChild(a),e.appendChild(r),e.insertBefore(l,e.firstChild),this.ieCheck&&(r.classList.add("e-ie-align"),l.classList.add("e-ie-align")),this.eventBinding([r,l])},t.prototype.onKeyPress=function(e){var t=this;if("Enter"===e.key){var i=function(){t.keyTimeout=!0,t.eleScrolling(10,e.target,!0)};this.keyTimer=window.setTimeout(function(){i()},100)}},t.prototype.onKeyUp=function(e){"Enter"===e.key&&(this.keyTimeout?this.keyTimeout=!1:e.target.click(),clearTimeout(this.keyTimer))},t.prototype.eventBinding=function(e){var t=this;[].slice.call(e).forEach(function(e){new A.Xh(e,{tapHold:t.tabHoldHandler.bind(t),tapHoldThreshold:500}),e.addEventListener("keydown",t.onKeyPress.bind(t)),e.addEventListener("keyup",t.onKeyUp.bind(t)),e.addEventListener("mouseup",t.repeatScroll.bind(t)),e.addEventListener("touchend",t.repeatScroll.bind(t)),e.addEventListener("contextmenu",function(e){e.preventDefault()}),A.bi.add(e,"click",t.clickEventHandler,t)})},t.prototype.repeatScroll=function(){clearInterval(this.timeout)},t.prototype.tabHoldHandler=function(e){var t=this,i=e.originalEvent.target;i=this.contains(i,W)?i.firstElementChild:i;var n=function(){t.eleScrolling(10,i,!0)};this.timeout=window.setInterval(function(){n()},50)},t.prototype.contains=function(e,t){return e.classList.contains(t)},t.prototype.eleScrolling=function(e,t,i){var n=this.element,r=t.classList;r.contains(W)&&(r=t.querySelector("."+L).classList),this.contains(n,P)&&this.browserCheck&&(e=-e),!this.contains(n,P)||this.browserCheck||this.ieCheck?r.contains(q)?this.frameScrollRequest(e,"add",i):this.frameScrollRequest(e,"",i):r.contains(F)?this.frameScrollRequest(e,"add",i):this.frameScrollRequest(e,"",i)},t.prototype.clickEventHandler=function(e){this.eleScrolling(this.scrollStep,e.target,!1)},t.prototype.swipeHandler=function(e){var t,i=this.scrollEle;t=e.velocity<=1?e.distanceX/(10*e.velocity):e.distanceX/e.velocity;var n=.5,r=function(){var a=Math.sin(n);a<=0?window.cancelAnimationFrame(a):("Left"===e.swipeDirection?i.scrollLeft+=t*a:"Right"===e.swipeDirection&&(i.scrollLeft-=t*a),n-=.5,window.requestAnimationFrame(r))};r()},t.prototype.scrollUpdating=function(e,t){"add"===t?this.scrollEle.scrollLeft+=e:this.scrollEle.scrollLeft-=e,this.enableRtl&&this.scrollEle.scrollLeft>0&&(this.scrollEle.scrollLeft=0)},t.prototype.frameScrollRequest=function(e,t,i){var n=this;if(i){this.scrollUpdating(e,t);return}this.customStep||[].slice.call((0,A.td)("."+N,this.element)).forEach(function(t){e-=t.offsetWidth});var r=function(){var i,a;n.contains(n.element,P)&&n.browserCheck?(i=-e,a=-10):(i=e,a=10),i<10?window.cancelAnimationFrame(a):(n.scrollUpdating(a,t),e-=a,window.requestAnimationFrame(r))};r()},t.prototype.touchHandler=function(e){var t=this.scrollEle,i=e.distanceX;this.ieCheck&&this.contains(this.element,P)&&(i=-i),"Left"===e.scrollDirection?t.scrollLeft=t.scrollLeft+i:"Right"===e.scrollDirection&&(t.scrollLeft=t.scrollLeft-i)},t.prototype.arrowDisabling=function(e,t){if(this.isDevice){var i=((0,A.le)(e)?t:e).querySelector("."+L);(0,A.le)(e)?(0,A.s1)(i,[q],[F]):(0,A.s1)(i,[F],[q])}else e&&t&&(e.classList.add(H),e.setAttribute("aria-disabled","true"),e.removeAttribute("tabindex"),t.classList.remove(H),t.setAttribute("aria-disabled","false"),t.setAttribute("tabindex","0"));this.repeatScroll()},t.prototype.scrollHandler=function(e){var t=e.target,i=t.offsetWidth;this.element;var n=this.element.querySelector("."+B),r=this.element.querySelector("."+z),a=this.element.querySelector("."+Y),s=this.element.querySelector("."+U),o=t.scrollLeft;if(o<=0&&(o=-o),this.isDevice&&(this.enableRtl&&!(this.browserCheck||this.ieCheck)&&(a=this.element.querySelector("."+U),s=this.element.querySelector("."+Y)),o<40?a.style.width=o+"px":a.style.width="40px",t.scrollWidth-Math.ceil(i+o)<40?s.style.width=t.scrollWidth-Math.ceil(i+o)+"px":s.style.width="40px"),0===o)this.arrowDisabling(n,r);else if(Math.ceil(i+o+.1)>=t.scrollWidth)this.arrowDisabling(r,n);else{var l=this.element.querySelector("."+W+"."+H);l&&(l.classList.remove(H),l.setAttribute("aria-disabled","false"),l.setAttribute("tabindex","0"))}},t.prototype.onPropertyChanged=function(e,t){for(var i=0,n=Object.keys(e);i<n.length;i++)switch(n[i]){case"scrollStep":this.setScrollState();break;case"enableRtl":e.enableRtl?this.element.classList.add(P):this.element.classList.remove(P)}},R([(0,A.Z9)(null)],t.prototype,"scrollStep",void 0),t=R([A.Zl],t)}(A.wA),Z=(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),K=function(e,t,i,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},G="e-rtl",Q="e-overlay",X="e-nav-arrow",$="e-nav-up-arrow",J="e-nav-down-arrow",ee="e-scroll-nav",et="e-scroll-up-nav",ei="e-scroll-down-nav",en="e-scroll-device",er="e-scroll-overlay",ea="e-scroll-up-overlay",es="e-scroll-down-overlay",eo=function(e){function t(t,i){return e.call(this,t,i)||this}return Z(t,e),t.prototype.preRender=function(){this.browser=A.AR.info.name,this.browserCheck="mozilla"===this.browser,this.isDevice=A.AR.isDevice,this.customStep=!0;var e=this.element;this.ieCheck="edge"===this.browser||"msie"===this.browser,this.initialize(),""===e.id&&(e.id=(0,A.QI)("vscroll"),this.uniqueId=!0),e.style.display="block",this.enableRtl&&e.classList.add(G)},t.prototype.render=function(){this.touchModule=new A.Xh(this.element,{scroll:this.touchHandler.bind(this),swipe:this.swipeHandler.bind(this)}),A.bi.add(this.scrollEle,"scroll",this.scrollEventHandler,this),this.isDevice?(this.element.classList.add(en),this.createOverlayElement(this.element)):this.createNavIcon(this.element),this.setScrollState(),A.bi.add(this.element,"wheel",this.wheelEventHandler,this)},t.prototype.setScrollState=function(){(0,A.le)(this.scrollStep)||this.scrollStep<0?(this.scrollStep=this.scrollEle.offsetHeight,this.customStep=!1):this.customStep=!0},t.prototype.initialize=function(){var e=(0,A.az)("div",{className:"e-vscroll-content"}),t=(0,A.az)("div",{className:"e-vscroll-bar"});t.setAttribute("tabindex","-1");for(var i=this.element,n=[].slice.call(i.children),r=0;r<n.length;r++){var a=n[r];e.appendChild(a)}t.appendChild(e),i.appendChild(t),t.style.overflow="hidden",this.scrollEle=t,this.scrollItems=e},t.prototype.getPersistData=function(){return this.addOnPersist(["scrollStep"])},t.prototype.getModuleName=function(){return"vScroll"},t.prototype.destroy=function(){var t=this.element;t.style.display="",(0,A.IV)([this.element],["e-vscroll",en,G]);var i=(0,A.td)(".e-"+t.id+"_nav."+ee,t),n=(0,A.td)("."+er,t);[].slice.call(n).forEach(function(e){(0,A.og)(e)});for(var r=0,a=[].slice.call(this.scrollItems.children);r<a.length;r++){var s=a[r];t.appendChild(s)}this.uniqueId&&this.element.removeAttribute("id"),(0,A.og)(this.scrollEle),i.length>0&&((0,A.og)(i[0]),(0,A.le)(i[1])||(0,A.og)(i[1])),A.bi.remove(this.scrollEle,"scroll",this.scrollEventHandler),this.touchModule.destroy(),this.touchModule=null,e.prototype.destroy.call(this)},t.prototype.disable=function(e){var t=(0,A.td)(".e-scroll-nav:not(."+Q+")",this.element);e?this.element.classList.add(Q):this.element.classList.remove(Q),[].slice.call(t).forEach(function(t){t.setAttribute("tabindex",e?"-1":"0")})},t.prototype.createOverlayElement=function(e){var t=e.id.concat("_nav"),i=(0,A.az)("div",{className:er+" "+es}),n="e-"+e.id.concat("_nav "+ee+" "+ei),r=(0,A.az)("div",{id:t.concat("down"),className:n}),a=(0,A.az)("div",{className:J+" "+X+" e-icons"});r.appendChild(a);var s=(0,A.az)("div",{className:er+" "+ea});this.ieCheck&&r.classList.add("e-ie-align"),e.appendChild(i),e.appendChild(r),e.insertBefore(s,e.firstChild),this.eventBinding([r])},t.prototype.createNavIcon=function(e){var t=e.id.concat("_nav"),i="e-"+e.id.concat("_nav "+ee+" "+ei),n=(0,A.az)("div",{id:t.concat("_down"),className:i});n.setAttribute("aria-disabled","false");var r=(0,A.az)("div",{className:J+" "+X+" e-icons"}),a="e-"+e.id.concat("_nav "+ee+" "+et),s=(0,A.az)("div",{id:t.concat("_up"),className:a+" "+Q});s.setAttribute("aria-disabled","true");var o=(0,A.az)("div",{className:$+" "+X+" e-icons"});s.appendChild(o),n.appendChild(r),n.setAttribute("tabindex","0"),e.appendChild(n),e.insertBefore(s,e.firstChild),this.ieCheck&&(n.classList.add("e-ie-align"),s.classList.add("e-ie-align")),this.eventBinding([n,s])},t.prototype.onKeyPress=function(e){var t=this;if("Enter"===e.key){var i=function(){t.keyTimeout=!0,t.eleScrolling(10,e.target,!0)};this.keyTimer=window.setTimeout(function(){i()},100)}},t.prototype.onKeyUp=function(e){"Enter"===e.key&&(this.keyTimeout?this.keyTimeout=!1:e.target.click(),clearTimeout(this.keyTimer))},t.prototype.eventBinding=function(e){var t=this;[].slice.call(e).forEach(function(e){new A.Xh(e,{tapHold:t.tabHoldHandler.bind(t),tapHoldThreshold:500}),e.addEventListener("keydown",t.onKeyPress.bind(t)),e.addEventListener("keyup",t.onKeyUp.bind(t)),e.addEventListener("mouseup",t.repeatScroll.bind(t)),e.addEventListener("touchend",t.repeatScroll.bind(t)),e.addEventListener("contextmenu",function(e){e.preventDefault()}),A.bi.add(e,"click",t.clickEventHandler,t)})},t.prototype.repeatScroll=function(){clearInterval(this.timeout)},t.prototype.tabHoldHandler=function(e){var t=this,i=e.originalEvent.target;i=this.contains(i,ee)?i.firstElementChild:i;var n=function(){t.eleScrolling(10,i,!0)};this.timeout=window.setInterval(function(){n()},50)},t.prototype.contains=function(e,t){return e.classList.contains(t)},t.prototype.eleScrolling=function(e,t,i){var n=t.classList;n.contains(ee)&&(n=t.querySelector("."+X).classList),n.contains(J)?this.frameScrollRequest(e,"add",i):n.contains($)&&this.frameScrollRequest(e,"",i)},t.prototype.clickEventHandler=function(e){this.eleScrolling(this.scrollStep,e.target,!1)},t.prototype.wheelEventHandler=function(e){e.preventDefault(),this.frameScrollRequest(this.scrollStep,e.deltaY>0?"add":"",!1)},t.prototype.swipeHandler=function(e){var t,i=this.scrollEle;t=e.velocity<=1?e.distanceY/(10*e.velocity):e.distanceY/e.velocity;var n=.5,r=function(){var a=Math.sin(n);a<=0?window.cancelAnimationFrame(a):("Up"===e.swipeDirection?i.scrollTop+=t*a:"Down"===e.swipeDirection&&(i.scrollTop-=t*a),n-=.02,window.requestAnimationFrame(r))};r()},t.prototype.scrollUpdating=function(e,t){"add"===t?this.scrollEle.scrollTop+=e:this.scrollEle.scrollTop-=e},t.prototype.frameScrollRequest=function(e,t,i){var n=this;if(i){this.scrollUpdating(e,t);return}this.customStep||[].slice.call((0,A.td)("."+er,this.element)).forEach(function(t){e-=t.offsetHeight});var r=function(){e<10?window.cancelAnimationFrame(10):(n.scrollUpdating(10,t),e-=10,window.requestAnimationFrame(r))};r()},t.prototype.touchHandler=function(e){var t=this.scrollEle,i=e.distanceY;"Up"===e.scrollDirection?t.scrollTop=t.scrollTop+i:"Down"===e.scrollDirection&&(t.scrollTop=t.scrollTop-i)},t.prototype.arrowDisabling=function(e,t){if(this.isDevice){var i=((0,A.le)(e)?t:e).querySelector("."+X);(0,A.le)(e)?(0,A.s1)(i,[J],[$]):(0,A.s1)(i,[$],[J])}else e.classList.add(Q),e.setAttribute("aria-disabled","true"),e.removeAttribute("tabindex"),t.classList.remove(Q),t.setAttribute("aria-disabled","false"),t.setAttribute("tabindex","0");this.repeatScroll()},t.prototype.scrollEventHandler=function(e){var t=e.target,i=t.offsetHeight,n=this.element.querySelector("."+et),r=this.element.querySelector("."+ei),a=this.element.querySelector("."+ea),s=this.element.querySelector("."+es),o=t.scrollTop;if(o<=0&&(o=-o),this.isDevice&&(o<40?a.style.height=o+"px":a.style.height="40px",t.scrollHeight-Math.ceil(i+o)<40?s.style.height=t.scrollHeight-Math.ceil(i+o)+"px":s.style.height="40px"),0===o)this.arrowDisabling(n,r);else if(Math.ceil(i+o+.1)>=t.scrollHeight)this.arrowDisabling(r,n);else{var l=this.element.querySelector("."+ee+"."+Q);l&&(l.classList.remove(Q),l.setAttribute("aria-disabled","false"),l.setAttribute("tabindex","0"))}},t.prototype.onPropertyChanged=function(e,t){for(var i=0,n=Object.keys(e);i<n.length;i++)switch(n[i]){case"scrollStep":this.setScrollState();break;case"enableRtl":e.enableRtl?this.element.classList.add(G):this.element.classList.remove(G)}},K([(0,A.Z9)(null)],t.prototype,"scrollStep",void 0),t=K([A.Zl],t)}(A.wA),el=(a=function(e,t){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),eh=function(e,t,i,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},ep="e-vertical",ec="e-toolbar-items",eu="e-toolbar-item",ed="e-rtl",em="e-separator",ev="e-popup-up-icon",eg="e-popup-down-icon",ef="e-popup-open",ey="e-template",eb="e-overlay",eT="e-toolbar-text",eD="e-popup-text",ew="e-overflow-show",eC="e-overflow-hide",eS="e-hor-nav",eE="e-scroll-nav",ek="e-toolbar-center",eA="e-tbar-pos",eV="e-hscroll-bar",eM="e-toolbar-pop",ex="e-toolbar-popup",eI="e-nav-active",eO="e-ignore",eR="e-popup-alone",eP="e-hidden",eH="e-toolbar-multirow",eL="e-multirow-pos",eq="e-multirow-separator",eF="e-extended-separator",eW="e-extended-toolbar",ez="e-toolbar-extended",eB="e-tbar-extended",ej=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return el(t,e),eh([(0,A.Z9)("")],t.prototype,"id",void 0),eh([(0,A.Z9)("")],t.prototype,"text",void 0),eh([(0,A.Z9)("auto")],t.prototype,"width",void 0),eh([(0,A.Z9)("")],t.prototype,"cssClass",void 0),eh([(0,A.Z9)(!1)],t.prototype,"showAlwaysInPopup",void 0),eh([(0,A.Z9)(!1)],t.prototype,"disabled",void 0),eh([(0,A.Z9)("")],t.prototype,"prefixIcon",void 0),eh([(0,A.Z9)("")],t.prototype,"suffixIcon",void 0),eh([(0,A.Z9)(!0)],t.prototype,"visible",void 0),eh([(0,A.Z9)("None")],t.prototype,"overflow",void 0),eh([(0,A.Z9)("")],t.prototype,"template",void 0),eh([(0,A.Z9)("Button")],t.prototype,"type",void 0),eh([(0,A.Z9)("Both")],t.prototype,"showTextOn",void 0),eh([(0,A.Z9)(null)],t.prototype,"htmlAttributes",void 0),eh([(0,A.Z9)("")],t.prototype,"tooltipText",void 0),eh([(0,A.Z9)("Left")],t.prototype,"align",void 0),eh([(0,A.ju)()],t.prototype,"click",void 0),eh([(0,A.Z9)(-1)],t.prototype,"tabIndex",void 0),t}(A.rt),eN=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.resizeContext=n.resize.bind(n),n.orientationChangeContext=n.orientationChange.bind(n),n.keyConfigs={moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",moveDown:"downarrow",popupOpen:"enter",popupClose:"escape",tab:"tab",home:"home",end:"end"},n}return el(t,e),t.prototype.destroy=function(){var t=this;(this.isReact||this.isAngular)&&this.clearTemplate();var i=this.element.querySelectorAll(".e-control.e-btn");for([].slice.call(i).forEach(function(e){(0,A.le)(e)||(0,A.le)(e.ej2_instances)||(0,A.le)(e.ej2_instances[0])||e.ej2_instances[0].isDestroyed||e.ej2_instances[0].destroy()}),this.unwireEvents(),this.tempId.forEach(function(e){(0,A.le)(t.element.querySelector(e))||(document.body.appendChild(t.element.querySelector(e)).style.display="none")}),this.destroyItems();this.element.lastElementChild;)this.element.removeChild(this.element.lastElementChild);this.trgtEle&&(this.element.appendChild(this.ctrlTem),this.trgtEle=null,this.ctrlTem=null),this.popObj&&(this.popObj.destroy(),(0,A.og)(this.popObj.element)),this.activeEle&&(this.activeEle=null),this.popObj=null,this.tbarAlign=null,this.tbarItemsCol=[],this.remove(this.element,"e-toolpop"),this.cssClass&&(0,A.IV)([this.element],this.cssClass.split(" ")),this.element.removeAttribute("style"),["aria-disabled","aria-orientation","role"].forEach(function(e){return t.element.removeAttribute(e)}),e.prototype.destroy.call(this)},t.prototype.preRender=function(){var e={enableCollision:this.enableCollision,scrollStep:this.scrollStep};this.trigger("beforeCreate",e),this.enableCollision=e.enableCollision,this.scrollStep=e.scrollStep,this.scrollModule=null,this.popObj=null,this.tempId=[],this.tbarItemsCol=this.items,this.isVertical=!!this.element.classList.contains(ep),this.isExtendedOpen=!1,this.popupPriCount=0,this.enableRtl&&this.add(this.element,ed)},t.prototype.wireEvents=function(){A.bi.add(this.element,"click",this.clickHandler,this),window.addEventListener("resize",this.resizeContext),window.addEventListener("orientationchange",this.orientationChangeContext),this.allowKeyboard&&this.wireKeyboardEvent()},t.prototype.wireKeyboardEvent=function(){this.keyModule=new A.nv(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs}),A.bi.add(this.element,"keydown",this.docKeyDown,this),this.updateTabIndex("0")},t.prototype.updateTabIndex=function(e){var t=this.element.querySelector("."+eu+":not(."+eb+" ):not(."+em+" ):not(."+eP+" )");if(!(0,A.le)(t)&&!(0,A.le)(t.firstElementChild)){var i=t.firstElementChild.getAttribute("data-tabindex");i&&"-1"===i&&"INPUT"!==t.firstElementChild.tagName&&t.firstElementChild.setAttribute("tabindex",e)}},t.prototype.unwireKeyboardEvent=function(){this.keyModule&&(A.bi.remove(this.element,"keydown",this.docKeyDown),this.keyModule.destroy(),this.keyModule=null)},t.prototype.docKeyDown=function(e){if("INPUT"!==e.target.tagName){var t=!(0,A.le)(this.popObj)&&(0,A.pn)(this.popObj.element)&&"Extended"!==this.overflowMode;9===e.keyCode&&!0===e.target.classList.contains("e-hor-nav")&&t&&this.popObj.hide({name:"FadeOut",duration:100}),(40===e.keyCode||38===e.keyCode||35===e.keyCode||36===e.keyCode)&&e.preventDefault()}},t.prototype.unwireEvents=function(){A.bi.remove(this.element,"click",this.clickHandler),this.destroyScroll(),this.unwireKeyboardEvent(),window.removeEventListener("resize",this.resizeContext),window.removeEventListener("orientationchange",this.orientationChangeContext),A.bi.remove(document,"scroll",this.docEvent),A.bi.remove(document,"click",this.docEvent)},t.prototype.clearProperty=function(){this.tbarEle=[],this.tbarAlgEle={lefts:[],centers:[],rights:[]}},t.prototype.docEvent=function(e){var t=(0,A.oq)(e.target,".e-popup");this.popObj&&(0,A.pn)(this.popObj.element)&&!t&&"Popup"===this.overflowMode&&this.popObj.hide({name:"FadeOut",duration:100})},t.prototype.destroyScroll=function(){this.scrollModule&&(this.tbarAlign&&this.add(this.scrollModule.element,eA),this.scrollModule.destroy(),this.scrollModule=null)},t.prototype.destroyItems=function(){if(this.element&&[].slice.call(this.element.querySelectorAll("."+eu)).forEach(function(e){(0,A.og)(e)}),this.tbarAlign){var e=this.element.querySelector("."+ec);[].slice.call(e.children).forEach(function(e){(0,A.og)(e)}),this.tbarAlign=!1,this.remove(e,eA)}this.clearProperty()},t.prototype.destroyMode=function(){this.scrollModule&&(this.remove(this.scrollModule.element,ed),this.destroyScroll()),this.remove(this.element,eB),this.remove(this.element,eW);var e=this.element.querySelector(".e-toolbar-multirow");e&&this.remove(e,eH),this.popObj&&this.popupRefresh(this.popObj.element,!0)},t.prototype.add=function(e,t){e.classList.add(t)},t.prototype.remove=function(e,t){e.classList.remove(t)},t.prototype.elementFocus=function(e){var t=e.firstElementChild;t?(t.focus(),this.activeEleSwitch(e)):e.focus()},t.prototype.clstElement=function(e,t){return e&&this.popObj&&(0,A.pn)(this.popObj.element)?this.popObj.element.querySelector("."+eu):this.element===t||e?this.element.querySelector("."+eu+":not(."+eb+" ):not(."+em+" ):not(."+eP+" )"):(0,A.oq)(t,"."+eu)},t.prototype.keyHandling=function(e,t,i,n,r){var a,s,o=this.popObj,l=this.element,h={name:"FadeOut",duration:100},p="moveUp"===t.action?"previous":"next";switch(t.action){case"moveRight":if(this.isVertical)return;l===i?this.elementFocus(e):n||this.eleFocus(e,"next");break;case"moveLeft":if(this.isVertical)return;n||this.eleFocus(e,"previous");break;case"home":case"end":if(e){var c=(0,A.oq)(e,".e-popup"),u=this.element.querySelector("."+ez);"Extended"===this.overflowMode&&u&&u.classList.contains("e-popup-open")&&(c="end"===t.action?u:null),c?(0,A.pn)(this.popObj.element)&&(s=[].slice.call(c.children),a="home"===t.action?this.focusFirstVisibleEle(s):this.focusLastVisibleEle(s)):(s=this.element.querySelectorAll("."+ec+" ."+eu+":not(."+em+")"),a="home"===t.action?this.focusFirstVisibleEle(s):this.focusLastVisibleEle(s)),a&&this.elementFocus(a)}break;case"moveUp":case"moveDown":if(this.isVertical)"moveUp"===t.action?this.eleFocus(e,"previous"):this.eleFocus(e,"next");else if(o&&(0,A.oq)(i,".e-popup")){var d=o.element,m=d.firstElementChild;"previous"===p&&m===e?d.lastElementChild.firstChild.focus():"next"===p&&d.lastElementChild===e?m.firstChild.focus():this.eleFocus(e,p)}else"moveDown"===t.action&&o&&(0,A.pn)(o.element)&&this.elementFocus(e);break;case"tab":if(!r&&!n){var v=e.firstElementChild;l===i&&(this.activeEle?this.activeEle.focus():(this.activeEleRemove(v),v.focus()))}break;case"popupClose":o&&"Extended"!==this.overflowMode&&o.hide(h);break;case"popupOpen":if(!n)return;o&&!(0,A.pn)(o.element)?(o.element.style.top=l.offsetHeight+"px",o.show({name:"FadeIn",duration:100})):o.hide(h)}},t.prototype.keyActionHandler=function(e){var t=e.target;if(!("INPUT"===t.tagName||"TEXTAREA"===t.tagName||this.element.classList.contains(eb))){e.preventDefault();var i=t.classList.contains(eS),n=t.classList.contains(eE),r=this.clstElement(i,t);(r||n)&&this.keyHandling(r,e,t,i,n)}},t.prototype.disable=function(e){var t=this.element;e?t.classList.add(eb):t.classList.remove(eb),this.activeEle&&this.activeEle.setAttribute("tabindex",this.activeEle.getAttribute("data-tabindex")),this.scrollModule&&this.scrollModule.disable(e),this.popObj&&((0,A.pn)(this.popObj.element)&&"Extended"!==this.overflowMode&&this.popObj.hide(),t.querySelector("#"+t.id+"_nav").setAttribute("tabindex",e?"-1":"0"))},t.prototype.eleContains=function(e){return e.classList.contains(em)||e.classList.contains(eb)||e.getAttribute("disabled")||e.classList.contains(eP)||!(0,A.pn)(e)||!e.classList.contains(eu)},t.prototype.focusFirstVisibleEle=function(e){for(var t,i=0;i<e.length;){var n=e[parseInt(i.toString(),10)];if(!n.classList.contains(eP)&&!n.classList.contains(eb))return n;i++}return t},t.prototype.focusLastVisibleEle=function(e){for(var t,i=e.length-1;i>=0;){var n=e[parseInt(i.toString(),10)];if(!n.classList.contains(eP)&&!n.classList.contains(eb))return n;i--}return t},t.prototype.eleFocus=function(e,t){var i=Object(e)[t+"ElementSibling"];if(i){if(this.eleContains(i)){this.eleFocus(i,t);return}this.elementFocus(i)}else if(this.tbarAlign){var n=Object(e.parentElement)[t+"ElementSibling"];if((0,A.le)(n)||0!==n.children.length||(n=Object(n)[t+"ElementSibling"]),!(0,A.le)(n)&&n.children.length>0){if("next"===t){var r=n.querySelector("."+eu);this.eleContains(r)?this.eleFocus(r,t):(r.firstElementChild.focus(),this.activeEleSwitch(r))}else{var r=n.lastElementChild;this.eleContains(r)?this.eleFocus(r,t):this.elementFocus(r)}}}else if(!(0,A.le)(e)){var a=this.element.querySelectorAll("."+ec+" ."+eu+":not(."+em+"):not(."+eb+"):not(."+eP+")");"next"===t&&a?this.elementFocus(a[0]):"previous"===t&&a&&this.elementFocus(a[a.length-1])}},t.prototype.clickHandler=function(e){var t,i=this,n=e.target,r=this.element,a=!(0,A.le)((0,A.oq)(n,"."+eM)),s=n.classList,o=(0,A.oq)(n,"."+eS);o||(o=n),!r.children[0].classList.contains("e-hscroll")&&!r.children[0].classList.contains("e-vscroll")&&s.contains(eS)&&(s=n.querySelector(".e-icons").classList),(s.contains(ev)||s.contains(eg))&&this.popupClickHandler(r,o,ed);var l=(0,A.oq)(e.target,"."+eu);if(!((0,A.le)(l)||l.classList.contains(eb))||o.classList.contains(eS)){l&&(t=this.items[this.tbarEle.indexOf(l)]);var h={originalEvent:e,item:t};t&&!(0,A.le)(t.click)&&this.trigger("items["+this.tbarEle.indexOf(l)+"].click",h),h.cancel||this.trigger("clicked",h,function(e){!(0,A.le)(i.popObj)&&a&&!e.cancel&&"Popup"===i.overflowMode&&e.item&&"Input"!==e.item.type&&i.popObj.hide({name:"FadeOut",duration:100})})}},t.prototype.popupClickHandler=function(e,t,i){var n=this.popObj;(0,A.pn)(n.element)?(t.classList.remove(eI),n.hide({name:"FadeOut",duration:100})):(e.classList.contains(i)&&(n.enableRtl=!0,n.position={X:"left",Y:"top"}),0!==n.offsetX||e.classList.contains(i)||(n.enableRtl=!1,n.position={X:"right",Y:"top"}),n.dataBind(),n.refreshPosition(),n.element.style.top=this.getElementOffsetY()+"px","Extended"===this.overflowMode&&(n.element.style.minHeight="0px"),t.classList.add(eI),n.show({name:"FadeIn",duration:100}))},t.prototype.render=function(){this.initialize(),this.renderControl(),this.wireEvents(),this.renderComplete(),this.isReact&&this.portals&&this.portals.length>0&&this.renderReactTemplates(function(){this.refreshOverflow()})},t.prototype.initialize=function(){var e=(0,A.Ac)(this.width),t=(0,A.Ac)(this.height);("msie"!==A.AR.info.name||"auto"!==this.height||"MultiRow"===this.overflowMode)&&(0,A.V7)(this.element,{height:t}),(0,A.V7)(this.element,{width:e});var i={role:"toolbar","aria-disabled":"false","aria-orientation":this.isVertical?"vertical":"horizontal"};(0,A.Y4)(this.element,i),this.cssClass&&(0,A.cn)([this.element],this.cssClass.split(" "))},t.prototype.renderControl=function(){var e=this.element;this.trgtEle=e.children.length>0?e.querySelector("div"):null,this.tbarAlgEle={lefts:[],centers:[],rights:[]},this.renderItems(),this.renderLayout()},t.prototype.renderLayout=function(){this.renderOverflowMode(),this.tbarAlign&&this.itemPositioning(),this.popObj&&this.popObj.element.childElementCount>1&&this.checkPopupRefresh(this.element,this.popObj.element)&&this.popupRefresh(this.popObj.element,!1),this.separator()},t.prototype.itemsAlign=function(e,t){this.tbarEle||(this.tbarEle=[]);for(var i,n,r=0;r<e.length;r++)i=this.renderSubComponent(e[parseInt(r.toString(),10)],r),-1===this.tbarEle.indexOf(i)&&this.tbarEle.push(i),this.tbarAlign||this.tbarItemAlign(e[parseInt(r.toString(),10)],t,r),(n=t.querySelector(".e-toolbar-"+e[parseInt(r.toString(),10)].align.toLowerCase()))?(e[parseInt(r.toString(),10)].showAlwaysInPopup&&"Show"!==e[parseInt(r.toString(),10)].overflow||this.tbarAlgEle[(e[parseInt(r.toString(),10)].align+"s").toLowerCase()].push(i),n.appendChild(i)):t.appendChild(i);this.isReact&&(this.notify("render-react-toolbar-template",this.portals),this.renderReactTemplates())},t.prototype.changeOrientation=function(){var e=this.element;this.isVertical?(e.classList.remove(ep),this.isVertical=!1,("auto"===this.height||"100%"===this.height)&&(e.style.height=this.height),e.setAttribute("aria-orientation","horizontal")):(e.classList.add(ep),this.isVertical=!0,e.setAttribute("aria-orientation","vertical"),(0,A.V7)(this.element,{height:(0,A.Ac)(this.height),width:(0,A.Ac)(this.width)})),this.destroyMode(),this.refreshOverflow()},t.prototype.initScroll=function(e,t){!this.scrollModule&&this.checkOverflow(e,t[0])&&(this.tbarAlign&&this.element.querySelector("."+ec+" ."+ek).removeAttribute("style"),this.isVertical?this.scrollModule=new eo({scrollStep:this.scrollStep,enableRtl:this.enableRtl},t[0]):this.scrollModule=new _({scrollStep:this.scrollStep,enableRtl:this.enableRtl},t[0]),this.cssClass&&(0,A.cn)([t[0]],this.cssClass.split(" ")),this.remove(this.scrollModule.element,eA),(0,A.V7)(this.element,{overflow:"hidden"}))},t.prototype.itemWidthCal=function(e){var t,i=this,n=0;return[].slice.call((0,A.td)("."+eu,e)).forEach(function(e){(0,A.pn)(e)&&(t=window.getComputedStyle(e),n+=(i.isVertical?e.offsetHeight:e.offsetWidth)+parseFloat(i.isVertical?t.marginTop:t.marginRight)+parseFloat(i.isVertical?t.marginBottom:t.marginLeft))}),n},t.prototype.getScrollCntEle=function(e){var t=this.isVertical?".e-vscroll-content":".e-hscroll-content";return e.querySelector(t)},t.prototype.checkOverflow=function(e,t){if((0,A.le)(e)||(0,A.le)(t)||!(0,A.pn)(e))return!1;var i=this.isVertical?e.offsetHeight:e.offsetWidth,n=this.isVertical?t.offsetHeight:t.offsetWidth;(this.tbarAlign||this.scrollModule||i===n)&&(n=this.itemWidthCal(this.scrollModule?this.getScrollCntEle(t):t));var r=e.querySelector("."+eS),a=e.querySelector("."+eE),s=0;return r?s=this.isVertical?r.offsetHeight:r.offsetWidth:a&&(s=this.isVertical?2*a.offsetHeight:2*a.offsetWidth),n>i-s},t.prototype.refreshOverflow=function(){this.resize()},t.prototype.toolbarAlign=function(e){this.tbarAlign&&(this.add(e,eA),this.itemPositioning())},t.prototype.renderOverflowMode=function(){var e=this.element,t=e.querySelector("."+ec),i=this.popupPriCount>0;if(e&&e.children.length>0)switch(this.offsetWid=e.offsetWidth,this.remove(this.element,"e-toolpop"),"msie"===A.AR.info.name&&"auto"===this.height&&(e.style.height=""),this.overflowMode){case"Scrollable":(0,A.le)(this.scrollModule)&&this.initScroll(e,[].slice.call(e.getElementsByClassName(ec)));break;case"Popup":this.add(this.element,"e-toolpop"),this.tbarAlign&&this.removePositioning(),(this.checkOverflow(e,t)||i)&&this.setOverflowAttributes(e),this.toolbarAlign(t);break;case"MultiRow":this.add(t,eH),this.checkOverflow(e,t)&&this.tbarAlign&&(this.removePositioning(),this.add(t,eL)),"hidden"===e.style.overflow&&(e.style.overflow=""),("msie"===A.AR.info.name||"auto"!==e.style.height)&&(e.style.height="auto");break;case"Extended":this.add(this.element,eW),(this.checkOverflow(e,t)||i)&&(this.tbarAlign&&this.removePositioning(),this.setOverflowAttributes(e)),this.toolbarAlign(t)}},t.prototype.setOverflowAttributes=function(e){this.createPopupEle(e,[].slice.call((0,A.td)("."+ec+" ."+eu,e))),(0,A.Y4)(this.element.querySelector("."+eS),{tabindex:"0",role:"button","aria-haspopup":"true","aria-label":"overflow"})},t.prototype.separator=function(){var e=this.element,t=[].slice.call(e.querySelectorAll("."+em)),i=e.querySelector("."+eq),n=e.querySelector("."+eF),r="MultiRow"===this.overflowMode?i:n;null!==r&&("MultiRow"===this.overflowMode?r.classList.remove(eq):"Extended"===this.overflowMode&&r.classList.remove(eF));for(var a=0;a<=t.length-1;a++)t[parseInt(a.toString(),10)].offsetLeft<30&&0!==t[parseInt(a.toString(),10)].offsetLeft&&("MultiRow"===this.overflowMode?t[parseInt(a.toString(),10)].classList.add(eq):"Extended"===this.overflowMode&&t[parseInt(a.toString(),10)].classList.add(eF))},t.prototype.createPopupEle=function(e,t){var i=e.querySelector("."+eS),n=this.isVertical;i||this.createPopupIcon(e),i=e.querySelector("."+eS);var r=n?i.offsetHeight:i.offsetWidth,a=(n?e.offsetHeight:e.offsetWidth)-r;this.element.classList.remove("e-rtl"),(0,A.V7)(this.element,{direction:"initial"}),this.checkPriority(e,t,a,!0),this.enableRtl&&this.element.classList.add("e-rtl"),this.element.style.removeProperty("direction"),this.createPopup()},t.prototype.pushingPoppedEle=function(e,t,i,n,r){var a=e.element,s=[].slice.call((0,A.td)("."+ex,a.querySelector("."+ec))),o=(0,A.td)("."+ew,i),l=0,h=0;s.forEach(function(a,s){o=(0,A.td)("."+ew,i),a.classList.contains(ew)&&o.length>0?(e.tbResize&&o.length>s?i.insertBefore(a,o[parseInt(s.toString(),10)]):i.insertBefore(a,i.children[o.length]),++h):a.classList.contains(ew)?(i.insertBefore(a,i.firstChild),++h):e.tbResize&&a.classList.contains(eC)&&i.children.length>0&&0===o.length?(i.insertBefore(a,i.firstChild),++h):a.classList.contains(eC)?t.push(a):e.tbResize?(i.insertBefore(a,i.childNodes[l+h]),++l):i.appendChild(a),a.classList.contains(em)?(0,A.V7)(a,{display:"",height:r+"px"}):(0,A.V7)(a,{display:"",height:n+"px"})}),t.forEach(function(e){i.appendChild(e)});for(var p=(0,A.td)("."+eu,a.querySelector("."+ec)),c=p.length-1;c>=0;c--){var u=p[parseInt(c.toString(),10)];if(u.classList.contains(em)&&"Extended"!==this.overflowMode)(0,A.V7)(u,{display:"none"});else break}},t.prototype.createPopup=function(){var e,t,i,n=this.element;"Extended"===this.overflowMode&&(t=n.querySelector("."+em),e="auto"===n.style.height||""===n.style.height?null:t&&t.offsetHeight);var r=n.querySelector("."+eu+":not(."+em+"):not(."+ex+")"),a="auto"===n.style.height||""===n.style.height?null:r&&r.offsetHeight;if((0,A.Ys)("#"+n.id+"_popup."+eM,n))i=(0,A.Ys)("#"+n.id+"_popup."+eM,n);else{var s=this.createElement("div",{id:n.id+"_popup",className:eM+" "+ez}),o=this.createElement("div",{id:n.id+"_popup",className:eM});i="Extended"===this.overflowMode?s:o}this.pushingPoppedEle(this,[],i,a,e),this.popupInit(n,i)},t.prototype.getElementOffsetY=function(){return"Extended"===this.overflowMode&&"border-box"===window.getComputedStyle(this.element).getPropertyValue("box-sizing")?this.element.clientHeight:this.element.offsetHeight},t.prototype.popupInit=function(e,t){if(this.popObj){var i=this.popObj.element;(0,A.V7)(i,{maxHeight:"",display:"block"}),(0,A.V7)(i,{maxHeight:i.offsetHeight+"px",display:""})}else{e.appendChild(t),this.cssClass&&(0,A.cn)([t],this.cssClass.split(" ")),(0,A.V7)(this.element,{overflow:""});var n=window.getComputedStyle(this.element),r=new M.GI(null,{relateTo:this.element,offsetY:this.isVertical?0:this.getElementOffsetY(),enableRtl:this.enableRtl,open:this.popupOpen.bind(this),close:this.popupClose.bind(this),collision:{Y:this.enableCollision?"flip":"none"},position:this.enableRtl?{X:"left",Y:"top"}:{X:"right",Y:"top"}});if("Extended"===this.overflowMode&&(r.width=parseFloat(n.width)+2*parseFloat(n.borderRightWidth),r.offsetX=0),r.appendTo(t),A.bi.add(document,"scroll",this.docEvent.bind(this)),A.bi.add(document,"click ",this.docEvent.bind(this)),r.element.style.maxHeight=r.element.offsetHeight+"px",this.isVertical&&(r.element.style.visibility="hidden"),this.isExtendedOpen){var a=this.element.querySelector("."+eS);a.classList.add(eI),(0,A.s1)(a.firstElementChild,[ev],[eg]),this.element.querySelector("."+ez).classList.add(ef)}else r.hide();this.popObj=r}},t.prototype.tbarPopupHandler=function(e){"Extended"===this.overflowMode&&(e?this.add(this.element,eB):this.remove(this.element,eB))},t.prototype.popupOpen=function(e){var t=this.popObj;this.isVertical||(t.offsetY=this.getElementOffsetY(),t.dataBind());var i=this.popObj.element,n=this.popObj.element.parentElement,r=n.querySelector("."+eS);r.setAttribute("aria-expanded","true"),(0,A.V7)(t.element,{height:"auto",maxHeight:""}),t.element.style.maxHeight=t.element.offsetHeight+"px","Extended"===this.overflowMode&&(t.element.style.minHeight="");var a=i.offsetTop+i.offsetHeight+(0,x.k)(n).top,s=r.firstElementChild;r.classList.add(eI),(0,A.s1)(s,[ev],[eg]),this.tbarPopupHandler(!0);var o=(0,A.le)(window.scrollY)?0:window.scrollY;if(!this.isVertical&&window.innerHeight+o<a&&this.element.offsetTop<i.offsetHeight){var l=i.offsetHeight-(a-window.innerHeight-o+5);t.height=l+"px";for(var h=0;h<=i.childElementCount;h++){var p=i.children[parseInt(h.toString(),10)];if(p.offsetTop+p.offsetHeight>l){l=p.offsetTop;break}}(0,A.V7)(t.element,{maxHeight:l+"px"})}else if(this.isVertical){var c=this.element.getBoundingClientRect();(0,A.V7)(t.element,{maxHeight:c.top+this.element.offsetHeight+"px",bottom:0,visibility:""})}if(t){var u=i.getBoundingClientRect();u.right>document.documentElement.clientWidth&&u.width>n.getBoundingClientRect().width&&(t.collision={Y:"none"},t.dataBind()),t.refreshPosition()}},t.prototype.popupClose=function(e){var t=this.element.querySelector("."+eS);t.setAttribute("aria-expanded","false");var i=t.firstElementChild;t.classList.remove(eI),(0,A.s1)(i,[eg],[ev]),this.tbarPopupHandler(!1)},t.prototype.checkPriority=function(e,t,i,n){for(var r,a=this.popupPriCount>0,s=t.length,o=i,l=0,h=0,p=0,c=function(e,t){var i=!1;return t.forEach(function(t){e.classList.contains(t)&&(i=!0)}),i},u=s-1;u>=0;u--){var d=void 0,m=window.getComputedStyle(t[parseInt(u.toString(),10)]);d=this.isVertical?parseFloat(m.marginTop)+parseFloat(m.marginBottom):parseFloat(m.marginRight)+parseFloat(m.marginLeft);var v=t[parseInt(u.toString(),10)]===this.tbarEle[0];v&&(this.tbarEleMrgn=d),r=this.isVertical?t[parseInt(u.toString(),10)].offsetHeight:t[parseInt(u.toString(),10)].offsetWidth;var g=v?r+d:r;if(c(t[parseInt(u.toString(),10)],[eR])&&a&&(t[parseInt(u.toString(),10)].classList.add(ex),this.isVertical?(0,A.V7)(t[parseInt(u.toString(),10)],{display:"none",minHeight:g+"px"}):(0,A.V7)(t[parseInt(u.toString(),10)],{display:"none",minWidth:g+"px"}),p++),this.isVertical?t[parseInt(u.toString(),10)].offsetTop+t[parseInt(u.toString(),10)].offsetHeight+d>i:t[parseInt(u.toString(),10)].offsetLeft+t[parseInt(u.toString(),10)].offsetWidth+d>i){if(t[parseInt(u.toString(),10)].classList.contains(em)){if("Extended"===this.overflowMode){var f=t[parseInt(u.toString(),10)];c(f,[em,eO])&&(t[parseInt(u.toString(),10)].classList.add(ex),p++),h++}else if("Popup"===this.overflowMode){if(l>0&&h===p){var f=t[u+h+(l-1)];c(f,[em,eO])&&(0,A.V7)(f,{display:"none"})}l++,h=0,p=0}}else h++;t[parseInt(u.toString(),10)].classList.contains(ew)&&n?i-=(this.isVertical?t[parseInt(u.toString(),10)].offsetHeight:t[parseInt(u.toString(),10)].offsetWidth)+d:c(t[parseInt(u.toString(),10)],[em,eO])?i-=(this.isVertical?t[parseInt(u.toString(),10)].offsetHeight:t[parseInt(u.toString(),10)].offsetWidth)+d:(t[parseInt(u.toString(),10)].classList.add(ex),this.isVertical?(0,A.V7)(t[parseInt(u.toString(),10)],{display:"none",minHeight:g+"px"}):(0,A.V7)(t[parseInt(u.toString(),10)],{display:"none",minWidth:g+"px"}),p++)}}if(n){var y=(0,A.td)("."+eu+":not(."+ex+")",this.element);this.checkPriority(e,y,o,!1)}},t.prototype.createPopupIcon=function(e){var t=e.id.concat("_nav"),i="e-"+e.id.concat("_nav e-hor-nav");i="Extended"===this.overflowMode?i+" e-expended-nav":i;var n=this.createElement("div",{id:t,className:i});("msie"===A.AR.info.name||"edge"===A.AR.info.name)&&n.classList.add("e-ie-align");var r=this.createElement("div",{className:eg+" e-icons"});n.appendChild(r),n.setAttribute("tabindex","0"),n.setAttribute("role","button"),e.appendChild(n)},t.prototype.tbarPriRef=function(e,t,i,n,r,a,s,o,l){var h=this.popObj.element,p="."+eu+":not(."+em+"):not(."+ew+")",c=(0,A.td)("."+ex+":not(."+ew+")",h).length,u=function(e,t){return e.classList.contains(t)};if(0===(0,A.td)(p,e).length){var d=e.children[t-(t-i)-1],m=!(0,A.le)(d)&&u(d,eO);if(!(0,A.le)(d)&&u(d,em)&&!(0,A.pn)(d)||m){d.style.display="unset";var v=d.offsetWidth+2*parseFloat(window.getComputedStyle(d).marginRight),g=d.previousElementSibling;a+v<s||r?(e.insertBefore(n,e.children[t+o-(t-i)]),(0,A.le)(g)||(g.style.display="")):((0,A.V7)(n,l),g.classList.contains(em)&&(g.style.display="none")),d.style.display=""}else e.insertBefore(n,e.children[t+o-(t-i)])}else e.insertBefore(n,e.children[t+o-c])},t.prototype.popupRefresh=function(e,t){var i,n=this,r=this.element,a=this.isVertical,s=r.querySelector("."+ec),o=r.querySelector("."+eS);if(!(0,A.le)(o)){s.removeAttribute("style"),e.style.display="block",i=a?r.offsetHeight-(o.offsetHeight+s.offsetHeight):r.offsetWidth-(o.offsetWidth+s.offsetWidth);var l=0;[].slice.call(e.children).forEach(function(e){l+=n.popupEleWidth(e),(0,A.V7)(e,{position:""})}),i+(a?o.offsetHeight:o.offsetWidth)>l&&0===this.popupPriCount&&(t=!0),this.popupEleRefresh(i,e,t),e.style.display="",0===e.children.length&&o&&this.popObj&&((0,A.og)(o),o=null,this.popObj.destroy(),(0,A.og)(this.popObj.element),this.popObj=null)}},t.prototype.ignoreEleFetch=function(e,t){var i=[].slice.call(t.querySelectorAll("."+eO)),n=[],r=0;return i.length>0?(i.forEach(function(e){n.push([].slice.call(t.children).indexOf(e))}),n.forEach(function(t){t<=e&&r++}),r):0},t.prototype.checkPopupRefresh=function(e,t){t.style.display="block";var i=this.popupEleWidth(t.firstElementChild);t.firstElementChild.style.removeProperty("Position");var n=e.offsetWidth-e.querySelector("."+eS).offsetWidth,r=e.querySelector("."+ec).offsetWidth;return t.style.removeProperty("display"),n>i+r},t.prototype.popupEleWidth=function(e){e.style.position="absolute";var t=this.isVertical?e.offsetHeight:e.offsetWidth,i=e.querySelector(".e-tbar-btn-text");if(e.classList.contains("e-tbtn-align")||e.classList.contains(eD)){var n=e.children[0];!(0,A.le)(i)&&e.classList.contains(eD)?i.style.display="none":!(0,A.le)(i)&&e.classList.contains(eT)&&(i.style.display="block"),n.style.minWidth="0%",t=parseFloat(this.isVertical?e.style.minHeight:e.style.minWidth),n.style.minWidth="",n.style.minHeight="",(0,A.le)(i)||(i.style.display="")}return t},t.prototype.popupEleRefresh=function(e,t,i){for(var n,r,a=this.popupPriCount>0,s=this.tbarEle,o=this.element.querySelector("."+ec),l=0,h=this,p=0,c=[].slice.call(t.children);p<c.length&&"break"!==function(t){if(t.classList.contains(eR)&&a&&!i)return"continue";var p=h.popupEleWidth(t);if(t===h.tbarEle[0]&&(p+=h.tbarEleMrgn),t.style.position="",!(p<e)&&!i)return"break";var c={minWidth:t.style.minWidth,height:t.style.height,minHeight:t.style.minHeight};if((0,A.V7)(t,{minWidth:"",height:"",minHeight:""}),t.classList.contains(eC)||t.classList.remove(ex),r=h.tbarEle.indexOf(t),h.tbarAlign){var u=h.items[parseInt(r.toString(),10)].align;r=h.tbarAlgEle[(u+"s").toLowerCase()].indexOf(t),s=h.tbarAlgEle[(u+"s").toLowerCase()],o=h.element.querySelector("."+ec+" .e-toolbar-"+u.toLowerCase())}var d=0;"Extended"!==h.overflowMode&&s.slice(0,r).forEach(function(t){(t.classList.contains(ew)||t.classList.contains(em))&&(t.classList.contains(em)&&(t.style.display="",e-=t.offsetWidth),d++)}),l=h.ignoreEleFetch(r,o),t.classList.contains(ew)?h.tbarPriRef(o,r,d,t,i,p,e,l,c):0===r?o.insertBefore(t,o.firstChild):(n=(0,A.td)("."+ew,h.popObj.element).length,o.insertBefore(t,o.children[r+l-n])),e-=t.offsetWidth,t.style.height=""}(c[p]);p++);this.checkOverflow(this.element,this.element.getElementsByClassName(ec)[0])&&!i&&this.renderOverflowMode()},t.prototype.removePositioning=function(){var e=this.element.querySelector("."+ec);if(!(0,A.le)(e)&&e.classList.contains(eA)){this.remove(e,eA);var t=[].slice.call(e.childNodes);t[1].removeAttribute("style"),t[2].removeAttribute("style")}},t.prototype.refreshPositioning=function(){var e=this.element.querySelector("."+ec);this.add(e,eA),this.itemPositioning()},t.prototype.itemPositioning=function(){var e,t,i=this.element.querySelector("."+ec);if(!(0,A.le)(i)&&i.classList.contains(eA)){var n=this.element.querySelector("."+eS);if(this.scrollModule){var r=this.isVertical?"e-vscroll-content":"e-hscroll-content";t=[].slice.call(i.querySelector("."+r).children)}else t=[].slice.call(i.childNodes);e=this.isVertical?t[0].offsetHeight+t[2].offsetHeight:t[0].offsetWidth+t[2].offsetWidth;var a=this.isVertical?this.element.offsetHeight:this.element.offsetWidth;if(n){a-=this.isVertical?n.offsetHeight:n.offsetWidth;var s=(this.isVertical?n.offsetHeight:n.offsetWidth)+"px";t[2].removeAttribute("style"),this.isVertical?this.enableRtl?t[2].style.top=s:t[2].style.bottom=s:this.enableRtl?t[2].style.left=s:t[2].style.right=s}if(!(a<=e)){var o=(a-e-(this.isVertical?t[1].offsetHeight:t[1].offsetWidth))/2;t[1].removeAttribute("style");var l=(this.isVertical?t[0].offsetHeight:t[0].offsetWidth)+o+"px";this.isVertical?this.enableRtl?t[1].style.marginBottom=l:t[1].style.marginTop=l:this.enableRtl?t[1].style.marginRight=l:t[1].style.marginLeft=l}}},t.prototype.tbarItemAlign=function(e,t,i){var n=this;if(!e.showAlwaysInPopup||"Show"===e.overflow){var r=[];if(r.push(this.createElement("div",{className:"e-toolbar-left"})),r.push(this.createElement("div",{className:ek})),r.push(this.createElement("div",{className:"e-toolbar-right"})),0===i&&"Left"!==e.align)r.forEach(function(e){t.appendChild(e)}),this.tbarAlign=!0,this.add(t,eA);else if("Left"!==e.align){var a=t.childNodes,s=r[0];[].slice.call(a).forEach(function(e){n.tbarAlgEle.lefts.push(e),s.appendChild(e)}),t.appendChild(s),t.appendChild(r[1]),t.appendChild(r[2]),this.tbarAlign=!0,this.add(t,eA)}}},t.prototype.ctrlTemplate=function(){var e=this;this.ctrlTem=this.trgtEle.cloneNode(!0),this.add(this.trgtEle,ec),this.tbarEle=[],[].slice.call(this.trgtEle.children).forEach(function(t){"DIV"===t.tagName&&(e.tbarEle.push(t),(0,A.le)(t.firstElementChild)||t.firstElementChild.setAttribute("aria-disabled","false"),e.add(t,eu))})},t.prototype.renderItems=function(){var e=this.element,t=this.items;if(null!=this.trgtEle)this.ctrlTemplate();else if(e&&t.length>0){var i=void 0;e&&e.children.length>0&&(i=e.querySelector("."+ec)),i||(i=this.createElement("div",{className:ec})),this.itemsAlign(t,i),e.appendChild(i)}},t.prototype.setAttr=function(e,t){for(var i,n=Object.keys(e),r=0;r<n.length;r++)"class"===(i=n[parseInt(r.toString(),10)])?this.add(t,e[""+i]):t.setAttribute(i,e[""+i])},t.prototype.enableItems=function(e,t){var i,n=e.length;(0,A.le)(t)&&(t=!0);var r=function(e,t){e?(t.classList.remove(eb),(0,A.le)(t.firstElementChild)||t.firstElementChild.setAttribute("aria-disabled","false")):(t.classList.add(eb),(0,A.le)(t.firstElementChild)||t.firstElementChild.setAttribute("aria-disabled","true"))};if(!(0,A.le)(n)&&n>=1){for(var a=0,s=[].slice.call(e);a<n;a++){var o=s[parseInt(a.toString(),10)];if("number"==typeof o){if(i=this.getElementByIndex(o),(0,A.le)(i))return;e[parseInt(a.toString(),10)]=i}else i=o;r(t,i)}t?(0,A.IV)(e,eb):(0,A.cn)(e,eb)}else{if("number"==typeof e){if(i=this.getElementByIndex(e),(0,A.le)(i))return}else i=e;r(t,i)}},t.prototype.getElementByIndex=function(e){return this.tbarEle[parseInt(e.toString(),10)]?this.tbarEle[parseInt(e.toString(),10)]:null},t.prototype.addItems=function(e,t){this.extendedOpen();var i,n,r=this.element.querySelector("."+ec);if((0,A.le)(r)){this.itemsRerender(e);return}var a="Left";(0,A.le)(t)&&(t=0),e.forEach(function(e){(0,A.le)(e.align)||"Left"===e.align||"Left"!==a||(a=e.align)});for(var s=0;s<e.length;s++){var o=e[s];if((0,A.le)(o.type)&&(o.type="Button"),i=(0,A.td)("."+eu,this.element),o.align=a,n=this.renderSubComponent(o,t),this.tbarEle.length>=t&&i.length>=0){(0,A.le)(this.scrollModule)&&this.destroyMode();var l="L"===o.align[0]?0:"C"===o.align[0]?1:2,h=void 0;this.tbarAlign||"Left"===a?this.tbarAlign?((h=(0,A.oq)(i[0],"."+ec).children[parseInt(l.toString(),10)]).insertBefore(n,h.children[parseInt(t.toString(),10)]),this.tbarAlgEle[(o.align+"s").toLowerCase()].splice(t,0,n),this.refreshPositioning()):0===i.length?(i=(0,A.td)("."+ec,this.element))[0].appendChild(n):i[0].parentNode.insertBefore(n,i[parseInt(t.toString(),10)]):(this.tbarItemAlign(o,r,1),this.tbarAlign=!0,(h=(0,A.oq)(i[0],"."+ec).children[parseInt(l.toString(),10)]).appendChild(n),this.tbarAlgEle[(o.align+"s").toLowerCase()].push(n),this.refreshPositioning()),this.items.splice(t,0,o),o.template&&this.tbarEle.splice(this.tbarEle.length-1,1),this.tbarEle.splice(t,0,n),t++,this.offsetWid=r.offsetWidth}}r.style.width="",this.renderOverflowMode(),this.isReact&&this.renderReactTemplates()},t.prototype.removeItems=function(e){var t,i=[].slice.call((0,A.td)("."+eu,this.element));if("number"==typeof e)t=parseInt(e.toString(),10),this.removeItemByIndex(t,i);else if(e&&e.length>1)for(var n=0,r=[].slice.call(e);n<r.length;n++){var a=r[n];t=this.tbarEle.indexOf(a),this.removeItemByIndex(t,i),i=(0,A.td)("."+eu,this.element)}else{var a=e&&e.length&&1===e.length?e[0]:e;t=i.indexOf(a),this.removeItemByIndex(t,i)}this.resize()},t.prototype.removeItemByIndex=function(e,t){if(this.tbarEle[parseInt(e.toString(),10)]&&t[parseInt(e.toString(),10)]){var i=this.tbarEle.indexOf(t[parseInt(e.toString(),10)]);if(this.tbarAlign){var n=this.tbarAlgEle[(this.items[parseInt(i.toString(),10)].align+"s").toLowerCase()].indexOf(this.tbarEle[parseInt(i.toString(),10)]);this.tbarAlgEle[(this.items[parseInt(i.toString(),10)].align+"s").toLowerCase()].splice(parseInt(n.toString(),10),1)}this.isReact&&this.clearToolbarTemplate(t[parseInt(e.toString(),10)]);var r=t[parseInt(e.toString(),10)].querySelector(".e-control.e-btn");(0,A.le)(r)||(0,A.le)(r.ej2_instances[0])||r.ej2_instances[0].isDestroyed||r.ej2_instances[0].destroy(),(0,A.og)(t[parseInt(e.toString(),10)]),this.items.splice(i,1),this.tbarEle.splice(i,1)}},t.prototype.templateRender=function(e,t,i,n){var r,a=i.type;if("object"==typeof e&&(r="function"==typeof e.appendTo),"string"!=typeof e&&r){if("Input"===a){var s=this.createElement("input");i.id?s.id=i.id:s.id=(0,A.QI)("tbr-ipt"),t.appendChild(s),e.appendTo(s)}}else{var o=void 0,l=e,h=new RegExp(/<(?=.*? .*?\/ ?>|br|hr|input|!--|wbr)[a-z]+.*?>|<([a-z]+).*?<\/\1>/i);l="string"==typeof e?e.trim():e;try{if("object"!=typeof e||(0,A.le)(e.tagName)){if("string"==typeof e&&h.test(l))t.innerHTML=l;else if(document.querySelectorAll(l).length){var s=document.querySelector(l),p=s.outerHTML.trim();t.appendChild(s),s.style.display="",(0,A.le)(p)||this.tempId.push(l)}else o=(0,A.MY)(l)}else t.appendChild(e)}catch(e){o=(0,A.MY)(l)}var c=void 0;(0,A.le)(o)||(c=o({},this,"template",this.element.id+n+"_template",this.isStringTemplate,void 0,void 0,this.root)),!(0,A.le)(c)&&c.length>0&&[].slice.call(c).forEach(function(e){(0,A.le)(e.tagName)||(e.style.display=""),t.appendChild(e)})}this.add(t,ey),this.tbarEle.push(t)},t.prototype.buttonRendering=function(e,t){var i,n,r=this.createElement("button",{className:"e-tbar-btn"});r.setAttribute("type","button");var a=e.text;e.id?r.id=e.id:r.id=(0,A.QI)("e-tbr-btn");var s=this.createElement("span",{className:"e-tbar-btn-text"});a?(s.innerHTML=this.enableHtmlSanitizer?A.pJ.sanitize(a):a,r.appendChild(s),r.classList.add("e-tbtn-txt")):this.add(t,"e-tbtn-align"),(e.prefixIcon||e.suffixIcon)&&(e.prefixIcon&&e.suffixIcon||e.prefixIcon?(i=e.prefixIcon+" e-icons",n="Left"):(i=e.suffixIcon+" e-icons",n="Right"));var o=new I.zx({iconCss:i,iconPosition:n});return o.createElement=this.createElement,o.appendTo(r),e.width&&(0,A.V7)(r,{width:(0,A.Ac)(e.width)}),r},t.prototype.renderSubComponent=function(e,t){var i,n=this.createElement("div",{className:eu}),r=this.createElement("div",{innerHTML:this.enableHtmlSanitizer?A.pJ.sanitize(e.tooltipText):e.tooltipText});if(this.tbarEle||(this.tbarEle=[]),e.htmlAttributes&&this.setAttr(e.htmlAttributes,n),e.tooltipText&&n.setAttribute("title",r.textContent),e.cssClass&&(n.className=n.className+" "+e.cssClass),e.template)this.templateRender(e.template,n,e,t);else switch(e.type){case"Button":(i=this.buttonRendering(e,n)).setAttribute("tabindex",(0,A.le)(e.tabIndex)?"-1":e.tabIndex.toString()),i.setAttribute("data-tabindex",(0,A.le)(e.tabIndex)?"-1":e.tabIndex.toString()),i.setAttribute("aria-label",e.text||e.tooltipText),i.setAttribute("aria-disabled","false"),n.appendChild(i),n.addEventListener("click",this.itemClick.bind(this));break;case"Separator":this.add(n,em)}if(e.showTextOn){var a=e.showTextOn;"Toolbar"===a?(this.add(n,eT),this.add(n,"e-tbtn-align")):"Overflow"===a&&this.add(n,eD)}if(e.overflow){var s=e.overflow;"Show"===s?this.add(n,ew):"Hide"!==s||n.classList.contains(em)||this.add(n,eC)}return"Show"!==e.overflow&&e.showAlwaysInPopup&&!n.classList.contains(em)&&(this.add(n,eR),this.popupPriCount++),e.disabled&&this.add(n,eb),!1===e.visible&&this.add(n,eP),n},t.prototype.getDataTabindex=function(e){return(0,A.le)(e.getAttribute("data-tabindex"))?"-1":e.getAttribute("data-tabindex")},t.prototype.itemClick=function(e){this.activeEleSwitch(e.currentTarget)},t.prototype.activeEleSwitch=function(e){this.activeEleRemove(e.firstElementChild),this.activeEle.focus()},t.prototype.activeEleRemove=function(e){(0,A.le)(this.activeEle)||this.activeEle.setAttribute("tabindex",this.getDataTabindex(this.activeEle)),this.activeEle=e,"-1"===this.getDataTabindex(this.activeEle)&&((0,A.le)(this.trgtEle)&&!e.parentElement.classList.contains(ey)?(this.updateTabIndex("-1"),e.removeAttribute("tabindex")):this.activeEle.setAttribute("tabindex",this.getDataTabindex(this.activeEle)))},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.getModuleName=function(){return"toolbar"},t.prototype.itemsRerender=function(e){this.items=this.tbarItemsCol,(this.isReact||this.isAngular)&&this.clearTemplate(),this.destroyMode(),this.destroyItems(),this.items=e,this.tbarItemsCol=this.items,this.renderItems(),this.renderOverflowMode(),this.isReact&&this.renderReactTemplates()},t.prototype.resize=function(){var e=this.element;this.tbResize=!0,this.tbarAlign&&this.itemPositioning(),this.popObj&&"Popup"===this.overflowMode&&this.popObj.hide();var t=this.checkOverflow(e,e.getElementsByClassName(ec)[0]);if(!t){this.destroyScroll();var i=e.querySelector("."+ec);!(0,A.le)(i)&&(this.remove(i,eL),this.tbarAlign&&this.add(i,eA))}if(!t||!this.scrollModule||this.offsetWid!==e.offsetWidth){if((this.offsetWid>e.offsetWidth||t)&&this.renderOverflowMode(),this.popObj){if("Extended"===this.overflowMode){var n=window.getComputedStyle(this.element);this.popObj.width=parseFloat(n.width)+2*parseFloat(n.borderRightWidth)}this.tbarAlign&&this.removePositioning(),this.popupRefresh(this.popObj.element,!1),this.tbarAlign&&this.refreshPositioning()}this.element.querySelector("."+eV)&&(this.scrollStep=this.element.querySelector("."+eV).offsetWidth),this.offsetWid=e.offsetWidth,this.tbResize=!1,this.separator()}},t.prototype.orientationChange=function(){var e=this;setTimeout(function(){e.resize()},500)},t.prototype.extendedOpen=function(){var e=this.element.querySelector("."+ez);"Extended"===this.overflowMode&&e&&(this.isExtendedOpen=e.classList.contains(ef))},t.prototype.updateHideEleTabIndex=function(e,t,i,n,r){i&&(n=r.indexOf(e));for(var a=r[++n];a;){if(!this.eleContains(a)){var s=a.firstElementChild.getAttribute("data-tabindex");t&&"-1"===s?a.firstElementChild.setAttribute("tabindex","0"):s!==a.firstElementChild.getAttribute("tabindex")&&a.firstElementChild.setAttribute("tabindex",s);break}a=r[++n]}},t.prototype.clearToolbarTemplate=function(e){if(this.registeredTemplate&&this.registeredTemplate.template)for(var t=this.registeredTemplate,i=0;i<t.template.length;i++){var n=t.template[parseInt(i.toString(),10)].rootNodes[0],r=(0,A.oq)(n,"."+eu);if(!(0,A.le)(r)&&r===e){this.clearTemplate(["template"],[t.template[parseInt(i.toString(),10)]]);break}}else if(this.portals&&this.portals.length>0)for(var a=this.portals,i=0;i<a.length;i++){var s=a[parseInt(i.toString(),10)],r=(0,A.oq)(s.containerInfo,"."+eu);if(!(0,A.le)(r)&&r===e){this.clearTemplate(["template"],i);break}}},t.prototype.onPropertyChanged=function(e,t){var i=this.element;i.offsetWidth,this.extendedOpen();for(var n=0,r=Object.keys(e);n<r.length;n++)switch(r[n]){case"items":if(e.items instanceof Array&&t.items instanceof Array)this.itemsRerender(e.items);else for(var a=Object.keys(e.items),s=0;s<a.length;s++){var o=parseInt(Object.keys(e.items)[parseInt(s.toString(),10)],10),l=Object.keys(e.items[parseInt(o.toString(),10)])[0],h=Object(e.items[parseInt(o.toString(),10)])[""+l];if(this.tbarAlign||"align"===l){this.refresh(),this.trigger("created");break}var p="showAlwaysInPopup"===l&&!h,c="overflow"===l&&0!==this.popupPriCount;(p||this.items[parseInt(o.toString(),10)].showAlwaysInPopup&&c)&&--this.popupPriCount,(0,A.le)(this.scrollModule)&&this.destroyMode();var u=[].slice.call((0,A.td)("."+ec+" ."+eu,i));this.isReact&&this.items[parseInt(o.toString(),10)].template&&this.clearToolbarTemplate(u[parseInt(o.toString(),10)]),(0,A.og)(u[parseInt(o.toString(),10)]),this.tbarEle.splice(o,1),this.addItems([this.items[parseInt(o.toString(),10)]],o),this.items.splice(o,1),this.items[parseInt(o.toString(),10)].template&&this.tbarEle.splice(this.items.length,1)}break;case"width":(0,A.V7)(i,{width:(0,A.Ac)(e.width)}),this.refreshOverflow();break;case"height":(0,A.V7)(this.element,{height:(0,A.Ac)(e.height)});break;case"overflowMode":this.destroyMode(),this.renderOverflowMode(),this.enableRtl&&this.add(i,ed),this.refreshOverflow();break;case"enableRtl":e.enableRtl?this.add(i,ed):this.remove(i,ed),(0,A.le)(this.scrollModule)||(e.enableRtl?this.add(this.scrollModule.element,ed):this.remove(this.scrollModule.element,ed)),(0,A.le)(this.popObj)||(e.enableRtl?this.add(this.popObj.element,ed):this.remove(this.popObj.element,ed)),this.tbarAlign&&this.itemPositioning();break;case"scrollStep":this.scrollModule&&(this.scrollModule.scrollStep=this.scrollStep);break;case"enableCollision":this.popObj&&(this.popObj.collision={Y:this.enableCollision?"flip":"none"});break;case"cssClass":t.cssClass&&(0,A.IV)([this.element],t.cssClass.split(" ")),e.cssClass&&(0,A.cn)([this.element],e.cssClass.split(" "));break;case"allowKeyboard":this.unwireKeyboardEvent(),e.allowKeyboard&&this.wireKeyboardEvent()}},t.prototype.hideItem=function(e,t){var i,n="object"==typeof e;if(!(!n&&(0,A.le)(e))){var r=[].slice.call((0,A.td)("."+eu,this.element));n?i=e:this.tbarEle[parseInt(e.toString(),10)]&&(i=[].slice.call((0,A.td)("."+eu,this.element))[parseInt(e.toString(),10)]),i&&(t?(i.classList.add(eP),!i.classList.contains(em)&&((0,A.le)(i.firstElementChild.getAttribute("tabindex"))||"-1"!==i.firstElementChild.getAttribute("tabindex"))&&this.updateHideEleTabIndex(i,t,n,e,r)):(i.classList.remove(eP),i.classList.contains(em)||this.updateHideEleTabIndex(i,t,n,e,r)),this.refreshOverflow())}},eh([(0,A.FE)([],ej)],t.prototype,"items",void 0),eh([(0,A.Z9)("auto")],t.prototype,"width",void 0),eh([(0,A.Z9)("auto")],t.prototype,"height",void 0),eh([(0,A.Z9)("")],t.prototype,"cssClass",void 0),eh([(0,A.Z9)("Scrollable")],t.prototype,"overflowMode",void 0),eh([(0,A.Z9)()],t.prototype,"scrollStep",void 0),eh([(0,A.Z9)(!0)],t.prototype,"enableCollision",void 0),eh([(0,A.Z9)(!0)],t.prototype,"enableHtmlSanitizer",void 0),eh([(0,A.Z9)(!0)],t.prototype,"allowKeyboard",void 0),eh([(0,A.ju)()],t.prototype,"clicked",void 0),eh([(0,A.ju)()],t.prototype,"created",void 0),eh([(0,A.ju)()],t.prototype,"destroyed",void 0),eh([(0,A.ju)()],t.prototype,"beforeCreate",void 0),t=eh([A.Zl],t)}(A.wA),eU=(s=function(e,t){return(s=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),eY=function(e,t,i,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},e_="e-other-month",eZ="e-other-year",eK="e-calendar",eG="e-device",eQ="e-rtl",eX="e-year",e$="e-month",eJ="e-decade",e0="e-icons",e1="e-disabled",e9="e-overlay",e3="e-week-number",e2="e-selected",e4="e-focused-date",e7="e-month-hide",e6="e-today",e5="e-day",e8="e-cell",te="e-zoomin",tt="e-calendar-day-header-lg",ti=function(e){function t(t,i){return e.call(this,t,i)||this}return eU(t,e),t.prototype.render=function(){if("Islamic"===this.calendarMode&&void 0===this.islamicModule&&(0,A._y)("Requires the injectable Islamic modules to render Calendar in Islamic mode"),this.isMultiSelection&&"object"==typeof this.values&&!(0,A.le)(this.values)&&this.values.length>0){for(var t=[],i=[],n=0;n<this.values.length;n++)-1===t.indexOf(+this.values[n])&&(t.push(+this.values[n]),i.push(this.values[n]));this.setProperties({values:i},!0);for(var r=0;r<this.values.length;r++)if(!this.checkDateValue(this.values[r])){if("string"==typeof this.values[r]&&this.checkDateValue(new Date(this.checkValue(this.values[r])))){var a=new Date(this.checkValue(this.values[r]));this.values.splice(r,1),this.values.splice(r,0,a)}else this.values.splice(r,1)}this.setProperties({value:this.values[this.values.length-1]},!0),this.previousValues=this.values.length}if(this.validateDate(),this.minMaxUpdate(),"calendar"===this.getModuleName()&&(this.setEnable(this.enabled),this.setClass(this.cssClass)),e.prototype.render.call(this),"calendar"===this.getModuleName()){var s=(0,A.oq)(this.element,"form");s&&A.bi.add(s,"reset",this.formResetHandler.bind(this)),this.setTimeZone(this.serverTimezoneOffset)}this.renderComplete()},t.prototype.setEnable=function(e){e?(0,A.IV)([this.element],e1):(0,A.cn)([this.element],e1)},t.prototype.setClass=function(e,t){(0,A.le)(t)||(t=t.replace(/\s+/g," ").trim()),(0,A.le)(e)||(e=e.replace(/\s+/g," ").trim()),(0,A.le)(t)||""===t||(0,A.IV)([this.element],t.split(" ")),(0,A.le)(e)||(0,A.cn)([this.element],e.split(" "))},t.prototype.isDayLightSaving=function(){var e=new Date(this.value.getFullYear(),6,1).getTimezoneOffset(),t=new Date(this.value.getFullYear(),0,1).getTimezoneOffset();return this.value.getTimezoneOffset()<Math.max(t,e)},t.prototype.setTimeZone=function(e){if(!(0,A.le)(this.serverTimezoneOffset)&&this.value){var t=e+new Date().getTimezoneOffset()/60;t=this.isDayLightSaving()?t--:t,this.value=new Date(this.value.getTime()+36e5*t)}},t.prototype.formResetHandler=function(){this.setProperties({value:null},!0)},t.prototype.validateDate=function(){"string"==typeof this.value&&this.setProperties({value:this.checkDateValue(new Date(this.checkValue(this.value)))},!0),e.prototype.validateDate.call(this,this.value),!(0,A.le)(this.value)&&this.min<=this.max&&this.value>=this.min&&this.value<=this.max&&(this.currentDate=new Date(this.checkValue(this.value))),isNaN(+this.value)&&this.setProperties({value:null},!0)},t.prototype.minMaxUpdate=function(){"calendar"===this.getModuleName()&&(!(0,A.le)(this.value)&&this.value<=this.min&&this.min<=this.max?(this.setProperties({value:this.min},!0),this.changedArgs={value:this.value}):!(0,A.le)(this.value)&&this.value>=this.max&&this.min<=this.max&&(this.setProperties({value:this.max},!0),this.changedArgs={value:this.value})),"calendar"===this.getModuleName()||(0,A.le)(this.value)?e.prototype.minMaxUpdate.call(this,this.value):!(0,A.le)(this.value)&&this.value<this.min&&this.min<=this.max?e.prototype.minMaxUpdate.call(this,this.min):!(0,A.le)(this.value)&&this.value>this.max&&this.min<=this.max&&e.prototype.minMaxUpdate.call(this,this.max)},t.prototype.generateTodayVal=function(t){var i=new Date;return(0,A.le)(this.timezone)||(i=e.prototype.getDate.call(this,i,this.timezone)),t&&(0,A.le)(this.timezone)?(i.setHours(t.getHours()),i.setMinutes(t.getMinutes()),i.setSeconds(t.getSeconds()),i.setMilliseconds(t.getMilliseconds())):i=new Date(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0,0),i},t.prototype.todayButtonClick=function(t){if(this.showTodayButton){var i=this.generateTodayVal(this.value);if(this.setProperties({value:i},!0),this.isTodayClicked=!0,this.todayButtonEvent=t,this.isMultiSelection){var n=this.copyValues(this.values);e.prototype.checkPresentDate.call(this,i,this.values)||(n.push(i),this.setProperties({values:n}))}e.prototype.todayButtonClick.call(this,t,new Date(+this.value))}},t.prototype.keyActionHandle=function(t){e.prototype.keyActionHandle.call(this,t,this.value,this.isMultiSelection)},t.prototype.preRender=function(){var t=this;this.changeHandler=function(e){t.triggerChange(e)},this.checkView(),e.prototype.preRender.call(this,this.value)},t.prototype.createContent=function(){this.previousDate=this.value,this.previousDateTime=this.value,e.prototype.createContent.call(this)},t.prototype.minMaxDate=function(t){return e.prototype.minMaxDate.call(this,t)},t.prototype.renderMonths=function(t,i,n){e.prototype.renderMonths.call(this,t,this.value,n)},t.prototype.renderDays=function(t,i,n,r,a,s){var o=e.prototype.renderDays.call(this,t,this.value,this.isMultiSelection,this.values,a,s);return this.isMultiSelection&&e.prototype.validateValues.call(this,this.isMultiSelection,this.values),o},t.prototype.renderYears=function(t){"Gregorian"===this.calendarMode?e.prototype.renderYears.call(this,t,this.value):this.islamicModule.islamicRenderYears(t,this.value)},t.prototype.renderDecades=function(t){"Gregorian"===this.calendarMode?e.prototype.renderDecades.call(this,t,this.value):this.islamicModule.islamicRenderDecade(t,this.value)},t.prototype.renderTemplate=function(t,i,n,r){"Gregorian"===this.calendarMode?e.prototype.renderTemplate.call(this,t,i,n,r,this.value):this.islamicModule.islamicRenderTemplate(t,i,n,r,this.value),this.changedArgs={value:this.value,values:this.values},this.changeHandler()},t.prototype.clickHandler=function(t){var i=t.currentTarget;if(this.isPopupClicked=!0,i.classList.contains(e_)){if(this.isMultiSelection){var n=this.copyValues(this.values);-1===n.toString().indexOf(this.getIdValue(t,null).toString())?(n.push(this.getIdValue(t,null)),this.setProperties({values:n},!0),this.setProperties({value:this.values[this.values.length-1]},!0)):this.previousDates=!0}else this.setProperties({value:this.getIdValue(t,null)},!0)}var r=this.currentView();e.prototype.clickHandler.call(this,t,this.value),this.isMultiSelection&&this.currentDate!==this.value&&!(0,A.le)(this.tableBodyElement.querySelectorAll("."+e4)[0])&&"Year"===r&&this.tableBodyElement.querySelectorAll("."+e4)[0].classList.remove(e4)},t.prototype.switchView=function(t,i,n,r){e.prototype.switchView.call(this,t,i,this.isMultiSelection,r)},t.prototype.getModuleName=function(){return e.prototype.getModuleName.call(this),"calendar"},t.prototype.getPersistData=function(){return e.prototype.getPersistData.call(this),this.addOnPersist(["value","values"])},t.prototype.onPropertyChanged=function(t,i){this.effect="",this.rangeValidation(this.min,this.max);for(var n=0,r=Object.keys(t);n<r.length;n++)switch(r[n]){case"value":this.isDateSelected&&("string"==typeof t.value?this.setProperties({value:new Date(this.checkValue(t.value))},!0):t.value=new Date(this.checkValue(t.value)),isNaN(+this.value)&&this.setProperties({value:i.value},!0),this.update());break;case"values":if(this.isDateSelected){if("string"==typeof t.values||"number"==typeof t.values)this.setProperties({values:null},!0);else{for(var a=this.copyValues(this.values),s=0;s<a.length;s++){var o=a[s];this.checkDateValue(o)&&!e.prototype.checkPresentDate.call(this,o,a)&&a.push(o)}this.setProperties({values:a},!0),this.values.length>0&&this.setProperties({value:t.values[t.values.length-1]},!0)}this.validateValues(this.isMultiSelection,this.values),this.update()}break;case"isMultiSelection":this.isDateSelected&&(this.setProperties({isMultiSelection:t.isMultiSelection},!0),this.update());break;case"enabled":this.setEnable(this.enabled);break;case"cssClass":"calendar"===this.getModuleName()&&this.setClass(t.cssClass,i.cssClass);break;default:e.prototype.onPropertyChanged.call(this,t,i,this.isMultiSelection,this.values)}this.preventChange=this.isAngular&&this.preventChange?!this.preventChange:this.preventChange},t.prototype.destroy=function(){if(e.prototype.destroy.call(this),"calendar"===this.getModuleName()){this.changedArgs=null;var t=(0,A.oq)(this.element,"form");t&&A.bi.remove(t,"reset",this.formResetHandler.bind(this))}},t.prototype.navigateTo=function(t,i,n){this.minMaxUpdate(),e.prototype.navigateTo.call(this,t,i,n)},t.prototype.currentView=function(){return e.prototype.currentView.call(this)},t.prototype.addDate=function(t){if("string"!=typeof t&&"number"!=typeof t){var i=this.copyValues(this.values);if("object"==typeof t&&t.length>0)for(var n=0;n<t.length;n++)this.checkDateValue(t[n])&&!e.prototype.checkPresentDate.call(this,t[n],i)&&(!(0,A.le)(i)&&i.length>0?i.push(t[n]):i=[new Date(+t[n])]);else this.checkDateValue(t)&&!e.prototype.checkPresentDate.call(this,t,i)&&(!(0,A.le)(i)&&i.length>0?i.push(t):i=[new Date(+t)]);this.setProperties({values:i},!0),this.isMultiSelection&&this.setProperties({value:this.values[this.values.length-1]},!0),this.validateValues(this.isMultiSelection,i),this.update(),this.changedArgs={value:this.value,values:this.values},this.changeHandler()}},t.prototype.removeDate=function(e){if("string"!=typeof e&&"number"!=typeof e&&!(0,A.le)(this.values)&&this.values.length>0){var t=this.copyValues(this.values);if("object"==typeof e&&e.length>0)for(var i=0;i<e.length;i++)for(var n=0;n<t.length;n++)+t[n]==+e[i]&&t.splice(n,1);else for(var n=0;n<t.length;n++)+t[n]==+e&&t.splice(n,1);this.setProperties({values:t},!1),this.update(),this.isMultiSelection&&this.setProperties({value:this.values[this.values.length-1]},!0),this.changedArgs={value:this.value,values:this.values},this.changeHandler()}},t.prototype.setTodayDate=function(t){var i=new Date(+t);this.setProperties({value:i},!0),e.prototype.todayButtonClick.call(this,null,i,!0)},t.prototype.update=function(){this.validateDate(),this.minMaxUpdate(),e.prototype.setValueUpdate.call(this)},t.prototype.selectDate=function(t,i,n){e.prototype.selectDate.call(this,t,i,n,this.isMultiSelection,this.values),this.isMultiSelection&&!(0,A.le)(this.values)&&this.values.length>0&&this.setProperties({value:this.values[this.values.length-1]},!0),this.changedArgs={value:this.value,values:this.values},this.changeHandler(t)},t.prototype.changeEvent=function(e){((this.value&&this.value.valueOf())!==(this.previousDate&&+this.previousDate.valueOf())||this.isMultiSelection)&&(this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",this.changedArgs),this.previousDate=new Date(+this.value))},t.prototype.triggerChange=function(e){!(0,A.le)(this.todayButtonEvent)&&this.isTodayClicked&&(e=this.todayButtonEvent,this.isTodayClicked=!1),this.changedArgs.event=e||null,this.changedArgs.isInteracted=!(0,A.le)(e),(0,A.le)(this.value)||this.setProperties({value:this.value},!0),this.isMultiSelection||+this.value===Number.NaN||((0,A.le)(this.value)||(0,A.le)(this.previousDate))&&(null!==this.previousDate||isNaN(+this.value))?(0,A.le)(this.values)||this.previousValues===this.values.length||(this.changeEvent(e),this.previousValues=this.values.length):this.changeEvent(e)},eY([(0,A.Z9)(null)],t.prototype,"value",void 0),eY([(0,A.Z9)(null)],t.prototype,"values",void 0),eY([(0,A.Z9)(!1)],t.prototype,"isMultiSelection",void 0),eY([(0,A.ju)()],t.prototype,"change",void 0),t=eY([A.Zl],t)}(function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.effect="",n.isPopupClicked=!1,n.isDateSelected=!0,n.isTodayClicked=!1,n.preventChange=!1,n.isAngular=!1,n.previousDates=!1,n}return eU(t,e),t.prototype.render=function(){this.rangeValidation(this.min,this.max),this.calendarEleCopy=this.element.cloneNode(!0),"Islamic"===this.calendarMode&&(+this.min.setSeconds(0)==+new Date(1900,0,1,0,0,0)&&(this.min=new Date(1944,2,18)),+this.max==+new Date(2099,11,31)&&(this.max=new Date(2069,10,16))),this.globalize=new A.eC(this.locale),((0,A.le)(this.firstDayOfWeek)||this.firstDayOfWeek>6||this.firstDayOfWeek<0)&&this.setProperties({firstDayOfWeek:this.globalize.getFirstDayOfWeek()},!0),this.todayDisabled=!1,this.todayDate=new Date(new Date().setHours(0,0,0,0)),"calendar"===this.getModuleName()?(this.element.classList.add(eK),this.enableRtl&&this.element.classList.add(eQ),A.AR.isDevice&&this.element.classList.add(eG),(0,A.Y4)(this.element,{"data-role":"calendar"}),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.setAttribute("tabindex",this.tabIndex)):(this.calendarElement=this.createElement("div"),this.calendarElement.classList.add(eK),this.enableRtl&&this.calendarElement.classList.add(eQ),A.AR.isDevice&&this.calendarElement.classList.add(eG),(0,A.Y4)(this.calendarElement,{"data-role":"calendar"})),!(0,A.le)((0,A.oq)(this.element,"fieldset"))&&(0,A.oq)(this.element,"fieldset").disabled&&(this.enabled=!1),this.createHeader(),this.createContent(),this.wireEvents()},t.prototype.rangeValidation=function(e,t){(0,A.le)(e)&&this.setProperties({min:new Date(1900,0,1)},!0),(0,A.le)(t)&&this.setProperties({max:new Date(2099,11,31)},!0)},t.prototype.getDefaultKeyConfig=function(){return this.defaultKeyConfigs={controlUp:"ctrl+38",controlDown:"ctrl+40",moveDown:"downarrow",moveUp:"uparrow",moveLeft:"leftarrow",moveRight:"rightarrow",select:"enter",home:"home",end:"end",pageUp:"pageup",pageDown:"pagedown",shiftPageUp:"shift+pageup",shiftPageDown:"shift+pagedown",controlHome:"ctrl+home",controlEnd:"ctrl+end",altUpArrow:"alt+uparrow",spacebar:"space",altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"},this.defaultKeyConfigs},t.prototype.validateDate=function(e){this.setProperties({min:this.checkDateValue(new Date(this.checkValue(this.min)))},!0),this.setProperties({max:this.checkDateValue(new Date(this.checkValue(this.max)))},!0),this.currentDate=this.currentDate?this.currentDate:new Date(new Date().setHours(0,0,0,0)),!(0,A.le)(e)&&this.min<=this.max&&e>=this.min&&e<=this.max&&(this.currentDate=new Date(this.checkValue(e)))},t.prototype.setOverlayIndex=function(e,t,i,n){if(n&&!(0,A.le)(t)&&!(0,A.le)(i)&&!(0,A.le)(e)){var r=parseInt(t.style.zIndex,10)?parseInt(t.style.zIndex,10):1e3;i.style.zIndex=(r-1).toString(),e.style.zIndex=r.toString()}},t.prototype.minMaxUpdate=function(e){+this.min<=+this.max?(0,A.IV)([this.element],e9):(this.setProperties({min:this.min},!0),(0,A.cn)([this.element],e9)),this.min=(0,A.le)(this.min)||!+this.min?this.min=new Date(1900,0,1):this.min,this.max=(0,A.le)(this.max)||!+this.max?this.max=new Date(2099,11,31):this.max,+this.min<=+this.max&&e&&+e<=+this.max&&+e>=+this.min?this.currentDate=new Date(this.checkValue(e)):+this.min<=+this.max&&!e&&+this.currentDate>+this.max?this.currentDate=new Date(this.checkValue(this.max)):+this.currentDate<+this.min&&(this.currentDate=new Date(this.checkValue(this.min)))},t.prototype.createHeader=function(){this.headerElement=this.createElement("div",{className:"e-header"});var e=this.createElement("div",{className:"e-icon-container"});this.previousIcon=this.createElement("button",{className:"e-prev",attrs:{type:"button"}}),(0,A.qx)(this.previousIcon,{duration:400,selector:".e-prev",isCenterRipple:!0}),(0,A.Y4)(this.previousIcon,{"aria-disabled":"false","aria-label":"previous month"}),this.nextIcon=this.createElement("button",{className:"e-next",attrs:{type:"button"}}),(0,A.qx)(this.nextIcon,{selector:".e-next",duration:400,isCenterRipple:!0}),"daterangepicker"===this.getModuleName()&&((0,A.Y4)(this.previousIcon,{tabIndex:"-1"}),(0,A.Y4)(this.nextIcon,{tabIndex:"-1"})),(0,A.Y4)(this.nextIcon,{"aria-disabled":"false","aria-label":"next month"}),this.headerTitleElement=this.createElement("div",{className:""+e5+" e-title"}),(0,A.Y4)(this.headerTitleElement,{"aria-atomic":"true","aria-live":"assertive","aria-label":"title"}),this.headerElement.appendChild(this.headerTitleElement),this.previousIcon.appendChild(this.createElement("span",{className:"e-date-icon-prev "+e0})),this.nextIcon.appendChild(this.createElement("span",{className:"e-date-icon-next  "+e0})),e.appendChild(this.previousIcon),e.appendChild(this.nextIcon),this.headerElement.appendChild(e),"calendar"===this.getModuleName()?this.element.appendChild(this.headerElement):this.calendarElement.appendChild(this.headerElement),this.adjustLongHeaderSize()},t.prototype.createContent=function(){this.contentElement=this.createElement("div",{className:"e-content"}),this.table=this.createElement("table",{attrs:{tabIndex:"0",role:"grid","aria-activedescendant":"","aria-labelledby":this.element.id}}),"calendar"===this.getModuleName()?this.element.appendChild(this.contentElement):this.calendarElement.appendChild(this.contentElement),this.contentElement.appendChild(this.table),this.createContentHeader(),this.createContentBody(),this.showTodayButton&&this.createContentFooter()},t.prototype.getCultureValues=function(){var e,t=[],i="days.stand-alone."+this.dayHeaderFormat.toLowerCase();if(e="en"===this.locale||"en-US"===this.locale?(0,A.NA)(i,(0,A.bD)()):this.getCultureObjects(A.qV,""+this.locale),!(0,A.le)(e))for(var n=0,r=Object.keys(e);n<r.length;n++){var a=r[n];t.push((0,A.NA)(a,e))}return t},t.prototype.toCapitalize=function(e){return!(0,A.le)(e)&&e.length?e[0].toUpperCase()+e.slice(1):e},t.prototype.createContentHeader=function(){"calendar"===this.getModuleName()?(0,A.le)(this.element.querySelectorAll(".e-content .e-week-header")[0])||(0,A.og)(this.element.querySelectorAll(".e-content .e-week-header")[0]):(0,A.le)(this.calendarElement.querySelectorAll(".e-content .e-week-header")[0])||(0,A.og)(this.calendarElement.querySelectorAll(".e-content .e-week-header")[0]);var e="";(this.firstDayOfWeek>6||this.firstDayOfWeek<0)&&this.setProperties({firstDayOfWeek:0},!0),this.tableHeadElement=this.createElement("thead",{className:"e-week-header"}),this.weekNumber&&(e+='<th class="e-week-number"></th>',"calendar"===this.getModuleName()?(0,A.cn)([this.element],""+e3):(0,A.cn)([this.calendarElement],""+e3));var t=this.getCultureValues().length>0&&this.getCultureValues()?this.shiftArray(this.getCultureValues().length>0&&this.getCultureValues(),this.firstDayOfWeek):null;if(!(0,A.le)(t))for(var i=0;i<=6;i++)e+='<th  class="">'+this.toCapitalize(t[i])+"</th>";e="<tr>"+e+"</tr>",this.tableHeadElement.innerHTML=e,this.table.appendChild(this.tableHeadElement)},t.prototype.createContentBody=function(){switch("calendar"===this.getModuleName()?(0,A.le)(this.element.querySelectorAll(".e-content tbody")[0])||(0,A.og)(this.element.querySelectorAll(".e-content tbody")[0]):(0,A.le)(this.calendarElement.querySelectorAll(".e-content tbody")[0])||(0,A.og)(this.calendarElement.querySelectorAll(".e-content tbody")[0]),this.start){case"Year":this.renderYears();break;case"Decade":this.renderDecades();break;default:this.renderMonths()}},t.prototype.updateFooter=function(){this.todayElement.textContent=this.l10.getConstant("today"),this.todayElement.setAttribute("aria-label",this.l10.getConstant("today"))},t.prototype.createContentFooter=function(){if(this.showTodayButton){var e=new Date(+this.min),t=new Date(+this.max);this.globalize=new A.eC(this.locale),this.l10=new A.E7(this.getModuleName(),{today:"Today"},this.locale),this.todayElement=this.createElement("button",{attrs:{role:"button"}}),(0,A.qx)(this.todayElement),this.updateFooter(),(0,A.cn)([this.todayElement],["e-btn",e6,"e-flat","e-primary","e-css"]),(!(+new Date(e.setHours(0,0,0,0))<=+this.todayDate&&+this.todayDate<=+new Date(t.setHours(0,0,0,0)))||this.todayDisabled)&&(0,A.cn)([this.todayElement],e1),this.footer=this.createElement("div",{className:"e-footer-container"}),this.footer.appendChild(this.todayElement),"calendar"===this.getModuleName()&&this.element.appendChild(this.footer),"datepicker"===this.getModuleName()&&this.calendarElement.appendChild(this.footer),"datetimepicker"===this.getModuleName()&&this.calendarElement.appendChild(this.footer),this.todayElement.classList.contains(e1)||A.bi.add(this.todayElement,"click",this.todayButtonClick,this)}},t.prototype.wireEvents=function(e,t,i,n){A.bi.add(this.headerTitleElement,"click",this.navigateTitle,this),this.defaultKeyConfigs=(0,A.l7)(this.defaultKeyConfigs,this.keyConfigs),"calendar"===this.getModuleName()?this.keyboardModule=new A.nv(this.element,{eventName:"keydown",keyAction:this.keyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs}):this.keyboardModule=new A.nv(this.calendarElement,{eventName:"keydown",keyAction:this.keyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs})},t.prototype.dateWireEvents=function(e,t,i,n){this.defaultKeyConfigs=this.getDefaultKeyConfig(),this.defaultKeyConfigs=(0,A.l7)(this.defaultKeyConfigs,i),this.serverModuleName=n},t.prototype.todayButtonClick=function(e,t,i){this.showTodayButton&&(this.currentView()===this.depth?this.effect="":this.effect="e-zoomin",this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?this.navigateTo(this.depth,new Date(this.checkValue(t)),i):this.navigateTo("Month",new Date(this.checkValue(t)),i))},t.prototype.resetCalendar=function(){this.calendarElement&&(0,A.og)(this.calendarElement),this.tableBodyElement&&(0,A.og)(this.tableBodyElement),this.table&&(0,A.og)(this.table),this.tableHeadElement&&(0,A.og)(this.tableHeadElement),this.nextIcon&&(0,A.og)(this.nextIcon),this.previousIcon&&(0,A.og)(this.previousIcon),this.footer&&(0,A.og)(this.footer),this.todayElement=null,this.renderDayCellArgs=null,this.calendarElement=this.tableBodyElement=this.footer=this.tableHeadElement=this.nextIcon=this.previousIcon=this.table=null},t.prototype.keyActionHandle=function(e,t,i){var n,r=this.tableBodyElement.querySelector("tr td.e-focused-date");n=i?(0,A.le)(r)||+t!==parseInt(r.getAttribute("id").split("_")[0],10)?this.tableBodyElement.querySelector("tr td.e-selected"):r:this.tableBodyElement.querySelector("tr td.e-selected");var a=this.getViewNumber(this.currentView()),s=this.getViewNumber(this.depth),o=a===s&&this.getViewNumber(this.start)>=s;switch(this.effect="",e.action){case"moveLeft":this.keyboardNavigate(-1,a,e,this.max,this.min),e.preventDefault();break;case"moveRight":this.keyboardNavigate(1,a,e,this.max,this.min),e.preventDefault();break;case"moveUp":0===a?this.keyboardNavigate(-7,a,e,this.max,this.min):this.keyboardNavigate(-4,a,e,this.max,this.min),e.preventDefault();break;case"moveDown":0===a?this.keyboardNavigate(7,a,e,this.max,this.min):this.keyboardNavigate(4,a,e,this.max,this.min),e.preventDefault();break;case"select":if(e.target===this.todayElement)this.todayButtonClick(e,t);else{var l=(0,A.le)(r)?n:r;if(!(0,A.le)(l)&&!l.classList.contains(e1)){if(o){var h=new Date(parseInt(""+l.id,0));this.selectDate(e,h,l)}else this.contentClick(null,--a,l,t)}}break;case"controlUp":this.title(),e.preventDefault();break;case"controlDown":((0,A.le)(r)||o)&&((0,A.le)(n)||o)||this.contentClick(null,--a,r||n,t),e.preventDefault();break;case"home":this.currentDate=this.firstDay(this.currentDate),(0,A.og)(this.tableBodyElement),0===a?this.renderMonths(e):1===a?this.renderYears(e):this.renderDecades(e),e.preventDefault();break;case"end":this.currentDate=this.lastDay(this.currentDate,a),(0,A.og)(this.tableBodyElement),0===a?this.renderMonths(e):1===a?this.renderYears(e):this.renderDecades(e),e.preventDefault();break;case"pageUp":this.addMonths(this.currentDate,-1),this.navigateTo("Month",this.currentDate),e.preventDefault();break;case"pageDown":this.addMonths(this.currentDate,1),this.navigateTo("Month",this.currentDate),e.preventDefault();break;case"shiftPageUp":this.addYears(this.currentDate,-1),this.navigateTo("Month",this.currentDate),e.preventDefault();break;case"shiftPageDown":this.addYears(this.currentDate,1),this.navigateTo("Month",this.currentDate),e.preventDefault();break;case"controlHome":this.navigateTo("Month",new Date(this.currentDate.getFullYear(),0,1)),e.preventDefault();break;case"controlEnd":this.navigateTo("Month",new Date(this.currentDate.getFullYear(),11,31)),e.preventDefault()}"calendar"===this.getModuleName()&&this.table.focus()},t.prototype.keyboardNavigate=function(e,t,i,n,r){var a=new Date(this.checkValue(this.currentDate));switch(t){case 2:this.addYears(this.currentDate,e),this.isMonthYearRange(this.currentDate)?((0,A.og)(this.tableBodyElement),this.renderDecades(i)):this.currentDate=a;break;case 1:this.addMonths(this.currentDate,e),this.calendarMode,this.isMonthYearRange(this.currentDate)?((0,A.og)(this.tableBodyElement),this.renderYears(i)):this.currentDate=a;break;case 0:this.addDay(this.currentDate,e,i,n,r),this.isMinMaxRange(this.currentDate)?((0,A.og)(this.tableBodyElement),this.renderMonths(i)):this.currentDate=a}},t.prototype.preRender=function(e){var t=this;this.navigatePreviousHandler=this.navigatePrevious.bind(this),this.navigateNextHandler=this.navigateNext.bind(this),this.defaultKeyConfigs=this.getDefaultKeyConfig(),this.navigateHandler=function(e){t.triggerNavigate(e)}},t.prototype.minMaxDate=function(e){var t=new Date(new Date(+e).setHours(0,0,0,0)),i=new Date(new Date(+this.min).setHours(0,0,0,0)),n=new Date(new Date(+this.max).setHours(0,0,0,0));return(+t==+i||+t==+n)&&(+e<+this.min&&(e=new Date(+this.min)),+e>+this.max&&(e=new Date(+this.max))),e},t.prototype.renderMonths=function(e,t,i){var n,r=this.weekNumber?8:7;n="Gregorian"===this.calendarMode?this.renderDays(this.currentDate,t,null,null,i,e):this.islamicModule.islamicRenderDays(this.currentDate,t),this.createContentHeader(),"Gregorian"===this.calendarMode?this.renderTemplate(n,r,e$,e,t):this.islamicModule.islamicRenderTemplate(n,r,e$,e,t)},t.prototype.renderDays=function(e,t,i,n,r,a){var s,o=[],l=r?new Date(+e):this.getDate(new Date,this.timezone),h=new Date(this.checkValue(e)),p=h.getMonth();this.titleUpdate(e,"days");var c=h;for(h=new Date(c.getFullYear(),c.getMonth(),0,c.getHours(),c.getMinutes(),c.getSeconds(),c.getMilliseconds());h.getDay()!==this.firstDayOfWeek;)this.setStartDate(h,-864e5);for(var u=0;u<42;++u){var d=this.createElement("td",{className:e8}),m=this.createElement("span");if(u%7==0&&this.weekNumber){var v="FirstDay"===this.weekRule?6:"FirstFourDayWeek"===this.weekRule?3:0,g=new Date(h.getFullYear(),h.getMonth(),h.getDate()+v);m.textContent=""+this.getWeek(g),d.appendChild(m),(0,A.cn)([d],""+e3),o.push(d)}s=new Date(+h),h=this.minMaxDate(h);var f={type:"dateTime",skeleton:"full"},y=this.globalize.parseDate(this.globalize.formatDate(h,f),f),b=this.dayCell(h),T=this.globalize.formatDate(h,{type:"date",skeleton:"full"}),D=this.createElement("span");D.textContent=this.globalize.formatDate(h,{format:"d",type:"date",skeleton:"yMd"});var w=this.min>h||this.max<h;w?((0,A.cn)([b],e1),(0,A.cn)([b],e9)):D.setAttribute("title",""+T),p!==h.getMonth()&&(0,A.cn)([b],e_),(0===h.getDay()||6===h.getDay())&&(0,A.cn)([b],"e-weekend"),b.appendChild(D),this.renderDayCellArgs={date:h,isDisabled:!1,element:b,isOutOfRange:w};var C=this.renderDayCellArgs;if(this.renderDayCellEvent(C),C.isDisabled){var S=new Date(this.checkValue(t)),E=new Date(this.checkValue(C.date));if(i){if(!(0,A.le)(n)&&n.length>0)for(var k=0;k<n.length;k++){var V=+new Date(this.globalize.formatDate(C.date,{type:"date",skeleton:"yMd"})),M=+new Date(this.globalize.formatDate(n[k],{type:"date",skeleton:"yMd"}));V===M&&(n.splice(k,1),k=-1)}}else S&&+S==+E&&this.setProperties({value:null},!0)}this.renderDayCellArgs.isDisabled&&!b.classList.contains(e2)&&((0,A.cn)([b],e1),(0,A.cn)([b],e9),+this.renderDayCellArgs.date==+this.todayDate&&(this.todayDisabled=!0));var x=b.classList.contains(e_),I=b.classList.contains(e1);I||A.bi.add(b,"click",this.clickHandler,this);var O=void 0;if((0,A.le)(a)||"click"!==a.type||(O=a.currentTarget),!i||(0,A.le)(n)||I)!I&&this.getDateVal(h,t)&&(0,A.cn)([b],e2);else{for(var R=0;R<n.length;R++){var P={format:null,type:"date",skeleton:"short",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"},V=this.globalize.formatDate(h,P),M=this.globalize.formatDate(n[R],P);if((V===M&&this.getDateVal(h,n[R])||this.getDateVal(h,t))&&(0,A.cn)([b],e2),!(0,A.le)(O)&&O.innerText===b.innerText&&this.previousDates&&b.classList.contains(e2)&&O.classList.contains(e2)){(0,A.IV)([b],e2),this.previousDates=!1;for(var H=this.copyValues(n),L=0;L<H.length;L++){var q={format:null,type:"date",skeleton:"short",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"};if(this.globalize.formatDate(y,q)===this.globalize.formatDate(H[L],q)){var k=H.indexOf(H[L]);H.splice(k,1),n.splice(k,1)}}this.setProperties({values:H},!0)}else this.updateFocus(x,I,h,b,e)}n.length<=0&&this.updateFocus(x,I,h,b,e)}this.updateFocus(x,I,h,b,e),(0,A.le)(y)||y.getFullYear()!==l.getFullYear()||y.getMonth()!==l.getMonth()||y.getDate()!==l.getDate()||(0,A.cn)([b],e6),o.push(this.renderDayCellArgs.element),h=new Date(+s),this.addDay(h,1,null,this.max,this.min)}return o},t.prototype.updateFocus=function(e,t,i,n,r){r.getDate()!==i.getDate()||e||t?(!(r>=this.max)||parseInt(n.id,0)!==+this.max||e||t||(0,A.cn)([n],e4),!(r<=this.min)||parseInt(n.id,0)!==+this.min||e||t||(0,A.cn)([n],e4)):(0,A.cn)([n],e4)},t.prototype.renderYears=function(e,t){this.removeTableHeadElement();var i=[],n=(0,A.le)(t),r=new Date(this.checkValue(this.currentDate)),a=r.getMonth(),s=r.getFullYear(),o=r.getFullYear(),l=new Date(this.checkValue(this.min)).getFullYear(),h=new Date(this.checkValue(this.min)).getMonth(),p=new Date(this.checkValue(this.max)).getFullYear(),c=new Date(this.checkValue(this.max)).getMonth();r.setMonth(0),this.titleUpdate(this.currentDate,"months"),r.setDate(1);for(var u=0;u<12;++u){var d=this.dayCell(r),m=this.createElement("span"),v=t&&t.getMonth()===r.getMonth(),g=t&&t.getFullYear()===s&&v;m.textContent=this.toCapitalize(this.globalize.formatDate(r,{format:null,type:"dateTime",skeleton:"MMM"})),this.min&&(o<l||u<h&&o===l)||this.max&&(o>p||u>c&&o>=p)?(0,A.cn)([d],e1):!n&&g?(0,A.cn)([d],e2):r.getMonth()===a&&this.currentDate.getMonth()===a&&(0,A.cn)([d],e4),r.setDate(1),r.setMonth(r.getMonth()+1),d.classList.contains(e1)||A.bi.add(d,"click",this.clickHandler,this),d.appendChild(m),i.push(d)}this.renderTemplate(i,4,eX,e,t)},t.prototype.renderDecades=function(e,t){this.removeTableHeadElement();var i=[],n=new Date(this.checkValue(this.currentDate));n.setMonth(0),n.setDate(1);var r=n.getFullYear(),a=new Date(n.setFullYear(r-r%10)),s=new Date(n.setFullYear(r-r%10+9)),o=a.getFullYear(),l=s.getFullYear(),h=this.globalize.formatDate(a,{format:null,type:"dateTime",skeleton:"y"}),p=this.globalize.formatDate(s,{format:null,type:"dateTime",skeleton:"y"});this.headerTitleElement.textContent=h+" - "+p;for(var c=new Date(r-r%10-1,0,1).getFullYear(),u=0;u<12;++u){var d=c+u;n.setFullYear(d);var m=this.dayCell(n),v=this.createElement("span");v.textContent=this.globalize.formatDate(n,{format:null,type:"dateTime",skeleton:"y"}),d<o||d>l?((0,A.cn)([m],eZ),(0,A.le)(t)||n.getFullYear()!==t.getFullYear()||(0,A.cn)([m],e2),(d<new Date(this.checkValue(this.min)).getFullYear()||d>new Date(this.checkValue(this.max)).getFullYear())&&(0,A.cn)([m],e1)):d<new Date(this.checkValue(this.min)).getFullYear()||d>new Date(this.checkValue(this.max)).getFullYear()?(0,A.cn)([m],e1):(0,A.le)(t)||n.getFullYear()!==t.getFullYear()?n.getFullYear()!==this.currentDate.getFullYear()||m.classList.contains(e1)||(0,A.cn)([m],e4):(0,A.cn)([m],e2),m.classList.contains(e1)||A.bi.add(m,"click",this.clickHandler,this),m.appendChild(v),i.push(m)}this.renderTemplate(i,4,"e-decade",e,t)},t.prototype.dayCell=function(e){var t,i={skeleton:"full",type:"dateTime",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"},n=this.globalize.parseDate(this.globalize.formatDate(e,i),i);(0,A.le)(n)||(t=n.valueOf());var r={className:e8,attrs:{id:""+(0,A.QI)(""+t),"aria-selected":"false"}};return this.createElement("td",r)},t.prototype.firstDay=function(e){var t="Decade"!==this.currentView()?this.tableBodyElement.querySelectorAll("td:not(."+e_):this.tableBodyElement.querySelectorAll("td:not(."+eZ);if(t.length){for(var i=0;i<t.length;i++)if(!t[i].classList.contains(e1)){e=new Date(parseInt(t[i].id,0));break}}return e},t.prototype.lastDay=function(e,t){var i=new Date(e.getFullYear(),e.getMonth()+1,0);if(2===t)return this.findLastDay(this.firstDay(i));var n=Math.abs(i.getTimezoneOffset()-this.firstDay(e).getTimezoneOffset());return n&&i.setHours(this.firstDay(e).getHours()+n/60),this.findLastDay(i)},t.prototype.checkDateValue=function(e){return!(0,A.le)(e)&&e instanceof Date&&!isNaN(+e)?e:null},t.prototype.findLastDay=function(e){var t="Decade"===this.currentView()?this.tableBodyElement.querySelectorAll("td:not(."+eZ):this.tableBodyElement.querySelectorAll("td:not(."+e_);if(t.length){for(var i=t.length-1;i>=0;i--)if(!t[i].classList.contains(e1)){e=new Date(parseInt(t[i].id,0));break}}return e},t.prototype.removeTableHeadElement=function(){"calendar"===this.getModuleName()?(0,A.le)(this.element.querySelectorAll(".e-content table thead")[0])||(0,A.og)(this.tableHeadElement):(0,A.le)(this.calendarElement.querySelectorAll(".e-content table thead")[0])||(0,A.og)(this.tableHeadElement)},t.prototype.renderTemplate=function(e,t,i,n,r){var a,s=this.getViewNumber(this.currentView());this.tableBodyElement=this.createElement("tbody"),this.table.appendChild(this.tableBodyElement),(0,A.IV)([this.contentElement,this.headerElement],[e$,eJ,eX]),(0,A.cn)([this.contentElement,this.headerElement],[i]);for(var o=t,l=0,h=0;h<e.length/t;++h){for(a=this.createElement("tr"),l=0+l;l<o;l++)e[l].classList.contains("e-week-number")||(0,A.le)(e[l].children[0])||((0,A.cn)([e[l].children[0]],[e5]),(0,A.qx)(e[l].children[0],{duration:600,isCenterRipple:!0})),a.appendChild(e[l]),this.weekNumber&&7===l&&e[7].classList.contains(e_)&&(0,A.cn)([a],e7),!this.weekNumber&&6===l&&e[6].classList.contains(e_)&&(0,A.cn)([a],e7),this.weekNumber?41===l&&e[41].classList.contains(e_)&&(0,A.cn)([a],e7):35===l&&e[35].classList.contains(e_)&&(0,A.cn)([a],e7);o+=t,l+=0,this.tableBodyElement.appendChild(a)}this.table.querySelector("tbody").className=this.effect,"Gregorian"===this.calendarMode?this.iconHandler():this.islamicModule.islamicIconHandler(),(s!==this.getViewNumber(this.currentView())||0===s&&s!==this.getViewNumber(this.currentView()))&&this.navigateHandler(n),this.setAriaActiveDescendant()},t.prototype.clickHandler=function(e,t){this.clickEventEmitter(e);var i=e.currentTarget,n=this.getViewNumber(this.currentView());i.classList.contains(e_)?this.contentClick(e,0,null,t):n===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?this.contentClick(e,1,null,t):2===n?this.contentClick(e,1,null,t):i.classList.contains(e_)||0!==n?this.contentClick(e,0,i,t):this.selectDate(e,this.getIdValue(e,null),null),"calendar"===this.getModuleName()&&this.table.focus()},t.prototype.clickEventEmitter=function(e){e.preventDefault()},t.prototype.contentClick=function(e,t,i,n){var r=this.getViewNumber(this.currentView()),a=this.getIdValue(e,i);switch(t){case 0:r===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?((0,A.og)(this.tableBodyElement),this.currentDate=a,this.effect=te):("Gregorian"===this.calendarMode?(this.currentDate.setMonth(a.getMonth()),a.getMonth()>0&&this.currentDate.getMonth()!==a.getMonth()&&this.currentDate.setDate(0),this.currentDate.setFullYear(a.getFullYear())):this.currentDate=a,this.effect=te,(0,A.og)(this.tableBodyElement)),this.renderMonths(e);break;case 1:if(r===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth))this.selectDate(e,a,null);else{if("Gregorian"===this.calendarMode)this.currentDate.setFullYear(a.getFullYear());else{this.islamicPreviousHeader=this.headerElement.textContent;var s=this.islamicModule.getIslamicDate(a);this.currentDate=this.islamicModule.toGregorian(s.year,s.month,1)}this.effect=te,(0,A.og)(this.tableBodyElement),this.renderYears(e)}}},t.prototype.switchView=function(e,t,i,n){switch(e){case 0:(0,A.og)(this.tableBodyElement),this.renderMonths(t,null,n);break;case 1:(0,A.og)(this.tableBodyElement),this.renderYears(t);break;case 2:(0,A.og)(this.tableBodyElement),this.renderDecades(t)}},t.prototype.getModuleName=function(){return"calendar"},t.prototype.requiredModules=function(){var e=[];return this&&e.push({args:[this],member:"islamic"}),e},t.prototype.getPersistData=function(){return this.addOnPersist(["value"])},t.prototype.onPropertyChanged=function(e,t,i,n){this.effect="";for(var r=0,a=Object.keys(e);r<a.length;r++){var s=a[r];switch(s){case"enableRtl":e.enableRtl?"calendar"===this.getModuleName()?this.element.classList.add("e-rtl"):this.calendarElement.classList.add("e-rtl"):"calendar"===this.getModuleName()?this.element.classList.remove("e-rtl"):this.calendarElement.classList.remove("e-rtl");break;case"dayHeaderFormat":this.getCultureValues(),"datepicker"!==this.getModuleName()?this.createContentHeader():this.calendarElement&&this.createContentHeader(),this.adjustLongHeaderSize();break;case"min":case"max":this.rangeValidation(this.min,this.max),"min"===s?this.setProperties({min:this.checkDateValue(new Date(this.checkValue(e.min)))},!0):this.setProperties({max:this.checkDateValue(new Date(this.checkValue(e.max)))},!0),this.setProperties({start:this.currentView()},!0),this.tableBodyElement&&(0,A.og)(this.tableBodyElement),this.minMaxUpdate(),i&&this.validateValues(i,n),"datepicker"!==this.getModuleName()?this.createContentBody():this.calendarElement&&this.createContentBody(),(this.todayDate<this.min||this.max<this.todayDate)&&this.footer&&this.todayElement?((0,A.og)(this.todayElement),(0,A.og)(this.footer),this.todayElement=this.footer=null,this.createContentFooter()):this.footer&&this.todayElement&&this.todayElement.classList.contains("e-disabled")&&((0,A.IV)([this.todayElement],e1),(0,A.og)(this.todayElement),(0,A.og)(this.footer),this.todayElement=this.footer=null,this.createContentFooter());break;case"start":case"depth":case"weekNumber":case"firstDayOfWeek":case"weekRule":this.checkView(),"datepicker"!==this.getModuleName()?(this.createContentHeader(),this.createContentBody()):this.calendarElement&&(this.createContentHeader(),this.createContentBody());break;case"locale":this.globalize=new A.eC(this.locale),"datepicker"!==this.getModuleName()?(this.createContentHeader(),this.createContentBody()):this.calendarElement&&(this.createContentHeader(),this.createContentBody()),this.l10.setLocale(this.locale),this.updateFooter();break;case"showTodayButton":e.showTodayButton?this.createContentFooter():(0,A.le)(this.todayElement)||(0,A.le)(this.footer)||((0,A.og)(this.todayElement),(0,A.og)(this.footer),this.todayElement=this.footer=void 0),this.setProperties({showTodayButton:e.showTodayButton},!0)}}},t.prototype.validateValues=function(e,t){if(e&&!(0,A.le)(t)&&t.length>0){for(var i=this.copyValues(t),n=0;n<i.length;n++){var r=i[n],a="Gregorian"===this.calendarMode?"gregorian":"islamic",s=void 0;s="Gregorian"===this.calendarMode?this.globalize.formatDate(r,{type:"date",skeleton:"yMd"}):this.globalize.formatDate(r,{type:"dateTime",skeleton:"full",calendar:"islamic"});var o={type:"date",skeleton:"yMd",calendar:a},l=this.globalize.formatDate(this.min,o),h={type:"date",skeleton:"yMd",calendar:a},p=this.globalize.formatDate(this.max,h);(+new Date(s)<+new Date(l)||+new Date(s)>+new Date(p))&&(i.splice(n,1),n=-1)}this.setProperties({values:i},!0)}},t.prototype.setValueUpdate=function(){(0,A.le)(this.tableBodyElement)||((0,A.og)(this.tableBodyElement),this.setProperties({start:this.currentView()},!0),this.createContentBody())},t.prototype.copyValues=function(e){var t=[];if(!(0,A.le)(e)&&e.length>0)for(var i=0;i<e.length;i++)t.push(new Date(+e[i]));return t},t.prototype.titleUpdate=function(e,t){var i,n,r=new A.eC(this.locale),a="Gregorian"===this.calendarMode?"gregorian":"islamic";switch("Gregorian"===this.calendarMode?(i=r.formatDate(e,{type:"dateTime",skeleton:"yMMMM",calendar:a}),n=r.formatDate(e,{format:null,type:"dateTime",skeleton:"y",calendar:a})):(i=r.formatDate(e,{type:"dateTime",format:"MMMM y",calendar:a}),n=r.formatDate(e,{type:"dateTime",format:"y",calendar:a})),t){case"days":this.headerTitleElement.textContent=this.toCapitalize(i);break;case"months":this.headerTitleElement.textContent=n}},t.prototype.setActiveDescendant=function(){var e,t,i=this.tableBodyElement.querySelector("tr td.e-focused-date"),n=this.tableBodyElement.querySelector("tr td.e-selected"),r="Gregorian"===this.calendarMode?"gregorian":"islamic",a=this.currentView();return t="Month"===a?this.globalize.formatDate(this.currentDate,{type:"date",skeleton:"full",calendar:r}):"Year"===a?"islamic"!==r?this.globalize.formatDate(this.currentDate,{type:"date",skeleton:"yMMMM",calendar:r}):this.globalize.formatDate(this.currentDate,{type:"date",skeleton:"GyMMM",calendar:r}):this.globalize.formatDate(this.currentDate,{format:null,type:"date",skeleton:"y",calendar:r}),(n||i)&&((0,A.le)(n)||n.setAttribute("aria-selected","true"),(i||n).setAttribute("aria-label",t),e=(i||n).getAttribute("id")),e},t.prototype.iconHandler=function(){switch(new Date(this.checkValue(this.currentDate)).setDate(1),this.currentView()){case"Month":this.previousIconHandler(1>this.compareMonth(new Date(this.checkValue(this.currentDate)),this.min)),this.nextIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)),this.max)>-1);break;case"Year":this.previousIconHandler(1>this.compareYear(new Date(this.checkValue(this.currentDate)),this.min)),this.nextIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)),this.max)>-1);break;case"Decade":this.previousIconHandler(1>this.compareDecade(new Date(this.checkValue(this.currentDate)),this.min)),this.nextIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)),this.max)>-1)}},t.prototype.destroy=function(){"calendar"===this.getModuleName()&&this.element?(0,A.IV)([this.element],[eK]):this.calendarElement&&this.element&&(0,A.IV)([this.element],[eK]),"calendar"===this.getModuleName()&&this.element&&((0,A.le)(this.headerTitleElement)||A.bi.remove(this.headerTitleElement,"click",this.navigateTitle),this.todayElement&&A.bi.remove(this.todayElement,"click",this.todayButtonClick),this.previousIconHandler(!0),this.nextIconHandler(!0),this.keyboardModule.destroy(),this.element.removeAttribute("data-role"),(0,A.le)(this.calendarEleCopy.getAttribute("tabindex"))?this.element.removeAttribute("tabindex"):this.element.setAttribute("tabindex",this.tabIndex)),this.element&&(this.element.innerHTML=""),this.todayElement=null,this.tableBodyElement=null,this.todayButtonEvent=null,this.renderDayCellArgs=null,this.headerElement=null,this.nextIcon=null,this.table=null,this.tableHeadElement=null,this.previousIcon=null,this.headerTitleElement=null,this.footer=null,this.contentElement=null,e.prototype.destroy.call(this)},t.prototype.title=function(e){var t=this.getViewNumber(this.currentView());this.effect=te,this.switchView(++t,e)},t.prototype.getViewNumber=function(e){return"Month"===e?0:"Year"===e?1:2},t.prototype.navigateTitle=function(e){e.preventDefault(),this.title(e),"calendar"===this.getModuleName()&&this.table.focus()},t.prototype.previous=function(){this.effect="";var e=this.getViewNumber(this.currentView());switch(this.currentView()){case"Month":this.addMonths(this.currentDate,-1),this.switchView(e);break;case"Year":this.addYears(this.currentDate,-1),this.switchView(e);break;case"Decade":this.addYears(this.currentDate,-10),this.switchView(e)}},t.prototype.navigatePrevious=function(e){A.AR.isDevice||e.preventDefault(),"Gregorian"===this.calendarMode?this.previous():this.islamicModule.islamicPrevious(),this.triggerNavigate(e),"calendar"===this.getModuleName()&&this.table.focus()},t.prototype.next=function(){this.effect="";var e=this.getViewNumber(this.currentView());switch(this.currentView()){case"Month":this.addMonths(this.currentDate,1),this.switchView(e);break;case"Year":this.addYears(this.currentDate,1),this.switchView(e);break;case"Decade":this.addYears(this.currentDate,10),this.switchView(e)}},t.prototype.navigateNext=function(e){A.AR.isDevice||e.preventDefault(),"Gregorian"===this.calendarMode?this.next():this.islamicModule.islamicNext(),this.triggerNavigate(e),"calendar"===this.getModuleName()&&this.table.focus()},t.prototype.navigateTo=function(e,t,i){+t>=+this.min&&+t<=+this.max&&(this.currentDate=t),+t<=+this.min&&(this.currentDate=new Date(this.checkValue(this.min))),+t>=+this.max&&(this.currentDate=new Date(this.checkValue(this.max))),this.getViewNumber(this.depth)>=this.getViewNumber(e)&&(this.getViewNumber(this.depth)<=this.getViewNumber(this.start)||this.getViewNumber(this.depth)===this.getViewNumber(e))&&(e=this.depth),this.switchView(this.getViewNumber(e),null,null,i)},t.prototype.currentView=function(){return!(0,A.le)(this.contentElement)&&this.contentElement.classList.contains(eX)?"Year":!(0,A.le)(this.contentElement)&&this.contentElement.classList.contains(eJ)?"Decade":"Month"},t.prototype.getDateVal=function(e,t){return!(0,A.le)(t)&&e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()},t.prototype.getCultureObjects=function(e,t){var i=".dates.calendars.gregorian.days.format."+this.dayHeaderFormat.toLowerCase(),n=".dates.calendars.islamic.days.format."+this.dayHeaderFormat.toLowerCase();return"Gregorian"===this.calendarMode?(0,A.NA)("main."+this.locale+i,e):(0,A.NA)("main."+this.locale+n,e)},t.prototype.getWeek=function(e){return Math.ceil((new Date(this.checkValue(e)).valueOf()-new Date(e.getFullYear(),0,1).valueOf()+864e5)/864e5/7)},t.prototype.setStartDate=function(e,t){var i=e.getTimezoneOffset(),n=new Date(e.getTime()+t),r=n.getTimezoneOffset()-i;e.setTime(n.getTime()+6e4*r)},t.prototype.addMonths=function(e,t){if("Gregorian"===this.calendarMode){var i=e.getDate();e.setDate(1),e.setMonth(e.getMonth()+t),e.setDate(Math.min(i,this.getMaxDays(e)))}else{var n=this.islamicModule.getIslamicDate(e);this.currentDate=this.islamicModule.toGregorian(n.year,n.month+t,1)}},t.prototype.addYears=function(e,t){if("Gregorian"===this.calendarMode){var i=e.getDate();e.setDate(1),e.setFullYear(e.getFullYear()+t),e.setDate(Math.min(i,this.getMaxDays(e)))}else{var n=this.islamicModule.getIslamicDate(e);this.currentDate=this.islamicModule.toGregorian(n.year+t,n.month,1)}},t.prototype.getIdValue=function(e,t){i=e?e.currentTarget:t;var i,n={type:"dateTime",skeleton:"full",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"},r=this.globalize.formatDate(new Date(parseInt(""+i.getAttribute("id"),0)),n),a=this.globalize.parseDate(r,n),s=a.valueOf()-a.valueOf()%1e3;return new Date(s)},t.prototype.adjustLongHeaderSize=function(){(0,A.IV)([this.element],tt),"Wide"===this.dayHeaderFormat&&(0,A.cn)(["calendar"===this.getModuleName()?this.element:this.calendarElement],tt)},t.prototype.selectDate=function(e,t,i,n,r){var a=i||e.currentTarget;if(this.isDateSelected=!1,"Decade"===this.currentView())this.setDateDecade(this.currentDate,t.getFullYear());else if("Year"===this.currentView())this.setDateYear(this.currentDate,t);else{if(n&&!this.checkPresentDate(t,r)){var s=this.copyValues(r);!(0,A.le)(r)&&s.length>0?(s.push(new Date(this.checkValue(t))),this.setProperties({values:s},!0),this.setProperties({value:r[r.length-1]},!0)):this.setProperties({values:[new Date(this.checkValue(t))]},!0)}else this.setProperties({value:new Date(this.checkValue(t))},!0);this.currentDate=new Date(this.checkValue(t))}var o=(0,A.oq)(a,"."+eK);if((0,A.le)(o)&&(o=this.tableBodyElement),n||(0,A.le)(o.querySelector("."+e2))||(0,A.IV)([o.querySelector("."+e2)],e2),n||(0,A.le)(o.querySelector("."+e4))||(0,A.IV)([o.querySelector("."+e4)],e4),n){for(var s=this.copyValues(r),l=Array.prototype.slice.call(this.tableBodyElement.querySelectorAll("td")),h=0;h<l.length;h++){var p=o.querySelectorAll("td."+e4)[0],c=o.querySelectorAll("td."+e2)[0];l[h]===p&&(0,A.IV)([l[h]],e4),l[h]!==c||this.checkPresentDate(new Date(parseInt(c.getAttribute("id").split("_")[0],10)),r)||(0,A.IV)([l[h]],e2)}if(a.classList.contains(e2)){(0,A.IV)([a],e2);for(var u=0;u<s.length;u++){var d={format:null,type:"date",skeleton:"short",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"};if(this.globalize.formatDate(t,d)===this.globalize.formatDate(s[u],d)){var h=s.indexOf(s[u]);s.splice(h,1),(0,A.cn)([a],e4)}}this.setProperties({values:s},!0)}else(0,A.cn)([a],e2)}else(0,A.cn)([a],e2);this.isDateSelected=!0},t.prototype.checkPresentDate=function(e,t){var i=!1;if(!(0,A.le)(t))for(var n=0;n<t.length;n++){var r="Gregorian"===this.calendarMode?"gregorian":"islamic";this.globalize.formatDate(e,{format:null,type:"date",skeleton:"short",calendar:r})===this.globalize.formatDate(t[n],{format:null,type:"date",skeleton:"short",calendar:r})&&(i=!0)}return i},t.prototype.setAriaActiveDescendant=function(){(0,A.Y4)(this.table,{"aria-activedescendant":""+this.setActiveDescendant()})},t.prototype.previousIconHandler=function(e){e?(0,A.le)(this.previousIcon)||(A.bi.remove(this.previousIcon,"click",this.navigatePreviousHandler),(0,A.cn)([this.previousIcon],""+e1),(0,A.cn)([this.previousIcon],""+e9),this.previousIcon.setAttribute("aria-disabled","true")):(A.bi.add(this.previousIcon,"click",this.navigatePreviousHandler),(0,A.IV)([this.previousIcon],""+e1),(0,A.IV)([this.previousIcon],""+e9),this.previousIcon.setAttribute("aria-disabled","false"))},t.prototype.renderDayCellEvent=function(e){(0,A.l7)(this.renderDayCellArgs,{name:"renderDayCell"}),this.trigger("renderDayCell",e)},t.prototype.navigatedEvent=function(e){(0,A.l7)(this.navigatedArgs,{name:"navigated",event:e}),this.trigger("navigated",this.navigatedArgs)},t.prototype.triggerNavigate=function(e){this.navigatedArgs={view:this.currentView(),date:this.currentDate},this.navigatedEvent(e)},t.prototype.nextIconHandler=function(e){e?(0,A.le)(this.previousIcon)||(A.bi.remove(this.nextIcon,"click",this.navigateNextHandler),(0,A.cn)([this.nextIcon],e1),(0,A.cn)([this.nextIcon],e9),this.nextIcon.setAttribute("aria-disabled","true")):(A.bi.add(this.nextIcon,"click",this.navigateNextHandler),(0,A.IV)([this.nextIcon],e1),(0,A.IV)([this.nextIcon],e9),this.nextIcon.setAttribute("aria-disabled","false"))},t.prototype.compare=function(e,t,i){var n,r,a=t.getFullYear();return n=a,r=0,i&&(a-=a%i,n=a-a%i+i-1),e.getFullYear()>n?r=1:e.getFullYear()<a&&(r=-1),r},t.prototype.isMinMaxRange=function(e){return+e>=+this.min&&+e<=+this.max},t.prototype.isMonthYearRange=function(e){if("Gregorian"===this.calendarMode)return e.getMonth()>=this.min.getMonth()&&e.getFullYear()>=this.min.getFullYear()&&e.getMonth()<=this.max.getMonth()&&e.getFullYear()<=this.max.getFullYear();var t=this.islamicModule.getIslamicDate(e);return t.month>=this.islamicModule.getIslamicDate(new Date(1944,1,18)).month&&t.year>=this.islamicModule.getIslamicDate(new Date(1944,1,18)).year&&t.month<=this.islamicModule.getIslamicDate(new Date(2069,1,16)).month&&t.year<=this.islamicModule.getIslamicDate(new Date(2069,1,16)).year},t.prototype.compareYear=function(e,t){return this.compare(e,t,0)},t.prototype.compareDecade=function(e,t){return this.compare(e,t,10)},t.prototype.shiftArray=function(e,t){return e.slice(t).concat(e.slice(0,t))},t.prototype.addDay=function(e,t,i,n,r){var a=t,s=new Date(+e);if(!(0,A.le)(this.tableBodyElement)&&!(0,A.le)(i)){for(;this.findNextTD(new Date(+e),a,n,r);)a+=t;var o=new Date(s.setDate(s.getDate()+a));a=+o>+n||+o<+r?a===t?t-t:t:a}e.setDate(e.getDate()+a)},t.prototype.findNextTD=function(e,t,i,n){var r=new Date(e.setDate(e.getDate()+t)),a=[],s=!1;if(a=(!(0,A.le)(r)&&r.getMonth())===(!(0,A.le)(this.currentDate)&&this.currentDate.getMonth())?("Gregorian"===this.calendarMode?this.renderDays(r):this.islamicModule.islamicRenderDays(this.currentDate,r)).filter(function(e){return e.classList.contains(e1)}):this.tableBodyElement.querySelectorAll("td."+e1),+r<=+i&&+r>=+n&&a.length)for(var o=0;o<a.length&&!(s=+r==+new Date(parseInt(a[o].id,0)));o++);return s},t.prototype.getMaxDays=function(e){var t,i=new Date(this.checkValue(e));t=28;for(var n=i.getMonth();i.getMonth()===n;)++t,i.setDate(t);return t-1},t.prototype.setDateDecade=function(e,t){e.setFullYear(t),this.setProperties({value:new Date(this.checkValue(e))},!0)},t.prototype.setDateYear=function(e,t){e.setFullYear(t.getFullYear(),t.getMonth(),e.getDate()),t.getMonth()!==e.getMonth()&&(e.setDate(0),this.currentDate=new Date(this.checkValue(t))),this.setProperties({value:new Date(this.checkValue(e))},!0)},t.prototype.compareMonth=function(e,t){return e.getFullYear()>t.getFullYear()?1:e.getFullYear()<t.getFullYear()?-1:e.getMonth()===t.getMonth()?0:e.getMonth()>t.getMonth()?1:-1},t.prototype.checkValue=function(e){return e instanceof Date?e.toUTCString():""+e},t.prototype.checkView=function(){"Decade"!==this.start&&"Year"!==this.start&&this.setProperties({start:"Month"},!0),"Decade"!==this.depth&&"Year"!==this.depth&&this.setProperties({depth:"Month"},!0),this.getViewNumber(this.depth)>this.getViewNumber(this.start)&&this.setProperties({depth:"Month"},!0)},t.prototype.getDate=function(e,t){return t&&(e=new Date(e.toLocaleString("en-US",{timeZone:t}))),e},eY([(0,A.Z9)(new Date(1900,0,1))],t.prototype,"min",void 0),eY([(0,A.Z9)(!0)],t.prototype,"enabled",void 0),eY([(0,A.Z9)(null)],t.prototype,"cssClass",void 0),eY([(0,A.Z9)(new Date(2099,11,31))],t.prototype,"max",void 0),eY([(0,A.Z9)(null)],t.prototype,"firstDayOfWeek",void 0),eY([(0,A.Z9)("Gregorian")],t.prototype,"calendarMode",void 0),eY([(0,A.Z9)("Month")],t.prototype,"start",void 0),eY([(0,A.Z9)("Month")],t.prototype,"depth",void 0),eY([(0,A.Z9)(!1)],t.prototype,"weekNumber",void 0),eY([(0,A.Z9)("FirstDay")],t.prototype,"weekRule",void 0),eY([(0,A.Z9)(!0)],t.prototype,"showTodayButton",void 0),eY([(0,A.Z9)("Short")],t.prototype,"dayHeaderFormat",void 0),eY([(0,A.Z9)(!1)],t.prototype,"enablePersistence",void 0),eY([(0,A.Z9)(null)],t.prototype,"keyConfigs",void 0),eY([(0,A.Z9)(null)],t.prototype,"serverTimezoneOffset",void 0),eY([(0,A.ju)()],t.prototype,"created",void 0),eY([(0,A.ju)()],t.prototype,"destroyed",void 0),eY([(0,A.ju)()],t.prototype,"navigated",void 0),eY([(0,A.ju)()],t.prototype,"renderDayCell",void 0),t=eY([A.Zl],t)}(A.wA)),tn=i(30811),tr=i(66308),ta=i(43782),ts=function(){function e(e){this.parent=e,this.l10n=this.parent.localeObj,this.renderHeader(),this.addEventListener()}return e.prototype.addEventListener=function(){this.parent.on(tn.ZT,this.closeHeaderPopup,this)},e.prototype.removeEventListener=function(){this.parent.off(tn.ZT,this.closeHeaderPopup)},e.prototype.closeHeaderPopup=function(e){var t=(0,A.oq)(e.event.target,".e-date-range,.e-header-popup,.e-day,.e-selected"),i=(0,A.oq)(e.event.target,".e-hor-nav,.e-toolbar-pop"),n=this.parent.element.querySelector("."+ta.y0r);if(this.parent.isAdaptive){if(!(0,A.le)(i)&&(i.classList.contains("e-toolbar-pop")||i.classList.contains("e-hor-nav"))&&!(i.classList.contains("e-hor-nav")&&this.element.querySelector(".e-toolbar-pop").classList.contains(ta.HRK)))(0,A.cn)([n],ta.eJG);else{(0,A.IV)([n],ta.eJG);var r=this.element.querySelector(".e-toolbar-pop");if(!(0,A.le)(r)){var a=r.ej2_instances[0];a&&!(!(0,A.le)(i)&&i.classList.contains("e-hor-nav")&&r.classList.contains(ta.HRK))&&a.hide()}}}(0,A.le)(t)&&this.hideHeaderPopup()},e.prototype.hideHeaderPopup=function(){this.headerPopup&&this.headerPopup.hide()},e.prototype.renderHeader=function(){this.element=(0,A.az)("div",{className:ta.yty});var e=(0,A.az)("div",{className:ta.va0});this.element.appendChild(e),this.parent.element.insertBefore(this.element,this.parent.element.firstElementChild),this.renderToolbar()},e.prototype.renderToolbar=function(){var e=this,t=this.getItems();this.parent.trigger(tn.m2,{requestType:"toolbarItemRendering",items:t},function(t){e.toolbarObj=new eN({items:t.items,overflowMode:"Popup",clicked:e.toolbarClickHandler.bind(e),enableRtl:e.parent.enableRtl,enableHtmlSanitizer:e.parent.enableHtmlSanitizer,locale:e.parent.locale}),e.toolbarObj.appendTo(e.parent.element.querySelector("."+ta.va0));var i=e.toolbarObj.element.querySelector(".e-prev");i&&i.firstElementChild.setAttribute("title",e.l10n.getConstant("previous"));var n=e.toolbarObj.element.querySelector(".e-next");n&&n.firstElementChild.setAttribute("title",e.l10n.getConstant("next")),e.updateAddIcon(),e.updateActiveView(),e.parent.trigger(tn.i8,{requestType:"toolBarItemRendered",items:e.toolbarObj.items})})},e.prototype.updateItems=function(){var e=this;if(this.toolbarObj){var t=this.getItems();this.parent.trigger(tn.m2,{requestType:"toolbarItemRendering",items:t},function(t){e.toolbarObj.items=t.items,e.toolbarObj.dataBind(),e.parent.trigger(tn.i8,{requestType:"toolBarItemRendered",items:e.toolbarObj.items})})}},e.prototype.getPopUpRelativeElement=function(){return this.parent.isAdaptive?this.toolbarObj.element:this.element.querySelector(".e-date-range")},e.prototype.setDayOfWeek=function(e){this.headerCalendar&&(this.headerCalendar.firstDayOfWeek=e,this.headerCalendar.dataBind())},e.prototype.setCalendarDate=function(e){this.headerCalendar&&(this.headerCalendar.value=e,this.headerCalendar.dataBind())},e.prototype.setCalendarMinMaxDate=function(){this.headerCalendar&&(this.headerCalendar.min=this.parent.minDate,this.headerCalendar.max=this.parent.maxDate,this.headerCalendar.dataBind())},e.prototype.getCalendarView=function(){return["Month","MonthAgenda","TimelineMonth"].indexOf(this.parent.currentView)>-1?"Year":["Year","TimelineYear"].indexOf(this.parent.currentView)>-1?"Decade":"Month"},e.prototype.setCalendarView=function(){if(this.headerCalendar){var e=this.getCalendarView();this.headerCalendar.depth=e,this.headerCalendar.start=e,this.headerCalendar.refresh()}},e.prototype.updateActiveView=function(){var e=[].slice.call(this.toolbarObj.element.querySelectorAll(".e-views"));(0,A.IV)(e,["e-active-view"]),e.length>0&&e[this.parent.viewIndex]&&(0,A.cn)([e[this.parent.viewIndex]],["e-active-view"])},e.prototype.updateDateRange=function(e){var t=this.toolbarObj.element.querySelector(".e-date-range");if(t){var i=t.querySelector(".e-tbar-btn-text");if(this.parent.activeViewOptions.dateRangeTemplate){i.textContent="";var n={startDate:this.parent.activeView.getStartDate(),endDate:this.parent.activeView.getEndDate(),currentView:this.parent.currentView},r=this.parent.activeViewOptions.dateRangeTemplateName,a=this.parent.element.id+"_"+r+"dateRangeTemplate",s=[].slice.call(this.parent.getDateRangeTemplate()(n,this.parent,"dateRangeTemplate",a,!1));(0,A.R3)(s,i)}else{var o=this.parent.activeView.getDateRangeText(e);t.firstElementChild.setAttribute("aria-label",o),i.textContent=o}this.refresh()}},e.prototype.refresh=function(){this.toolbarObj&&this.toolbarObj.refreshOverflow()},e.prototype.updateAddIcon=function(){var e=this.toolbarObj.element.querySelector(".e-add");e&&(this.parent.eventSettings.allowAdding?(0,A.IV)([e],ta.V27):(0,A.cn)([e],ta.V27))},e.prototype.getDateRangeText=function(){var e=this.parent.globalize.formatDate(this.parent.selectedDate,{format:"MMMM y",calendar:this.parent.getCalendarMode()});return tr.hz(e,"single")},e.prototype.getItems=function(){var e=[];if(e.push({align:"Left",prefixIcon:"e-icon-prev",tooltipText:"Previous",overflow:"Show",cssClass:"e-prev",htmlAttributes:{role:"navigation"}}),e.push({align:"Left",prefixIcon:"e-icon-next",tooltipText:"Next",overflow:"Show",cssClass:"e-next",htmlAttributes:{role:"navigation"}}),e.push({align:"Left",text:this.getDateRangeText(),suffixIcon:"e-icon-down-arrow",cssClass:"e-date-range",overflow:"Show",htmlAttributes:{"aria-atomic":"true","aria-live":"assertive",role:"navigation"}}),this.parent.isAdaptive||this.parent.enableAdaptiveUI?(e.push({align:"Right",showAlwaysInPopup:this.parent.isAdaptive||this.parent.enableAdaptiveUI,prefixIcon:"e-icon-add",text:this.l10n.getConstant("newEvent"),cssClass:"e-add",overflow:"Show"}),e.push({align:"Right",showAlwaysInPopup:this.parent.isAdaptive||this.parent.enableAdaptiveUI,prefixIcon:"e-icon-today",text:this.l10n.getConstant("today"),cssClass:"e-today",overflow:"Show"})):(e.push({align:"Right",showAlwaysInPopup:this.parent.isAdaptive||this.parent.enableAdaptiveUI,prefixIcon:"e-icon-day",text:this.l10n.getConstant("today"),cssClass:"e-today",overflow:"Show"}),this.parent.views.length>1&&e.push({align:"Right",type:"Separator",cssClass:"e-schedule-seperator"})),this.parent.views.length>1)for(var t=0,i=this.parent.views;t<i.length;t++){var n=i[t];e.push(this.getItemObject(n))}return e},e.prototype.getItemObject=function(e){"string"==typeof e?(t=e.toLowerCase(),i=null):(t=e.option.toLowerCase(),i=e.displayName);var t,i,n,r=this.parent.isAdaptive||this.parent.enableAdaptiveUI;switch(t){case"day":n={align:"Right",showAlwaysInPopup:r,prefixIcon:"e-icon-day",text:i||this.l10n.getConstant("day"),cssClass:"e-views e-day"};break;case"week":n={align:"Right",showAlwaysInPopup:r,prefixIcon:"e-icon-week",text:i||this.l10n.getConstant("week"),cssClass:"e-views e-week"};break;case"workweek":n={align:"Right",showAlwaysInPopup:r,prefixIcon:"e-icon-workweek",text:i||this.l10n.getConstant("workWeek"),cssClass:"e-views e-work-week"};break;case"month":n={align:"Right",showAlwaysInPopup:r,prefixIcon:"e-icon-month",text:i||this.l10n.getConstant("month"),cssClass:"e-views e-month"};break;case"year":n={align:"Right",showAlwaysInPopup:r,prefixIcon:"e-icon-year",text:i||this.l10n.getConstant("year"),cssClass:"e-views e-year"};break;case"agenda":n={align:"Right",showAlwaysInPopup:r,prefixIcon:"e-icon-agenda",text:i||this.l10n.getConstant("agenda"),cssClass:"e-views e-agenda"};break;case"monthagenda":n={align:"Right",showAlwaysInPopup:r,prefixIcon:"e-icon-month-agenda",text:i||this.l10n.getConstant("monthAgenda"),cssClass:"e-views e-month-agenda"};break;case"timelineday":n={align:"Right",showAlwaysInPopup:r,prefixIcon:"e-icon-timeline-day",text:i||this.l10n.getConstant("timelineDay"),cssClass:"e-views e-timeline-day"};break;case"timelineweek":n={align:"Right",showAlwaysInPopup:r,prefixIcon:"e-icon-timeline-week",text:i||this.l10n.getConstant("timelineWeek"),cssClass:"e-views e-timeline-week"};break;case"timelineworkweek":n={align:"Right",showAlwaysInPopup:r,prefixIcon:"e-icon-timeline-workweek",text:i||this.l10n.getConstant("timelineWorkWeek"),cssClass:"e-views e-timeline-work-week"};break;case"timelinemonth":n={align:"Right",showAlwaysInPopup:r,prefixIcon:"e-icon-timeline-month",text:i||this.l10n.getConstant("timelineMonth"),cssClass:"e-views e-timeline-month"};break;case"timelineyear":n={align:"Right",showAlwaysInPopup:r,prefixIcon:"e-icon-timeline-year-"+("Vertical"===e.orientation?"vertical":"horizontal"),text:i||this.l10n.getConstant("timelineYear"),cssClass:"e-views e-timeline-year"}}return n},e.prototype.renderHeaderPopup=function(){var e=(0,A.az)("div",{className:ta.H9V}),t=(0,A.az)("div",{className:ta.UU3});e.appendChild(t),this.element.appendChild(e),this.headerPopup=new M.GI(e,{actionOnScroll:"hide",targetType:"relative",relateTo:this.getPopUpRelativeElement(),position:{X:"left",Y:"bottom"},enableRtl:this.parent.enableRtl});var i=this.getCalendarView(),n="Month"===this.parent.currentView&&!(0,A.le)(this.parent.activeViewOptions.displayDate)&&!this.hasSelectedDate();this.headerCalendar=new ti({value:n?this.parent.activeViewOptions.displayDate:this.parent.selectedDate,min:this.parent.minDate,max:this.parent.maxDate,firstDayOfWeek:this.parent.activeViewOptions.firstDayOfWeek,enableRtl:this.parent.enableRtl,locale:this.parent.locale,depth:i,start:i,calendarMode:this.parent.calendarMode,change:this.calendarChange.bind(this)}),this.setCalendarTimezone(),this.headerCalendar.appendTo(t),this.headerPopup.hide()},e.prototype.calendarChange=function(e){if(e.value.getTime()!==this.parent.selectedDate.getTime()){var t=tr.zS(new Date(e.value));this.parent.changeDate(t)}this.headerPopup.hide()},e.prototype.setCalendarTimezone=function(){this.headerCalendar&&(this.headerCalendar.timezone=this.parent.timezone||this.parent.tzModule.getLocalTimezoneName())},e.prototype.calculateViewIndex=function(e){var t=(0,A.oq)(e.originalEvent.target,".e-views");return[].slice.call(this.element.querySelectorAll(".e-views")).indexOf(t)},e.prototype.toolbarClickHandler=function(e){if(e.item){switch(e.item.cssClass.replace("e-views ","")){case"e-date-range":this.headerPopup||this.renderHeaderPopup(),this.headerPopup.element.classList.contains(ta.HRK)?this.headerPopup.hide():this.headerPopup.show();break;case"e-day":this.parent.changeView("Day",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-week":this.parent.changeView("Week",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-work-week":this.parent.changeView("WorkWeek",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-month":this.parent.changeView("Month",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-year":this.parent.changeView("Year",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-agenda":this.parent.changeView("Agenda",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-month-agenda":this.parent.changeView("MonthAgenda",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-timeline-day":this.parent.changeView("TimelineDay",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-timeline-week":this.parent.changeView("TimelineWeek",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-timeline-work-week":this.parent.changeView("TimelineWorkWeek",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-timeline-month":this.parent.changeView("TimelineMonth",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-timeline-year":this.parent.changeView("TimelineYear",e.originalEvent,void 0,this.calculateViewIndex(e));break;case"e-today":n=tr.zS(this.parent.getCurrentTime()),"Agenda"!==this.parent.currentView&&"MonthAgenda"!==this.parent.currentView&&this.parent.isSelectedDate(n)&&("Month"!==this.parent.currentView||!this.parent.activeViewOptions.displayDate||this.hasSelectedDate()||tr.zS(this.parent.activeViewOptions.displayDate)===n)&&("Month"!==this.parent.currentView||!(this.parent.activeViewOptions.numberOfWeeks>0)||this.hasSelectedDate()||tr.zS(tr.vO(this.parent.selectedDate))===n)||this.parent.changeDate(n,e.originalEvent);break;case"e-prev":this.parent.changeDate(this.parent.activeView.getNextPreviousDate("previous"),e.originalEvent);break;case"e-next":this.parent.changeDate(this.parent.activeView.getNextPreviousDate("next"),e.originalEvent);break;case"e-add":if(i=this.parent.activeCellsData.startTime.getTime()===this.parent.activeCellsData.endTime.getTime(),this.parent.activeCellsData&&!i)t=this.parent.activeCellsData;else{var t,i,n,r=this.parent.activeViewOptions.timeScale.interval,a=this.parent.activeViewOptions.timeScale.slotCount,s=r*tr.X$/a,o=new Date(this.parent.selectedDate.getTime()),l=this.parent.getCurrentTime();o.setHours(l.getHours(),Math.round(o.getMinutes()/s)*s,0);var h=new Date(new Date(o.getTime()).setMilliseconds(o.getMilliseconds()+s));t={startTime:o,endTime:h,isAllDay:!1}}this.parent.eventWindow.openEditor((0,A.l7)(t,{cancel:!1,event:e.originalEvent}),"Add")}if(!(0,A.le)(this.toolbarObj)){var p=this.toolbarObj.element.querySelector(".e-toolbar-pop");p&&"Input"!==e.item.type&&p.ej2_instances[0].hide({name:"SlideUp",duration:100})}}},e.prototype.hasSelectedDate=function(){var e=tr.zS(this.parent.selectedDate).getTime();return e>=this.parent.activeView.getStartDate().getTime()&&e<=this.parent.activeView.getEndDate().getTime()},e.prototype.getHeaderElement=function(){return this.toolbarObj.element},e.prototype.updateHeaderItems=function(e){var t=this.toolbarObj.element.querySelector(".e-prev"),i=this.toolbarObj.element.querySelector(".e-next"),n=this.toolbarObj.element.querySelector(".e-date-range");t&&("add"===e?(0,A.cn)([t],ta.V27):(0,A.IV)([t],ta.V27)),i&&("add"===e?(0,A.cn)([i],ta.V27):(0,A.IV)([i],ta.V27)),n&&("add"===e?(0,A.cn)([n],ta.khW):(0,A.IV)([n],ta.khW))},e.prototype.previousNextIconHandler=function(){var e="Agenda"===this.parent.currentView?[this.parent.getCurrentViewDates()[0]]:this.parent.getCurrentViewDates(),t=this.toolbarObj.element.querySelector("."+ta.mC6),i=this.toolbarObj.element.querySelector("."+ta.AvZ),n=new Date(e[0].getTime()),r=new Date(e[e.length-1].getTime());if("WorkWeek"===this.parent.currentView||"TimelineWorkWeek"===this.parent.currentView)n=tr.tk(tr.zS(this.parent.selectedDate),this.parent.firstDayOfWeek),r=tr.E4(n,7*this.parent.activeViewOptions.interval);else if("Month"===this.parent.currentView){var a=!(0,A.le)(this.parent.activeViewOptions.displayDate)||this.parent.activeViewOptions.numberOfWeeks>0;n=a?this.parent.activeView.getStartDate():tr.vO(this.parent.selectedDate),r=a?this.parent.activeView.getEndDate():tr._m(tr.zI(n,this.parent.activeViewOptions.interval-1))}(0,A.le)(t)||this.toolbarObj.enableItems(t,n>tr.zS(this.parent.minDate)),(0,A.le)(i)||this.toolbarObj.enableItems(i,r<tr.zS(this.parent.maxDate)),this.setCalendarMinMaxDate()},e.prototype.getModuleName=function(){return"headerbar"},e.prototype.destroy=function(){this.headerPopup&&!this.headerPopup.isDestroyed&&(this.headerPopup.destroy(),this.headerPopup=null),this.headerCalendar&&!this.headerCalendar.isDestroyed&&(this.headerCalendar.destroy(),this.headerCalendar=null),this.toolbarObj&&!this.toolbarObj.isDestroyed&&(this.toolbarObj.destroy(),this.removeEventListener(),(0,A.Od)(this.element),this.toolbarObj=null),this.element=null,this.parent=null,this.l10n=null},e}(),to=function(){function e(e){this.parent=e,this.addEventListener()}return e.prototype.getModuleName=function(){return"scroll"},e.prototype.setWidth=function(){this.parent.element.style.width=(0,A.Ac)(this.parent.width)},e.prototype.setHeight=function(){this.parent.element.style.height=(0,A.Ac)(this.parent.height)},e.prototype.addEventListener=function(){this.parent.on(tn.GE,this.setDimensions,this),this.parent.on(tn.vx,this.onPropertyChanged,this)},e.prototype.removeEventListener=function(){this.parent.off(tn.GE,this.setDimensions),this.parent.off(tn.vx,this.onPropertyChanged)},e.prototype.setDimensions=function(){this.setWidth(),this.setHeight();var e={cssProperties:this.parent.getCssProperties(),module:this.getModuleName()};this.parent.notify(tn.Cn,e)},e.prototype.onPropertyChanged=function(){this.setDimensions()},e.prototype.destroy=function(){this.removeEventListener()},e}(),tl=function(){function e(e){this.parent=e,this.element=this.parent.element.querySelector("."+ta.x83),this.touchObj=new A.Xh(this.element,{scroll:this.scrollHandler.bind(this),swipe:this.swipeHandler.bind(this),tapHold:this.tapHoldHandler.bind(this),swipeSettings:{swipeThresholdDistance:1}}),A.bi.add(this.element,"transitionend",this.onTransitionEnd,this),this.touchLeftDirection=this.parent.enableRtl?"Right":"Left",this.touchRightDirection=this.parent.enableRtl?"Left":"Right"}return e.prototype.scrollHandler=function(e){if(!("Agenda"===this.parent.currentView||this.parent.uiStateValues.action||!this.parent.allowSwiping||e.originalEvent&&e.originalEvent.target&&(e.originalEvent.target.classList.contains(ta.MQu)||(0,A.oq)(e.originalEvent.target,"."+ta.MQu))&&!this.parent.isAdaptive)){if(this.timeStampStart||(this.timeStampStart=Date.now()),this.element.classList.contains(ta.l_s)&&this.onTransitionEnd(),"Left"===e.scrollDirection||"Right"===e.scrollDirection){var t={requestType:"dateNavigate",cancel:!1,event:e.originalEvent};if(this.parent.trigger(tn.m2,t),t.cancel)return;var i=this.element.querySelector("."+ta.y0r);if(i&&i.scrollWidth>i.clientWidth)return;this.isScrollTriggered=!0,e.originalEvent.preventDefault(),e.originalEvent.stopPropagation()}if(e.scrollDirection===this.touchLeftDirection){this.nextPanel||(this.renderPanel(ta.$x_,"next"),this.nextPanel={element:this.parent.activeView.getPanel(),selectedDate:new Date(this.parent.selectedDate.getTime()),renderDates:this.parent.activeView.renderDates,colLevels:this.parent.activeView.colLevels},this.setDimensions(this.nextPanel.element));var n=this.parent.enableRtl?e.distanceX:-e.distanceX;this.element.style.transform="translatex("+(this.getTranslateX(this.element)+n)+"px)"}else if(e.scrollDirection===this.touchRightDirection){var r=0;this.previousPanel||(this.renderPanel(ta.Zr4,"previous"),this.previousPanel={element:this.parent.activeView.getPanel(),selectedDate:new Date(this.parent.selectedDate.getTime()),renderDates:this.parent.activeView.renderDates,colLevels:this.parent.activeView.colLevels},this.setDimensions(this.previousPanel.element),r=this.previousPanel.element.offsetWidth);var n=this.parent.enableRtl?r-e.distanceX:-r+e.distanceX;this.element.style.transform="translatex("+(this.getTranslateX(this.element)+n)+"px)"}}},e.prototype.swipeHandler=function(e){if(this.isScrollTriggered&&!this.parent.uiStateValues.action&&this.parent.allowSwiping){this.isScrollTriggered=!1;var t="Left"===e.swipeDirection?this.parent.activeView.renderDates[0]:this.parent.activeView.renderDates.slice(-1)[0];if("Left"===e.swipeDirection&&t<this.parent.maxDate||"Right"===e.swipeDirection&&t>=this.parent.minDate){var i=Date.now()-this.timeStampStart,n=e.distanceX*(A.AR.isDevice?6:1.66);n>i||e.distanceX>this.parent.element.offsetWidth/2?(this.swapPanels(e.swipeDirection),n>i&&e.distanceX>this.parent.element.offsetWidth/2&&(this.element.style.transitionDuration=(A.AR.isDevice?e.distanceX:n)/i/10+"s"),this.confirmSwipe(e.swipeDirection)):this.cancelSwipe();var r={requestType:"dateNavigate",cancel:!1,event:e.originalEvent};this.parent.trigger(tn.i8,r)}else this.cancelSwipe();this.timeStampStart=null}},e.prototype.tapHoldHandler=function(e){var t=(0,A.oq)(e.originalEvent.target,"."+ta.MQu);if(!(0,A.le)(t)&&this.parent.isAdaptive){this.parent.quickPopup.tapHoldEventPopup(e.originalEvent);return}},e.prototype.renderPanel=function(e,t){this.currentPanel?this.parent.setProperties({selectedDate:this.currentPanel.selectedDate},!0):(this.currentPanel={element:this.parent.activeView.getPanel(),selectedDate:new Date(this.parent.selectedDate.getTime()),renderDates:this.parent.activeView.renderDates,colLevels:this.parent.activeView.colLevels},this.setDimensions(this.currentPanel.element)),this.parent.setProperties({selectedDate:this.parent.activeView.getNextPreviousDate(t)},!0),this.parent.headerModule&&this.parent.headerModule.setCalendarDate(this.parent.selectedDate),this.parent.activeView.getRenderDates(),this.parent.activeView.renderLayout(e)},e.prototype.swapPanels=function(e){if(e===this.touchLeftDirection){var t=this.nextPanel;this.nextPanel=this.currentPanel,this.currentPanel=t}else{var t=this.previousPanel;this.previousPanel=this.currentPanel,this.currentPanel=t}},e.prototype.confirmSwipe=function(e){var t=this,i={action:"date",cancel:!1,previousDate:e===this.touchLeftDirection?this.nextPanel.selectedDate:this.previousPanel.selectedDate,currentDate:this.currentPanel.selectedDate};this.parent.trigger(tn.xO,i,function(i){if(i.cancel)t.swapPanels(e),t.cancelSwipe();else{t.parent.activeView.setPanel(t.currentPanel.element),t.parent.setProperties({selectedDate:t.currentPanel.selectedDate},!0);var n=void 0;n=t.parent.enableRtl?e===t.touchLeftDirection?t.previousPanel?t.previousPanel.element.offsetLeft:t.currentPanel.element.offsetWidth:0:e===t.touchLeftDirection?-t.currentPanel.element.offsetLeft:0,t.parent.activeView.renderDates=t.currentPanel.renderDates,t.parent.activeView.colLevels=t.currentPanel.colLevels,(0,A.cn)([t.element],ta.l_s),t.element.style.transform="translatex("+n+"px)",t.parent.headerModule&&t.parent.headerModule.updateDateRange(),t.parent.renderTemplates(),t.parent.crudModule.refreshDataManager()}})},e.prototype.cancelSwipe=function(){this.parent.activeView.setPanel(this.currentPanel.element),this.parent.setProperties({selectedDate:this.currentPanel.selectedDate},!0),this.parent.activeView.renderDates=this.currentPanel.renderDates,this.parent.activeView.colLevels=this.currentPanel.colLevels,(0,A.cn)([this.element],ta.l_s);var e=this.previousPanel?this.previousPanel.element.offsetWidth:0;this.element.style.transform="translatex("+(this.parent.enableRtl?e:-this.currentPanel.element.offsetLeft)+"px)"},e.prototype.onTransitionEnd=function(){(0,A.IV)([this.element],ta.l_s),this.element.style.transitionDuration="",this.element.style.transform="",this.previousPanel&&((0,A.Od)(this.previousPanel.element),this.previousPanel=null,(0,A.IV)([this.currentPanel.element],ta.Zr4),(0,A.cn)([this.currentPanel.element],ta.LCM)),this.nextPanel&&((0,A.Od)(this.nextPanel.element),this.nextPanel=null,(0,A.IV)([this.currentPanel.element],ta.$x_),(0,A.cn)([this.currentPanel.element],ta.LCM)),this.currentPanel=null,this.parent.activeView.getPanel().style.width=""},e.prototype.getTranslateX=function(e){var t=window.getComputedStyle(e);return new WebKitCSSMatrix(t.webkitTransform).m41},e.prototype.setDimensions=function(e){e.style.width=this.parent.element.clientWidth+"px"},e.prototype.resetValues=function(){this.currentPanel=null,this.previousPanel=null,this.nextPanel=null,this.timeStampStart=null,this.element.style.transform="",this.element.style.transitionDuration="",tr.ep(this.element),(0,A.IV)([this.element],ta.l_s)},e.prototype.destroy=function(){this.touchObj&&(this.touchObj.destroy(),this.touchObj=null),A.bi.remove(this.element,"transitionend",this.onTransitionEnd),this.resetValues()},e}(),th=function(){function e(e){this.selectedCells=[],this.keyConfigs={downArrow:"downarrow",upArrow:"uparrow",rightArrow:"rightarrow",leftArrow:"leftarrow",shiftDownArrow:"shift+downarrow",shiftUpArrow:"shift+uparrow",shiftRightArrow:"shift+rightarrow",shiftLeftArrow:"shift+leftarrow",ctrlLeftArrow:"ctrl+leftarrow",ctrlRightArrow:"ctrl+rightarrow",altOne:"alt+1",altTwo:"alt+2",altThree:"alt+3",altFour:"alt+4",altFive:"alt+5",altSix:"alt+6",altSeven:"alt+7",altEight:"alt+8",altNine:"alt+9",enter:"enter",escape:"escape",delete:"delete",backspace:"backspace",home:"home",pageUp:"pageup",pageDown:"pagedown",tab:"tab",shiftTab:"shift+tab",ctrlShiftUpArrow:"ctrl+shift+uparrow",ctrlShiftDownArrow:"ctrl+shift+downarrow",ctrlShiftLeftArrow:"ctrl+shift+leftarrow",ctrlShiftRightArrow:"ctrl+shift+rightarrow"},this.parent=e,this.parent.element.tabIndex=-1===this.parent.element.tabIndex?0:this.parent.element.tabIndex,this.keyboardModule=new A.nv(this.parent.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"}),this.addEventListener()}return e.prototype.keyActionHandler=function(e){switch(e.action){case"downArrow":case"shiftDownArrow":this.processDown(e,e.shiftKey);break;case"upArrow":case"shiftUpArrow":this.processUp(e,e.shiftKey);break;case"leftArrow":case"shiftLeftArrow":this.processLeft(e,e.shiftKey);break;case"rightArrow":case"shiftRightArrow":this.processRight(e,e.shiftKey);break;case"ctrlLeftArrow":this.parent.changeDate(this.parent.activeView.getNextPreviousDate("previous"),e),this.parent.headerModule&&this.parent.headerModule.element.querySelector(".e-prev button").focus();break;case"ctrlRightArrow":this.parent.changeDate(this.parent.activeView.getNextPreviousDate("next"),e),this.parent.headerModule&&this.parent.headerModule.element.querySelector(".e-next button").focus();break;case"altOne":case"altTwo":case"altThree":case"altFour":case"altFive":case"altSix":case"altSeven":case"altEight":case"altNine":this.processViewNavigation(e);break;case"enter":this.processEnter(e);break;case"home":this.focusFirstCell();break;case"tab":case"shiftTab":this.processTab(e,e.shiftKey);break;case"delete":case"backspace":this.processDelete(e);break;case"ctrlShiftUpArrow":case"ctrlShiftDownArrow":case"ctrlShiftLeftArrow":case"ctrlShiftRightArrow":this.processCtrlShiftNavigationArrows(e);break;case"escape":this.processEscape(e);break;case"fTwelve":this.parent.allowInline&&this.parent.inlineModule&&(e.preventDefault(),this.processFTwelve(e))}},e.prototype.processFTwelve=function(e){var t=e.target;if(t.classList.contains(ta.bqQ)||t.classList.contains(ta.nqV)){this.parent.activeCellsData=this.getSelectedElements(t);var i=(0,A.l7)(this.parent.activeCellsData,{cancel:!1,event:e}),n={element:i.element,groupIndex:i.groupIndex,type:"Cell"};this.parent.notify(tn.nI,n)}if(t.classList.contains(ta.MQu)){t.click();return}},e.prototype.addEventListener=function(){this.parent.on(tn.Ui,this.onCellMouseDown,this)},e.prototype.removeEventListener=function(){this.parent.off(tn.Ui,this.onCellMouseDown)},e.prototype.onCellMouseDown=function(e){if(!e.event.shiftKey&&(this.initialTarget=this.getClosestCell(e.event),!this.parent.activeViewOptions.readonly&&"MonthAgenda"!==this.parent.currentView&&this.initialTarget&&(e.event.target.classList.contains(ta.bqQ)&&3!==e.event.which&&(this.parent.removeSelectedClass(),A.bi.add(this.parent.getContentTable(),"mousemove",this.onMouseSelection,this),A.bi.add(this.parent.getContentTable(),"mouseup",this.onMoveUp,this)),e.event.target.classList.contains(ta.nqV)&&3!==e.event.which))){this.parent.removeSelectedClass();var t=this.parent.getAllDayRow();A.bi.add(t,"mousemove",this.onMouseSelection,this),A.bi.add(t,"mouseup",this.onMoveUp,this)}},e.prototype.onMouseSelection=function(e){var t=[].slice.call(this.parent.element.querySelectorAll("."+ta.MQu));(0,A.cn)(t,"e-allow-select");var i=this.parent.boundaryValidation(e.pageY,e.pageX);if(i.bottom||i.top||i.left||i.right){var n=this.parent.element.querySelector("."+ta.y0r),r=n.offsetHeight<=n.scrollHeight&&n.scrollTop>=0&&n.scrollTop+n.offsetHeight<=n.scrollHeight,a=n.offsetWidth<=n.scrollWidth&&n.scrollLeft>=0&&n.scrollLeft+n.offsetWidth<=n.scrollWidth;r&&(i.top||i.bottom)&&(n.scrollTop+=i.top?-e.target.offsetHeight:e.target.offsetHeight),a&&(i.left||i.right)&&(n.scrollLeft+=i.left?-e.target.offsetWidth:e.target.offsetWidth)}var s=this.getClosestCell(e);s&&this.selectCells(!0,s)},e.prototype.getClosestCell=function(e){return(0,A.oq)(e.target,"."+ta.bqQ+",."+ta.nqV)},e.prototype.onMoveUp=function(e){var t=this,i=[].slice.call(this.parent.element.querySelectorAll("."+ta.MQu));if((0,A.IV)(i,"e-allow-select"),e.target.classList.contains(ta.bqQ)&&(A.bi.remove(this.parent.getContentTable(),"mousemove",this.onMouseSelection),A.bi.remove(this.parent.getContentTable(),"mouseup",this.onMoveUp)),e.target.classList.contains(ta.nqV)){var n=this.parent.getAllDayRow();A.bi.remove(n,"mousemove",this.onMouseSelection),A.bi.remove(n,"mouseup",this.onMoveUp)}if(!this.isPreventAction(e)){var r="."+ta.bqQ+",."+ta.nqV+",."+ta.Tb6,a=(0,A.oq)(e.target,r),s=this.parent.getSelectedCells();if(s.length>0&&-1===s.indexOf(a)&&(a=s[s.length-1]),!("TimelineYear"===this.parent.currentView&&a.classList.contains(ta.Bgl))){this.parent.activeCellsData=this.getSelectedElements(a);var o={};this.parent.eventWindow&&this.parent.eventWindow.convertToEventData(this.parent.activeCellsData,o);var l={data:o,element:this.parent.activeCellsData.element,event:e,requestType:tn._B,showQuickPopup:!1};this.parent.trigger(tn.Ys,l,function(i){if((i.showQuickPopup||t.parent.quickInfoOnSelectionEnd)&&s.length>1){var n=(0,A.l7)(t.parent.activeCellsData,{cancel:!1,event:e,name:"cellClick"});t.parent.notify(tn.kj,n)}})}}},e.prototype.processEnter=function(e){if(!(this.parent.activeViewOptions.readonly&&!e.target.classList.contains(ta.MQu)||this.isPreventAction(e)||"TimelineYear"===this.parent.currentView&&e.target.classList.contains(ta.Bgl))){var t=e.target;if((0,A.oq)(t,"."+ta.T$L)){t.classList.contains(ta.rqY)||t.classList.contains(ta.NvD)||t.classList.contains(ta.$BZ)||t.classList.contains(ta.sgF)||t.classList.contains(ta.bLo)?(t.click(),e.preventDefault()):t.classList.contains(ta.jaK)&&(this.parent.element.querySelector("."+ta.NvD).click(),e.preventDefault());return}if(t.classList.contains(ta.tlV)&&t.classList.contains(ta.jKe)){var i=t.querySelector("."+ta.o_S);i&&i.click();return}if(t.classList.contains(ta.bqQ)||t.classList.contains(ta.nqV)){this.parent.activeCellsData=this.getSelectedElements(t);var n=(0,A.l7)(this.parent.activeCellsData,{cancel:!1,event:e});if(this.parent.allowInline){var r={element:n.element,groupIndex:n.groupIndex,type:"Cell"};this.parent.notify(tn.nI,r)}else"Year"===this.parent.currentView?t.click():this.parent.notify(tn.kj,n);return}if(t.classList.contains(ta.eS7)&&this.parent.inlineModule){this.parent.inlineModule.inlineCrudActions(t);return}if(t.classList.contains(ta.MQu)||t.classList.contains(ta.UeK)||t.classList.contains(ta.Z6D)||t.classList.contains(ta.Fk6)){t.click();return}if(t.classList.contains(ta._63)){this.parent.setProperties({selectedDate:this.parent.getDateFromElement(t)},!0),this.parent.changeView(this.parent.getNavigateView(),e),this.processEscape(e);return}}},e.prototype.getSelectedElements=function(e){var t;if(this.selectedCells.length>1&&e.classList.contains(ta.fnG)){var i=this.parent.getCellDetails(this.selectedCells[0]),n=this.parent.getCellDetails(this.selectedCells.slice(-1)[0]);i.endTime=n.endTime,i.element=e,t=i}else t=this.parent.getCellDetails(e);return t},e.prototype.getCells=function(e,t,i){var n=this.parent.getContentTable(),r="TimelineYear"===this.parent.currentView,a=r&&!e?"."+ta.bqQ+":not(."+ta.Bgl+")":"td",s=[].slice.call(n.querySelectorAll(a)),o=n.rows.length,l=n.rows[0].cells.length;if(t&&t.classList.contains(ta.nqV)){var h=this.parent.getAllDayRow();s=[].slice.call(h.cells),o=1,l=h.cells.length}var p=s.indexOf(t),c=s.indexOf(i),u=[];if(e){for(var d=0;d<l;d++)for(var m=0;m<o;m++){var v=s[l*m+d];r&&v.classList.contains(ta.Bgl)||u.push(v)}p=u.indexOf(t),c=u.indexOf(i)}if(p>c){var g=p;p=c,c=g}return(e?u:s).slice(p,c+1)},e.prototype.focusFirstCell=function(){if("Agenda"===this.parent.currentView){var e=this.parent.getContentTable().querySelector("."+ta.AuV);e.setAttribute("tabindex","0"),e.focus();return}if(this.parent.eventBase.removeSelectedAppointmentClass(),this.parent.activeView.isTimelineView()&&"TimelineYear"!==this.parent.currentView){var t=this.parent.element.querySelector("."+ta.OzO+" tr:not(."+ta.V27+") ."+ta.bqQ+":not(."+ta.usT+")");this.selectCells(!1,t)}else if(this.parent.currentView.indexOf("Year")>-1){var i="."+ta.bqQ+":not(."+ta.Bgl+"):not(."+ta.usT+")";i+="TimelineYear"===this.parent.currentView&&"Vertical"===this.parent.activeViewOptions.orientation?'[data-date="'+this.parent.activeView.startDate().getTime()+'"]':"",this.selectCells(!1,this.parent.element.querySelector(i))}else this.selectCells(!1,this.parent.getWorkCellElements()[0])},e.prototype.isInverseTableSelect=function(){return this.parent.activeView.isInverseTableSelect},e.prototype.selectCells=function(e,t){var i=this;this.parent.removeSelectedClass();var n=t instanceof Array?t.slice(-1)[0]:t;if(e){var r,a=["Day","Week","WorkWeek","TimelineDay","TimelineWeek","TimelineWorkWeek","TimelineMonth","TimelineYear"],s={element:t,requestType:"mousemove",allowMultipleRow:!0};this.parent.inlineModule.removeInlineAppointmentElement(),this.parent.trigger(tn.Ys,s,function(e){if(!e.allowMultipleRow||!i.parent.allowMultiRowSelection){var t="TimelineYear"===i.parent.currentView;t&&"Horizontal"===i.parent.activeViewOptions.orientation||"Month"===i.parent.currentView?n=t&&i.parent.activeViewOptions.group.resources.length>0?i.initialTarget:i.initialTarget.parentElement.children[n.cellIndex]:a.indexOf(i.parent.currentView)>-1&&(n=n.parentElement.children[i.initialTarget.cellIndex])}var s=i.getCells(i.isInverseTableSelect(),i.initialTarget,n);if(i.parent.activeViewOptions.group.resources.length>0){r=i.initialTarget.getAttribute("data-group-index");for(var o=[],l=0,h=s;l<h.length;l++){var p=h[l];p.getAttribute("data-group-index")===r&&o.push(p)}s=o}if(i.parent.allowMultiCellSelection||(s=[i.initialTarget]),i.selectedCells=s,s.length>2&&!n.classList.contains(ta.nqV)){var c=i.getAllDayCells(s);if(i.parent.activeViewOptions.group.resources.length>0){for(var u=[],d=0,m=c;d<m.length;d++){var p=m[d];p.getAttribute("data-group-index")===r&&u.push(p)}c=u}s=s.concat(c)}n.getAttribute("data-group-index")!==r&&i.parent.activeViewOptions.group.resources.length>0&&(n=i.selectedCells[i.selectedCells.length-1]),i.parent.addSelectedClass(s,n)})}else{var s={element:n,requestType:tn._B};this.parent.trigger(tn.Ys,s,function(){i.initialTarget=n,i.selectedCells=[n],i.parent.addSelectedClass([n],n)})}},e.prototype.selectAppointment=function(e,t){var i,n=this.getAppointmentElements();if(!(n.length<0)){if(this.parent.eventBase.removeSelectedAppointmentClass(),t.classList.contains(ta.MQu)){var r=n.indexOf(t);i=n[e?r-1:r+1]}else i=e?n[n.length-1]:n[0];i&&(this.parent.eventBase.addSelectedAppointments([i],!0),i.focus(),(0,A.cn)([i],ta.ZUH))}},e.prototype.selectAppointmentElementFromWorkCell=function(e,t){var i=this;if(this.parent.eventBase.removeSelectedAppointmentClass(),this.parent.removeSelectedClass(),t.classList.contains(ta.bqQ)||t.classList.contains(ta.nqV)){var n=this.getUniqueAppointmentElements(),r=[],a=this.parent.getDateFromElement(t).getTime();if(this.parent.eventsProcessed.filter(function(t){return e?t[i.parent.eventFields.startTime].getTime()<=a:t[i.parent.eventFields.startTime].getTime()>=a}).filter(function(e){n.filter(function(t){JSON.stringify(e.Guid)===JSON.stringify(t.getAttribute("data-guid"))&&r.push(t)})}),r.length>0){var s=e?r[r.length-1]:r[0],o=this.getAppointmentElementsByGuid(s.getAttribute("data-guid"));this.parent.eventBase.addSelectedAppointments(o,!0),o[o.length-1].focus()}}},e.prototype.getAllDayCells=function(e){var t=this.parent.getAllDayRow();if(!t)return[];var i=e[0],n=e[e.length-1],r=this.parent.getCellDetails(i);return this.parent.getCellDetails(n).endTime.getTime()-r.startTime.getTime()>=tr.Mb?[].slice.call(t.cells).slice(i.cellIndex,n.cellIndex+1):[]},e.prototype.getAppointmentElements=function(){return[].slice.call(this.parent.element.querySelectorAll("."+ta.MQu))},e.prototype.getAppointmentElementsByGuid=function(e){return[].slice.call(this.parent.element.querySelectorAll('div[data-guid="'+e+'"]'))},e.prototype.getUniqueAppointmentElements=function(){var e=this.getAppointmentElements(),t=[];return e.map(function(e){return e.getAttribute("data-guid")}).filter(function(i,n,r){r.indexOf(i)===n&&t.push(e[parseInt(n.toString(),10)])}),t},e.prototype.getWorkCellFromAppointmentElement=function(e){var t=this.parent.eventBase.getEventByGuid(e.getAttribute("data-guid"));return this.parent.eventBase.selectWorkCellByTime([t])},e.prototype.processViewNavigation=function(e){var t=parseInt(e.key,10)-1;if(t<this.parent.views.length){var i=this.parent.viewCollections[parseInt(t.toString(),10)].option;this.parent.changeView(i,e,void 0,t),this.parent.headerModule&&this.parent.headerModule.element.querySelector(".e-active-view button").focus()}},e.prototype.cancelUpDownAction=function(e){var t=e&&"Vertical"===this.parent.activeViewOptions.orientation,i=this.parent.activeViewOptions.group.resources.length>0;return!!(t&&i||e&&this.initialTarget.classList.contains(ta.Bgl)||this.parent.activeView.isTimelineView()&&!e||"MonthAgenda"===this.parent.currentView)},e.prototype.processUp=function(e,t){var i="TimelineYear"===this.parent.currentView;if(!(t&&this.cancelUpDownAction(i))){var n=e.target,r=this.parent.getSelectedCells(),a=this.parent.eventBase.getSelectedAppointments(),s=this.parent.element.querySelector("."+ta.asM),o=this.getQuickPopupElement();if(r.length>0&&!e.target.classList.contains(ta.bqQ)&&(n=r[r.length-1]),!(a.length>0)||s.classList.contains(ta.HRK)||o.classList.contains(ta.HRK)||-1===["Day","Week","WorkWeek","Month"].indexOf(this.parent.currentView)||(n=this.getWorkCellFromAppointmentElement(a[a.length-1]),this.parent.eventBase.removeSelectedAppointmentClass()),n){if(n.classList.contains(ta.bqQ)&&!this.parent.element.querySelector("."+ta.HRK)){var l=this.parent.getTableRows(),h=l.indexOf(n.parentElement),p=void 0;if(i&&t&&0===this.parent.activeViewOptions.group.resources.length&&(p=this.isInverseTableSelect()?this.getVerticalUpDownCell(l,n,h,!0):this.getHorizontalUpDownCell(l,n,h,!0)),(h>0||p)&&h<l.length){if(p=p||l[h-1].cells[n.cellIndex],"Year"===this.parent.currentView&&p.classList.contains(ta.Bgl)){if(!(this.parent.activeView.getStartDate().getTime()<+p.getAttribute("data-date")))return;p=this.getYearUpDownCell(l,h-1,n.cellIndex,!0)}e.preventDefault(),this.selectCells(t,p)}}else("Agenda"===this.parent.currentView||"MonthAgenda"===this.parent.currentView)&&this.selectAppointment(!0,n)}}},e.prototype.processDown=function(e,t){var i="TimelineYear"===this.parent.currentView;if(!(t&&this.cancelUpDownAction(i))){var n=e.target,r=this.parent.getSelectedCells(),a=this.parent.eventBase.getSelectedAppointments(),s=this.parent.element.querySelector("."+ta.asM),o=this.getQuickPopupElement();r.length>0&&!e.target.classList.contains(ta.bqQ)&&(n=r[r.length-1]),!(a.length>0)||s.classList.contains(ta.HRK)||o.classList.contains(ta.HRK)||-1===["Day","Week","WorkWeek","Month"].indexOf(this.parent.currentView)||(n=this.getWorkCellFromAppointmentElement(a[a.length-1]),this.parent.eventBase.removeSelectedAppointmentClass());var l=this.parent.getTableRows();if(n){if(n.classList.contains(ta.bqQ)&&!this.parent.element.querySelector("."+ta.HRK)){var h=l.indexOf(n.parentElement),p=void 0;if(i&&t&&0===this.parent.activeViewOptions.group.resources.length&&(p=this.isInverseTableSelect()?this.getVerticalUpDownCell(l,n,h,!1):this.getHorizontalUpDownCell(l,n,h,!1)),h>=0&&(h<l.length-1||p)){if(p=p||l[h+1].cells[n.cellIndex],"Year"===this.parent.currentView&&p.classList.contains(ta.Bgl)){if(!(this.parent.activeView.getEndDate().getTime()>+p.getAttribute("data-date")))return;p=this.getYearUpDownCell(l,h+1,n.cellIndex,!1)}e.preventDefault(),this.selectCells(t,p)}}else("Agenda"===this.parent.currentView||"MonthAgenda"===this.parent.currentView)&&this.selectAppointment(!1,n)}}},e.prototype.getYearUpDownCell=function(e,t,i,n){for(;e[parseInt(t.toString(),10)]&&e[parseInt(t.toString(),10)].cells[parseInt(i.toString(),10)].classList.contains(ta.Bgl);)t+=n?-1:1;return e[parseInt(t.toString(),10)].cells[parseInt(i.toString(),10)]},e.prototype.getHorizontalUpDownCell=function(e,t,i,n){var r=e[i+(n?-1:1)],a=r?r.cells[t.cellIndex]:t;if(a.classList.contains(ta.Bgl)){var s=r.querySelector("."+ta.bqQ+":not(."+ta.Bgl+")"),o=new Date(+s.getAttribute("data-date")),l='[data-date="'+new Date(o.getFullYear(),o.getMonth()+1,0).getTime()+'"]';a=a.cellIndex<s.cellIndex?s:r.querySelector(l)}return a},e.prototype.getVerticalUpDownCell=function(e,t,i,n){var r=n&&i>0||!n&&i<e.length-1?e[i+(n?-1:1)].cells[t.cellIndex]:void 0;if(!r||r.classList.contains(ta.Bgl)){if(e[parseInt(i.toString(),10)].cells[t.cellIndex-(n?1:-1)]){var a=+t.getAttribute("data-date")-(n?tr.Mb:-tr.Mb);return this.parent.getContentTable().querySelector("."+ta.bqQ+'[data-date="'+a+'"]')}r=t}return r},e.prototype.processLeftRight=function(e){var t="Year"===this.parent.currentView?e.closest("tbody"):this.parent.getContentTable(),i=e.parentNode.sectionRowIndex;return{element:t,rowIndex:i,columnIndex:e.cellIndex,maxIndex:t.rows[parseInt(i.toString(),10)].cells.length}},e.prototype.getQuickPopupElement=function(){return(this.parent.isAdaptive?document.body:this.parent.element).querySelector("."+ta.T$L)},e.prototype.isCancelLeftRightAction=function(e,t,i){var n="MonthAgenda"===this.parent.currentView||i&&this.initialTarget.classList.contains(ta.Bgl);if("Agenda"===this.parent.currentView||t&&n||this.isPreventAction(e)&&t)return!0;var r=this.parent.element.querySelector("."+ta.asM),a=this.getQuickPopupElement();return!!(r.classList.contains(ta.HRK)||a.classList.contains(ta.HRK))},e.prototype.processRight=function(e,t){var i,n="TimelineYear"===this.parent.currentView;if(!this.isCancelLeftRightAction(e,t,n)){var r=this.parent.getSelectedCells(),a=this.parent.eventBase.getSelectedAppointments(),s=e.target;if(!(r.length>0)||s.classList.contains(ta.bqQ)||s.classList.contains(ta.nqV)||(s=r[r.length-1]),!(a.length>0)||(s=this.getWorkCellFromAppointmentElement(a[a.length-1]),this.parent.eventBase.removeSelectedAppointmentClass(),s)){if(s.classList.contains(ta.bqQ)&&e.target.classList.contains(ta.bqQ)){var o=this.processLeftRight(s),l=new Date(+s.getAttribute("data-date")),h="Year"===this.parent.currentView&&l.getTime()===tr._m(l).getTime();if(o.columnIndex>=0&&o.columnIndex<o.maxIndex-1&&!h)i=this.calculateNextPrevDate(s,o.element.rows[o.rowIndex].cells[s.cellIndex+1],"right"),n&&t&&i.classList.contains(ta.Bgl)&&(i=this.getTimelineYearTargetCell(o,s,!0)),(0,A.le)(i)||this.selectCells(t,i);else if(o.columnIndex===o.maxIndex-1||h){if(this.isInverseTableSelect()||!(o.rowIndex<o.element.rows.length-1)||h){if(!t){if(h&&l.getTime()!==this.parent.activeView.getEndDate().getTime()){this.selectCells(t,this.parent.element.querySelector(":not(."+ta.Bgl+')[data-date="'+(l.getTime()+tr.Mb)+'"]'));return}var p=this.isInverseTableSelect()?o.rowIndex:0;this.parent.changeDate(this.parent.activeView.getNextPreviousDate("next"),e);var c=this.parent.getContentTable(),u=h?c.rows[parseInt(p.toString(),10)].querySelector("."+ta.bqQ+":not(."+ta.Bgl+")"):c.rows[parseInt(p.toString(),10)].cells[0];this.selectCells(!1,u)}}else i=this.calculateNextPrevDate(s,o.element.rows[o.rowIndex+1].cells[0],"right"),i=n&&t&&i.classList.contains(ta.Bgl)?this.getHorizontalLeftRightCell(o,s,!0):i,(0,A.le)(i)||this.selectCells(t,i)}}else if(s.classList.contains(ta.nqV)){var d=s.cellIndex,m=this.parent.getAllDayRow(),v=m.cells.length;if(d>=0&&d<v-1)this.selectCells(t,m.cells[d+1]);else if(d===v-1&&!t){this.parent.changeDate(this.parent.activeView.getNextPreviousDate("next"),e);var g=this.parent.getAllDayRow();this.selectCells(!1,g.cells[0])}}}}},e.prototype.processLeft=function(e,t){var i,n="TimelineYear"===this.parent.currentView;if(!this.isCancelLeftRightAction(e,t,n)){var r=e.target,a=this.parent.getSelectedCells();!(a.length>0)||r.classList.contains(ta.bqQ)||r.classList.contains(ta.nqV)||(r=a[a.length-1]);var s=this.parent.eventBase.getSelectedAppointments();if(!(s.length>0)||(r=this.getWorkCellFromAppointmentElement(s[s.length-1]),this.parent.eventBase.removeSelectedAppointmentClass(),r)){if(e.target.classList.contains(ta.bqQ)&&r.classList.contains(ta.bqQ)){var o=this.processLeftRight(r),l=new Date(+r.getAttribute("data-date")),h="Year"===this.parent.currentView&&l.getTime()===tr.vO(l).getTime();if(o.columnIndex>0&&o.columnIndex<o.maxIndex&&!h)i=this.calculateNextPrevDate(r,o.element.rows[o.rowIndex].cells[r.cellIndex-1],"left"),n&&t&&i.classList.contains(ta.Bgl)&&(i=this.getTimelineYearTargetCell(o,r,!1)),(0,A.le)(i)||this.selectCells(t,i);else if(0===o.columnIndex||h){if(!this.isInverseTableSelect()&&o.rowIndex>0)i=this.calculateNextPrevDate(r,o.element.rows[o.rowIndex-1].cells[o.maxIndex-1],"left"),i=n&&t&&i.classList.contains(ta.Bgl)?this.getHorizontalLeftRightCell(o,r,!1):i,(0,A.le)(i)||this.selectCells(t,i);else if(!t){if(h&&l.getTime()!==this.parent.activeView.getStartDate().getTime()){this.selectCells(t,this.parent.element.querySelector('[data-date="'+(l.getTime()-tr.Mb)+'"]'));return}this.parent.changeDate(this.parent.activeView.getNextPreviousDate("previous"),e);var p=this.parent.getContentTable(),c=this.isInverseTableSelect()?o.rowIndex:p.rows.length-1,u=p.rows[parseInt(c.toString(),10)].cells[o.maxIndex-1];if(h){var d=this.parent.element.querySelectorAll("."+ta.OzO+" tbody");u=d.item(d.length-1).querySelector(":not(."+ta.Bgl+')[data-date="'+this.parent.activeView.getEndDate().getTime()+'"]')}this.selectCells(!1,u)}}}else if(r.classList.contains(ta.nqV)){var m=r.cellIndex,v=this.parent.getAllDayRow(),g=v.cells.length;if(m>0&&m<g)this.selectCells(t,v.cells[m-1]);else if(0===m&&!t){this.parent.changeDate(this.parent.activeView.getNextPreviousDate("previous"),e);var f=this.parent.getAllDayRow();this.selectCells(!1,f.cells[g-1])}}}}},e.prototype.getTimelineYearTargetCell=function(e,t,i){return this.isInverseTableSelect()?this.getVerticalLeftRightCell(t,i):this.getHorizontalLeftRightCell(e,t,i)},e.prototype.getHorizontalLeftRightCell=function(e,t,i){var n=e.element.rows[t.parentNode.sectionRowIndex+(i?1:-1)];if(n){var r=i?"."+ta.bqQ+":not(."+ta.Bgl+")":'[data-date="'+(+t.getAttribute("data-date")-tr.Mb)+'"]';return n.querySelector(r)}return t},e.prototype.getVerticalLeftRightCell=function(e,t){var i=new Date(+e.getAttribute("data-date")),n=new Date(i.getFullYear(),i.getMonth()+(t?1:-1),1),r=this.parent.getContentTable(),a=r.querySelector('[data-date="'+n.getTime()+'"]');return a.parentNode.sectionRowIndex>e.parentNode.sectionRowIndex?a:r.querySelector('[data-date="'+new Date(n.getFullYear(),n.getMonth()+1,0).getTime()+'"]')},e.prototype.calculateNextPrevDate=function(e,t,i){var n=this.initialTarget.getAttribute("data-group-index");if(this.parent.activeViewOptions.group.resources.length>0&&"Month"===this.parent.currentView&&e&&t&&t.getAttribute("data-group-index")!==n){var r=this.parent.getDateFromElement(e),a=new Date("right"===i?r.setDate(r.getDate()+1):r.setDate(r.getDate()-1));t=[].slice.call(this.parent.element.querySelectorAll('td[data-date="'+a.getTime().toString()+'"][data-group-index="'+n+'"]'))[0]}return t},e.prototype.getFocusableElements=function(e){return[].slice.call(e.querySelectorAll('a[href]:not([tabindex="-1"]),input:not([disabled]):not([tabindex="-1"]),textarea:not([disabled]):not([tabindex="-1"]),button:not([disabled]):not([tabindex="-1"]),select:not([disabled]):not([tabindex="-1"]),[tabindex]:not([tabindex="-1"]),[contentEditable=true]:not([tabindex="-1"])'))},e.prototype.processTabOnPopup=function(e,t){var i=this,n=this.getFocusableElements(t),r=(n=n.filter(function(e){var t=i.parent.element.querySelector("."+ta.qV0);return t&&t.offsetParent?!(e.classList.contains(ta.Wdr)||e.classList.contains(ta.dcr)):!(e.classList.contains(ta.$BZ)||e.classList.contains(ta.sgF))}))[0],a=n[n.length-1];(0,A.le)(a)||document.activeElement!==a||e.shiftKey||(e.preventDefault(),r.focus()),!(0,A.le)(r)&&document.activeElement===r&&e.shiftKey&&(e.preventDefault(),a.focus())},e.prototype.processTab=function(e,t){var i=e.target;if(i.classList.contains(ta.eS7)&&this.parent.inlineModule&&(i=i.closest(".e-appointment"),this.parent.inlineModule.inlineCrudActions(e.target)),"TimelineYear"===this.parent.currentView&&i.classList.contains(ta.Bgl)){i.classList.contains(ta.fnG)&&this.parent.removeSelectedClass();return}var n=(0,A.oq)(i,"."+ta.T$L+",."+ta.asM);if(n&&n.classList.contains(ta.HRK)){n.classList.contains(ta.asM)&&this.parent.eventBase.removeSelectedAppointmentClass(),this.processTabOnPopup(e,n);return}if(i.classList.contains(ta.Dx9)){this.parent.eventBase.removeSelectedAppointmentClass();return}if(i.classList.contains(ta.tlV)&&this.parent.activeView.isTimelineView()&&this.parent.activeViewOptions.group.resources.length>0){var r=parseInt(i.getAttribute("data-group-index"),10),a="."+ta.MQu+'[data-group-index="'+(t?r-1:r)+'"]',s=[].slice.call(this.parent.element.querySelectorAll(a));if(s.length>0){this.parent.eventBase.removeSelectedAppointmentClass();var o=t?s.slice(-1)[0]:s[0];this.parent.eventBase.addSelectedAppointments([o],!0),o.focus(),e.preventDefault()}else if(r+1===this.parent.resourceBase.lastResourceLevel.length)this.parent.element.focus(),e.preventDefault();else if(this.parent.virtualScrollModule){var l=Math.round(this.parent.element.querySelector("."+ta.ZSp).offsetHeight/this.parent.resourceBase.expandedResources.length);this.parent.element.querySelector(".e-content-wrap").scrollTop=(t?r-1:r+1)*l,this.parent.virtualScrollModule.virtualScrolling()}else this.setScrollPosition(r);return}if(i.classList.contains(ta.MQu)){var s=[].slice.call(this.parent.element.querySelectorAll("."+ta.MQu)),h="TimelineYear"===this.parent.currentView;if((this.parent.activeView.isTimelineView()&&!h||h&&"Vertical"===this.parent.activeViewOptions.orientation)&&this.parent.activeViewOptions.group.resources.length>0){var r=parseInt(i.getAttribute("data-group-index"),10);s=[].slice.call(this.parent.element.querySelectorAll("."+ta.MQu+'[data-group-index="'+r+'"]'));var p="."+ta.tlV+'[data-group-index="'+(t?r:r+1)+'"]',c=this.parent.element.querySelector(p);if(c&&(t&&i.getAttribute("data-guid")===s[0].getAttribute("data-guid")||!t&&i.getAttribute("data-guid")===s.slice(-1)[0].getAttribute("data-guid"))){this.parent.eventBase.removeSelectedAppointmentClass(),this.parent.virtualScrollModule?c.focus({preventScroll:!0}):c.focus(),this.parent.activeView.isTimelineView()&&this.parent.activeViewOptions.group.resources.length>0&&(0,A.le)(this.parent.virtualScrollModule)&&this.setScrollPosition(r),e.preventDefault();return}}var u=this.parent.eventBase.getSelectedAppointments();if(u.length>0&&(i=u[u.length-1]),this.parent.eventBase.removeSelectedAppointmentClass(),!t&&i.getAttribute("data-guid")===s[s.length-1].getAttribute("data-guid")||t&&i.getAttribute("data-guid")===s[0].getAttribute("data-guid"))return;("Agenda"===this.parent.currentView||"MonthAgenda"===this.parent.currentView)&&(this.selectAppointment(t,i),e.preventDefault());return}var d=this.parent.getSelectedCells();if(d.length>0&&!i.classList.contains(ta.MQu)){i=d[d.length-1],this.selectAppointmentElementFromWorkCell(t,i),e.preventDefault();return}i&&!i.classList.contains(ta.tlV)&&this.parent.activeView.isTimelineView()&&this.parent.activeViewOptions.group.resources.length>0&&this.processTabOnResourceCells(i,t)},e.prototype.processDelete=function(e){var t=document.activeElement;if("MonthAgenda"===this.parent.currentView){var i=this.parent.eventBase.getSelectedEvents().element;t=i&&(0,A.le)(i.length)?i:i[0]}if(t&&t.classList.contains(ta.MQu)){if((0,A.cn)([t],ta.xGv),this.parent.activeEventData=this.parent.eventBase.getSelectedEvents(),this.parent.activeViewOptions.readonly||t.classList.contains(ta.dr5)||!this.parent.eventSettings.allowDeleting)return;this.parent.quickPopup.deleteClick(e)}},e.prototype.processCtrlShiftNavigationArrows=function(e){if(this.parent.activeViewOptions.group.resources.length>0&&document.activeElement.classList.contains(ta.MQu)){var t=parseInt(document.activeElement.getAttribute("data-group-index"),10),i="ctrlShiftLeftArrow"===e.action||"ctrlShiftUpArrow"===e.action?t-1:t+1;i=i<0?0:i>this.parent.resourceBase.lastResourceLevel.length?this.parent.resourceBase.lastResourceLevel.length:i;for(var n=[];0===n.length&&i>=0&&i<=this.parent.resourceBase.lastResourceLevel.length;)n=[].slice.call(this.parent.element.querySelectorAll("."+ta.MQu+'[data-group-index="'+i+'"]')),i="ctrlShiftLeftArrow"===e.action||"ctrlShiftUpArrow"===e.action?i-1:i+1;var r=n[0];r&&(this.parent.eventBase.removeSelectedAppointmentClass(),this.parent.eventBase.addSelectedAppointments([r],!0),r.focus())}else if(this.parent.activeViewOptions.group.resources.length>0&&!document.activeElement.classList.contains(ta.MQu)){var i=this.parent.resourceBase.renderedResources[0].groupIndex,a="."+ta.MQu+'[data-group-index="'+i+'"]',s=[].slice.call(this.parent.element.querySelectorAll(a));if(s.length>0){this.parent.eventBase.removeSelectedAppointmentClass();var o=s[0];this.parent.eventBase.addSelectedAppointments([o],!0),o.focus(),e.preventDefault()}}},e.prototype.processEscape=function(e){this.parent.quickPopup.onClosePopup(e),this.parent.quickPopup.morePopup.hide(),this.parent.headerModule&&this.parent.headerModule.hideHeaderPopup(),this.parent.inlineModule&&this.parent.inlineModule.removeInlineAppointmentElement()},e.prototype.isPreventAction=function(e){var t=(0,A.oq)(e.target,"."+ta.usT);return!!this.parent.activeView.isTimelineView()&&!(0,A.le)(t)},e.prototype.processTabOnResourceCells=function(e,t){var i=[].slice.call(this.parent.element.querySelectorAll('[tabIndex="0"]')),n=i.indexOf(e),r=t?i[n-1]:i[n+1];if(r&&r.classList.contains(ta.tlV)){var a=parseInt(r.getAttribute("data-group-index"),10);if(this.parent.virtualScrollModule){var s=this.parent.element.querySelector("."+ta.OPv);[].slice.call(this.parent.element.querySelectorAll("."+ta.tlV)).forEach(function(e){e.getBoundingClientRect().top<s.getBoundingClientRect().top&&e.setAttribute("tabindex","-1")})}else this.setScrollPosition(a)}},e.prototype.setScrollPosition=function(e){var t=this.parent.element.querySelector("."+ta.bqQ+'[data-group-index="'+e+'"]');t&&(this.parent.element.querySelector("."+ta.y0r).scrollTop=t.offsetTop)},e.prototype.getModuleName=function(){return"keyboard"},e.prototype.destroy=function(){this.removeEventListener(),this.selectedCells=[],this.keyboardModule.destroy()},e}(),tp=i(63302),tc=i(12878),tu=function(){function e(e,t,i){this.parent=e,this.initDataManager(t,i)}return e.prototype.initDataManager=function(e,t){this.dataManager=e instanceof tp.h?e:new tp.h(e),this.query=t instanceof tc.A?t:new tc.A},e.prototype.generateQuery=function(e,t){var i=this.query.clone();if(this.parent&&e&&t){if(this.parent.activeViewOptions&&this.parent.activeViewOptions.enableLazyLoading&&!(0,A.le)(this.parent.activeViewOptions.group.resources)&&this.parent.activeViewOptions.group.resources.length>0&&this.parent.resourceBase&&this.parent.resourceBase.resourceCollection.length>0&&this.parent.resourceBase.renderedResources.length>0){var n=[];this.parent.resourceBase.resourceCollection.forEach(function(){return n.push([])}),this.parent.resourceBase.renderedResources.forEach(function(e){n.forEach(function(t,i){var n=e.groupOrder[parseInt(i.toString(),10)];n&&0>t.indexOf(n)&&t.push(n)})}),this.parent.resourceBase.resourceCollection.forEach(function(e,t){i.addParams(e.field,n[parseInt(t.toString(),10)].toString())})}if(this.parent.timezone&&(e=this.parent.tzModule.remove(new Date(+e.getTime()),this.parent.timezone),t=this.parent.tzModule.remove(new Date(+t.getTime()),this.parent.timezone)),this.parent.eventSettings.includeFiltersInQuery){var r=this.getStartEndQuery(e,t),a=new tc.$(this.parent.eventFields.recurrenceRule,"notequal",null).and(new tc.$(this.parent.eventFields.recurrenceRule,"notequal",""));return i.where(r.or(a))}i.addParams("StartDate",e.toISOString()),i.addParams("EndDate",t.toISOString())}return i},e.prototype.getStartEndQuery=function(e,t){var i=this.parent.eventFields;return new tc.$(i.startTime,"greaterthanorequal",e).and(new tc.$(i.endTime,"greaterthanorequal",e)).and(new tc.$(i.startTime,"lessthan",t)).or(new tc.$(i.startTime,"lessthanorequal",e).and(new tc.$(i.endTime,"greaterthan",e)))},e.prototype.getData=function(e){return this.dataManager.executeQuery(e)},e.prototype.destroy=function(){this.dataManager=null,this.query=null},e}(),td=i(50543),tm=i(89124),tv=i(12162),tg=(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),tf=function(e){function t(t,i){var n=e.call(this,t)||this;n.startHour=n.parent.activeView.getStartHour(),n.endHour=n.parent.activeView.getEndHour(),n.slotCount=n.parent.activeViewOptions.timeScale.slotCount,n.interval=n.parent.activeViewOptions.timeScale.interval,n.day=0,n.rowIndex=0,n.cellTops=[],n.renderType=i,n.eventContainers=[].slice.call(n.element.querySelectorAll("."+ta.eK$));var r=[].slice.call(n.element.querySelectorAll("."+ta.OzO+" tbody tr"));return n.dayLength=0===r.length?0:r[0].children.length,n.content=n.parent.element.querySelector("."+ta.OzO),n}return tg(t,e),t.prototype.getSlotDates=function(){if(this.slots=[],this.slots.push(this.parent.activeView.renderDates.map(function(e){return+e})),this.parent.activeViewOptions.headerRows.length>0&&"Hour"!==this.parent.activeViewOptions.headerRows.slice(-1)[0].option){this.renderType="day";var e=this.content.querySelector("."+ta.bqQ);this.cellWidth=e.getBoundingClientRect().width/+(e.getAttribute("colspan")||1),this.slotsPerDay=1}else this.slotsPerDay=this.dayLength/this.dateRender.length},t.prototype.getOverlapEvents=function(e,t){var i=[];if("day"===this.renderType)for(var n=0;n<t.length;n++){var r=t[n];tr.zS(r[this.fields.startTime]).getTime()<=tr.zS(new Date(e.getTime())).getTime()&&tr.zS(r[this.fields.endTime]).getTime()>=tr.zS(new Date(e.getTime())).getTime()&&i.push(r)}else for(var a=0;a<t.length;a++){var r=t[a],s=r.data;s.trimStartTime.getTime()<=e.getTime()&&s.trimEndTime.getTime()>e.getTime()&&i.push(r)}return i},t.prototype.getSortComparerIndex=function(e,t){var i=-1,n=this.renderedEvents;if(n.length>0){var r=this.getOverlapSortComparerEvents(e,t,n).map(function(e){return e.Index});i=r.length>0?this.getSmallestMissingNumber(r):0}return -1===i?0:i},t.prototype.getOverlapSortComparerEvents=function(e,t,i){for(var n=[],r=0;r<i.length;r++){var a=i[r];if("day"===this.renderType)tr.zS(a[this.fields.startTime]).getTime()<=tr.zS(new Date(e.getTime())).getTime()&&tr.zS(a[this.fields.endTime]).getTime()>=tr.zS(new Date(e.getTime())).getTime()&&n.push(a);else{var s=a.data;(s.trimStartTime.getTime()<=e.getTime()&&e.getTime()<s.trimEndTime.getTime()||e.getTime()<=s.trimStartTime.getTime()&&s.trimStartTime.getTime()<t.getTime())&&n.push(a)}}return n},t.prototype.renderResourceEvents=function(){this.removeHeightProperty(ta.vXr);var e=this.parent.uiStateValues.isGroupAdaptive?[this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex]]:this.parent.resourceBase.renderedResources;if(this.parent.crudModule&&this.parent.crudModule.crudObj.isCrudAction){for(var t=0,i=this.parent.crudModule.crudObj.sourceEvent.length;t<i;t++){var n=this.parent.crudModule.crudObj.sourceEvent[parseInt(t.toString(),10)];if(this.rowIndex=n.groupIndex,this.renderEventsHandler(this.parent.activeView.renderDates,this.parent.activeViewOptions.workDays,n),this.parent.crudModule.crudObj.targetEvent[parseInt(t.toString(),10)]&&this.parent.crudModule.crudObj.sourceEvent[parseInt(t.toString(),10)].groupIndex!==this.parent.crudModule.crudObj.targetEvent[parseInt(t.toString(),10)].groupIndex){var r=this.parent.crudModule.crudObj.targetEvent[parseInt(t.toString(),10)];this.rowIndex=r.groupIndex,this.renderEventsHandler(this.parent.activeView.renderDates,this.parent.activeViewOptions.workDays,r)}}this.parent.crudModule.crudObj.isCrudAction=!1}else for(var t=0;t<e.length;t++)this.rowIndex=t,this.renderEventsHandler(this.parent.activeView.renderDates,this.parent.activeViewOptions.workDays,e[parseInt(t.toString(),10)])},t.prototype.renderEvents=function(e,t,i){var n=e[this.fields.startTime],r=e[this.fields.endTime];if(!(n.getTime()<this.parent.minDate.getTime()||r.getTime()>this.parent.maxDate.getTime())){var a=e.data;n=this.getStartTime(e,a),r=this.getEndTime(e,a);var s=tr.EK(e[this.fields.startTime],this.startHour,this.endHour),o=this.updateEventMinimumDuration(s,n,r);if(n=o.startDate,r=o.endDate,this.day=this.parent.getIndexOfDate(this.dateRender,tr.zS(new Date(n.getTime()))),!(this.day<0)){var l=this.getCellTd(),h=(0,A.le)(this.parent.eventSettings.sortComparer)?this.getIndex(n):this.getSortComparerIndex(n,r);e.Index=h;var p=this.eventHeight,c=a.count,u=(0,A.l7)({},e,null,!0);u[this.fields.startTime]=a[this.fields.startTime],u[this.fields.endTime]=a[this.fields.endTime];var d=tr.zS(new Date(this.dateRender[this.day].getTime())),m=tr.EK(d,this.startHour,this.endHour),v=!0;if(v=!!this.isDayProcess()||!!u[this.fields.isAllDay]||this.isValidEvent(u,n,r,m),n<=r&&v){var g=this.getEventWidth(n,r,e[this.fields.isAllDay],c);g="day"===this.renderType?g-2:g;var f=0,y=0,b=this.getPosition(n,r,e[this.fields.isAllDay],this.day);g=g<=0?this.cellWidth:g,this.renderedEvents.push((0,A.l7)({},e,null,!0)),(0,A.le)(this.cellTops[parseInt(t.toString(),10)])&&(this.cellTops[parseInt(t.toString(),10)]=this.getRowTop(t));var T=this.cellTops[parseInt(t.toString(),10)],D=T+(this.maxHeight?0:2)+h*(p+2);f=this.parent.enableRtl?0:b,y=this.parent.enableRtl?b:0;var w=(h+1)*(p+2)+this.moreIndicatorHeight,C=this.maxOrIndicator?h<1:this.cellHeight>w;if(this.parent.rowAutoHeight||C){var S=void 0;if(S=(0,A.le)(this.inlineValue)?this.createAppointmentElement(e,t):this.parent.inlineModule.createInlineAppointmentElement(),this.applyResourceColor(S,e,"backgroundColor",this.groupOrder),(0,A.V7)(S,{width:g+"px",left:f+"px",right:y+"px",top:D+"px"}),this.wireAppointmentEvents(S,e),this.parent.rowAutoHeight){var E=this.parent.element.querySelector("."+ta.y0r),k=E.getBoundingClientRect().width,V=E.offsetHeight===E.clientHeight&&E.offsetWidth===E.clientWidth;this.renderEventElement(e,S,l);var M=this.getFirstChild(t);this.updateCellHeight(M,w),V&&(E.offsetWidth>E.clientWidth||k!==E.getBoundingClientRect().width)&&this.adjustAppointments(k)}else this.renderEventElement(e,S,l)}else for(var x=0;x<c;x++){var I=l.querySelector("."+ta.Fk6),O=this.parent.enableRtl?y:f;O=Math.floor(O/this.cellWidth)*this.cellWidth;var R=this.interval/this.slotCount,P=new Date("TimelineMonth"===this.parent.activeViewOptions.option||"day"===this.renderType||0!==x?this.dateRender[this.day+x].getTime():n),H=tr.E4(this.dateRender[this.day+x],1);if("TimelineMonth"===this.parent.activeViewOptions.option||"day"===this.renderType){var L=this.getPosition(P,H,e[this.fields.isAllDay],this.day+x);this.renderTimelineMoreIndicator(n,P,H,p,R,t,i,T,f,y,l,I,O,L)}else for(var q=(tr.K$(r)-tr.K$(n))/tr.X$*this.slotCount/this.interval,F=0;F<q&&(P=new Date(0===F?P.getTime():P.getTime()+6e4*R),!((H=new Date(P.getTime()+6e4*R)).getTime()>r.getTime()));F++){var W=this.getPosition(P,H,!1,this.day+x);if(O>W)break;O=W,this.renderTimelineMoreIndicator(n,P,H,p,R,t,i,T,f,y,l,I,O,W)}}}this.parent.renderTemplates()}}},t.prototype.renderTimelineMoreIndicator=function(e,t,i,n,r,a,s,o,l,h,p,c,u,d){if(l=this.parent.enableRtl?h=d:d,u=Math.floor((u=this.parent.enableRtl?h:l)/this.cellWidth)*this.cellWidth,p&&(0,A.le)(c)||!this.isAlreadyAvail(u,p)){var m="TimelineMonth"===this.parent.activeViewOptions.option||"day"===this.renderType?new Date(+e):t,v=new Date(m.setMinutes(Math.floor(m.getMinutes()/r)*r)),g=new Date(v.getTime()+6e4*r),f=void 0;this.parent.activeViewOptions.group.resources.length>0&&!(0,A.le)(a)&&(f=a.toString());var y=this.getFilterEvents(t,i,v,g,f,s),b=this.cellHeight-this.moreIndicatorHeight;n=this.withIndicator?b-2:n;var T=Math.floor(b/(n+2)),D=y.length-T<=0?1:y.length-T,w=void 0;w="day"===this.renderType?this.getMoreIndicatorElement(D,t,i):this.getMoreIndicatorElement(D,v,g),(0,A.le)(f)||w.setAttribute("data-group-index",f),w.style.top=o+b+"px",w.style.width=this.cellWidth+"px",w.style.left=Math.floor(l/this.cellWidth)*this.cellWidth+"px",w.style.right=Math.floor(h/this.cellWidth)*this.cellWidth+"px",this.renderElement(p,w),A.bi.add(w,"click",this.moreIndicatorClick,this)}},t.prototype.updateCellHeight=function(e,t){if(t>(""===e.style.height?this.cellHeight:parseInt(e.style.height,10))){if((0,A.V7)(e,{height:t+"px"}),this.parent.activeViewOptions.group.resources.length>0){var i=this.parent.element.querySelector("."+ta.vXr+' tbody td[data-group-index="'+e.getAttribute("data-group-index")+'"]');i&&(0,A.V7)(i,{height:t+"px"})}var n=this.parent.element.querySelector(".e-month-header-wrapper table tr:nth-child("+(e.parentElement.rowIndex+1)+") td");n&&(0,A.V7)(n,{height:t+"px"})}},t.prototype.adjustAppointments=function(e){var t=this,i=this.parent.element.querySelector("."+ta.OzO+" tbody tr");this.cellWidth=this.workCells[0].getBoundingClientRect().width;var n=this.cellWidth*i.children.length/(e/100);[].slice.call(this.parent.element.querySelectorAll("."+ta.MQu)).forEach(function(e){t.parent.enableRtl&&"0px"!==e.style.right?e.style.right=parseFloat(e.style.right)/100*n+"px":"0px"!==e.style.left&&(e.style.left=parseFloat(e.style.left)/100*n+"px"),e.style.width=parseFloat(e.style.width)/100*n+"px"})},t.prototype.getFirstChild=function(e){var t="."+ta.OzO+" tbody td",i="";return this.parent.activeViewOptions.group.resources.length>0&&(i='[data-group-index="'+e.toString()+'"]'),this.parent.element.querySelector(t+i)},t.prototype.updateBlockElements=function(){for(var e=[].slice.call(this.element.querySelectorAll("."+ta.JDZ)),t=0;t<e.length;t++){var i=e[t],n=parseInt(i.getAttribute("data-group-index"),10),r=this.getFirstChild(n);i.style.height=r.offsetHeight+"px";var a=Math.round(i.offsetWidth/r.offsetWidth);i.style.width=r.offsetWidth*a+"px"}for(var s=[].slice.call(this.element.querySelectorAll("."+ta.dqd)),o=0;o<s.length;o++){var i=s[o],n=parseInt(i.getAttribute("data-group-index"),10);i.style.top=this.getRowTop(n)+this.getFirstChild(n).offsetHeight-18+"px"}},t.prototype.getStartTime=function(e,t){var i=e[this.fields.startTime],n=tr.EK(i,this.startHour,this.endHour);return i=this.isDayProcess()?e[this.fields.startTime]:n.startHour.getTime()>=t[this.fields.startTime]?n.startHour:n.endHour.getTime()<=t[this.fields.startTime]?this.getNextDay(n.startHour,t):t[this.fields.startTime],t.trimStartTime=e[this.fields.isAllDay]?n.startHour:t[this.fields.startTime],i},t.prototype.getNextDay=function(e,t){for(var i,n=1;n<=this.dateRender.length;n++)if(i=tr.E4(e,n),-1!==this.parent.getIndexOfDate(this.dateRender,tr.zS(new Date(e.getTime())))){t.count=t.count-1;break}return i},t.prototype.getEndTime=function(e,t){var i=e[this.fields.endTime],n=tr.EK(i,this.startHour,this.endHour);return this.isDayProcess()?i=t[this.fields.endTime]:(i=t[this.fields.endTime],(n.endHour.getTime()<=t[this.fields.endTime]||e[this.fields.isAllDay])&&(i=n.endHour),n.startHour.getTime()>=t[this.fields.endTime].getTime()&&!e[this.fields.isAllDay]&&(i=this.getPreviousDay(n.startHour,n.endHour,t))),t.trimEndTime=e[this.fields.isAllDay]?n.endHour:t[this.fields.endTime],i},t.prototype.getPreviousDay=function(e,t,i){for(var n=1;n<=this.dateRender.length;n++){var r=tr.E4(t,-n);if(-1!==this.parent.getIndexOfDate(this.dateRender,tr.zS(new Date(e.getTime())))){(r=tr.zS(new Date(r.getTime()))).setHours(t.getHours(),t.getMinutes(),t.getSeconds());var a=i.count,s=i[this.fields.endTime];return i.count=0!==s.getHours()||0!==s.getMinutes()?a-1:a,r}}return i[this.fields.endTime]},t.prototype.getEventWidth=function(e,t,i,n){return"day"===this.renderType||i?n*this.slotsPerDay*this.cellWidth:this.isSameDay(e,t)?this.getSameDayEventsWidth(e,t):this.getSpannedEventsWidth(e,t,n)},t.prototype.getSameDayEventsWidth=function(e,t){return(tr.K$(t)-tr.K$(e))/tr.X$*(this.cellWidth*this.slotCount)/this.interval},t.prototype.getSpannedEventsWidth=function(e,t,i){var n,r=i*this.slotsPerDay*this.cellWidth,a=tr.EK(tr.zS(new Date(e.getTime())),this.startHour,this.endHour),s=this.getSameDayEventsWidth(a.startHour,e);if(-1===this.parent.getIndexOfDate(this.dateRender,tr.zS(new Date(t.getTime()))))n=0;else{var o=tr.EK(tr.zS(new Date(t.getTime())),this.startHour,this.endHour);n=this.getSameDayEventsWidth(t,o.endHour),n=this.slotsPerDay*this.cellWidth===n?0:n}var l=s+n;return r>l?r-l:r-s},t.prototype.isSameDay=function(e,t){return this.parent.getIndexOfDate(this.dateRender,tr.zS(new Date(e.getTime())))===this.parent.getIndexOfDate(this.dateRender,tr.zS(new Date(t.getTime())))},t.prototype.getAppointmentLeft=function(e,t,i){var n=this.isSameDay(t,e.startHour)?(tr.K$(t)-tr.K$(e.startHour))/(tr.X$*this.interval)*this.slotCount:0;return 0===i?n:Math.round((tr.K$(e.endHour)-tr.K$(e.startHour))/tr.X$/this.interval*this.slotCount)*i+n},t.prototype.getPosition=function(e,t,i,n){if("day"===this.renderType||i)return n*this.slotsPerDay*this.cellWidth;var r=tr.zS(new Date(this.dateRender[parseInt(n.toString(),10)].getTime())),a=tr.EK(r,this.startHour,this.endHour);return(a.endHour.getTime()<=t.getTime()&&a.startHour.getTime()>=e.getTime()?this.getAppointmentLeft(a,a.startHour,n):a.endHour.getTime()<=t.getTime()?this.getAppointmentLeft(a,e,n):a.startHour.getTime()>=e.getTime()?this.getAppointmentLeft(a,a.startHour,n):this.getAppointmentLeft(a,e,n))*this.cellWidth},t.prototype.getFilterEvents=function(e,t,i,n,r,a){return"day"===this.renderType?this.getFilteredEvents(e,t,r,a):this.getFilteredEvents(i,n,r,a)},t.prototype.isAlreadyAvail=function(e,t){for(var i=[].slice.call(t.querySelectorAll("."+ta.Fk6)),n=0;n<i.length;n++){var r=void 0;if(i&&(r=this.parent.enableRtl?i[parseInt(n.toString(),10)].style.right:i[parseInt(n.toString(),10)].style.left),parseInt(r,10)===Math.floor(e))return!0}return!1},t.prototype.getRowTop=function(e){return this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive?this.parent.element.querySelector("."+ta.y0r+' tbody td[data-group-index="'+e.toString()+'"]').offsetTop:0},t.prototype.getCellTd=function(){var e=this.parent.uiStateValues.isGroupAdaptive?0:this.rowIndex;return this.eventContainers[parseInt(e.toString(),10)]},t.prototype.renderBlockIndicator=function(e,t,i){if((!(this.parent.headerRows.length>0)||"Hour"===this.parent.headerRows[this.parent.headerRows.length-1].option&&"Date"===this.parent.headerRows[this.parent.headerRows.length-1].option)&&(t=Math.floor(t/this.cellWidth)*this.cellWidth+this.cellWidth-22,!this.isAlreadyAvail(t,e))){var n=(0,A.az)("div",{className:"e-icons "+ta.dqd});this.parent.activeViewOptions.group.resources.length>0&&n.setAttribute("data-group-index",i.toString()),this.parent.enableRtl?n.style.right=t+"px":n.style.left=t+"px",n.style.top=this.getRowTop(i)+this.cellHeight-18+"px",this.renderElement(e,n)}},t.prototype.setMaxEventHeight=function(e,t){(0,A.V7)(e,{height:this.cellHeight-(this.maxHeight?0:2)-(this.maxHeight?0:this.moreIndicatorHeight)+"px"})},t.prototype.isDayProcess=function(){return"TimelineMonth"===this.parent.currentView||!this.parent.activeViewOptions.timeScale.enable||this.parent.activeViewOptions.headerRows.length>0&&"Hour"!==this.parent.activeViewOptions.headerRows.slice(-1)[0].option},t.prototype.destroy=function(){this.renderType=null,this.eventContainers=null,this.dayLength=null,this.content=null,e.prototype.destroy.call(this),this.parent=null},t}(tv.T),ty=function(){function e(e){this.parent=e,this.parent.on(tn.nI,this.inlineEdit,this)}return e.prototype.inlineEdit=function(e){if(this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide(),"Cell"===e.type){var t=this.parent.element.querySelector("."+ta.asM);t&&t.classList.contains(ta.HRK)&&this.parent.quickPopup.morePopup.hide(),this.removeInlineAppointmentElement(),this.cellEdit(e)}else this.parent.element.querySelector("."+ta.eS7)!==e.element.querySelector("."+ta.eS7)&&this.removeInlineAppointmentElement(),this.eventEdit(e)},e.prototype.cellEdit=function(e){var t=this.generateEventData(),i=e.element.cellIndex,n=this.getEventDaysCount(t);n>1&&(n=Math.round(n),i-=--n);var r=tr.zS(new Date(""+t[this.parent.eventFields.startTime])).getTime(),a=tr.zS(new Date(""+t[this.parent.eventFields.endTime])).getTime(),s=e.groupIndex||0,o="Day"===this.parent.currentView||"Week"===this.parent.currentView||"WorkWeek"===this.parent.currentView;if(this.parent.activeViewOptions.timeScale.enable&&o){var l=t[this.parent.eventFields.startTime].getDay();this.createVerticalViewInline(t,l,s,i)}else"Month"===this.parent.currentView||!this.parent.activeViewOptions.timeScale.enable&&o?this.createMonthViewInline(t,s,r,a):this.createTimelineViewInline(t,r,a,s);var h=this.parent.element.querySelector("."+ta.eS7);h&&h.focus()},e.prototype.eventEdit=function(e){var t,i=e.element.querySelector("."+ta.eS7);if(i)t=i.value;else{var n=e.element.querySelector("."+ta.jaK);if((0,A.le)(n)?t=e.data[this.parent.eventFields.subject]:((0,A.cn)([n],ta.cSX),t=n.innerText),i=(0,A.az)("input",{className:ta.eS7,attrs:{value:t}}),(0,A.oq)(e.element,"."+ta.asM))e.element.insertBefore(i,n);else if(["Agenda","MonthAgenda"].indexOf(this.parent.currentView)>-1){var r=e.element.querySelector("."+ta.l3X);(0,A.le)(r)&&(r=(0,A.az)("div",{className:ta.l3X}),e.element.prepend(r)),r.insertBefore(i,r.firstChild)}else e.element.querySelector(".e-appointment-details").prepend(i);i.focus()}i.setSelectionRange(t.length,t.length)},e.prototype.createVerticalViewInline=function(e,t,i,n){var r,a=this.getEventDaysCount(e),s=new tm.m(this.parent);s.initializeValues();var o=s.dateRender[parseInt(i.toString(),10)].map(function(e){return e.getDay()}).indexOf(t);if(a>=1){s.allDayElement=[].slice.call(this.parent.element.querySelectorAll("."+ta.nqV)),(r=s.slots).push.apply(r,this.parent.activeView.renderDates.map(function(e){return+e}));var l=[].slice.call(this.parent.element.querySelectorAll("."+ta.yGK)),h=0;l.length>0&&(h=Math.floor(this.parent.element.querySelector("."+ta.aT7).getBoundingClientRect().height/l[0].offsetHeight)-1),s.allDayLevel=h;var p=tr.e8(this.parent.element.querySelector("."+ta.AKI),ta.MQu),c=s.allDayElement.length>0?s.allDayElement[0].offsetTop:0;s.renderAllDayEvents(e,o,i,n,this.parent.allowInline,c,p)}else s.renderNormalEvents(e,o,i,n,this.parent.allowInline)},e.prototype.createMonthViewInline=function(e,t,i,n){var r=this.getEventDaysCount(e),a=this.parent.eventBase.cloneEventObject(e,i,n,r,!1,!1),s=new tv.T(this.parent);s.dateRender=this.parent.activeView.renderDates,s.inlineValue=this.parent.allowInline;var o=this.parent.activeView.renderDates,l=this.parent.activeViewOptions.workDays,h="."+ta.bqQ;if(this.parent.activeViewOptions.group.resources.length>0){h+='[data-group-index="'+t+'"]';var p=this.parent.resourceBase.lastResourceLevel[parseInt(t.toString(),10)];o=p.renderDates,l=p.workDays}s.dateRender=o,s.workCells=[].slice.call(this.parent.element.querySelectorAll(h)),s.cellWidth=s.workCells[0].offsetWidth,s.cellHeight=s.workCells[0].offsetHeight,s.eventHeight=tr.e8(this.parent.monthModule.element||s.element,ta.MQu),s.getSlotDates(l);for(var c=s.getRenderedDates(o),u=s.splitEvent(a,c||o),d=0;d<u.length;d++){var m=u[d];s.renderEvents(m,t)}this.parent.element.querySelector("."+ta.eS7).focus()},e.prototype.createTimelineViewInline=function(e,t,i,n){var r=this.getEventDaysCount(e),a=this.parent.eventBase.cloneEventObject(e,t,i,r,!1,!1),s=new tf(this.parent,this.parent.activeViewOptions.timeScale.enable?"hour":"day");s.dateRender=this.parent.activeView.renderDates,s.eventContainers=[].slice.call(this.parent.element.querySelectorAll("."+ta.eK$));var o=this.parent.element.querySelector("."+ta.bqQ);s.inlineValue=this.parent.allowInline,s.cellWidth=o.offsetWidth,s.cellHeight=o.offsetHeight;var l=0===this.parent.element.querySelectorAll("."+ta.OzO+" tbody tr").length?0:this.parent.element.querySelectorAll("."+ta.OzO+" tbody tr")[0].children.length;s.slotsPerDay=l/s.dateRender.length,s.eventHeight=tr.e8(s.element,ta.MQu),s.renderEvents(a,n)},e.prototype.getEventDaysCount=function(e){var t=e[this.parent.eventFields.startTime];return Math.abs(e[this.parent.eventFields.endTime].getTime()-t.getTime())/tr.Mb},e.prototype.generateEventData=function(e){var t=this.parent.element.querySelector("."+ta.eS7),i=t?t.value:e?e.innerHTML:"",n={};return n[this.parent.eventFields.id]=this.parent.eventBase.getEventMaxID(),n[this.parent.eventFields.subject]=i,n[this.parent.eventFields.startTime]=this.parent.activeCellsData.startTime,n[this.parent.eventFields.endTime]=this.parent.activeCellsData.endTime,n[this.parent.eventFields.isAllDay]=this.parent.activeCellsData.isAllDay,this.parent.eventWindow.setDefaultValueToObject(n),this.parent.resourceBase&&this.parent.resourceBase.setResourceValues(n,this.parent.activeCellsData.groupIndex),n},e.prototype.documentClick=function(){var e=this.parent.element.querySelector("."+ta.eS7);e&&""!==e.value?this.inlineCrudActions(e):this.removeInlineAppointmentElement()},e.prototype.inlineCrudActions=function(e){if((0,A.oq)(e,"."+ta.EAj)){var t=this.generateEventData(e);this.parent.addEvent(t)}else{var i=(0,A.oq)(e,"."+ta.MQu),n=this.parent.getEventDetails(i);n[this.parent.eventFields.subject]=e.value;var r=void 0;n[this.parent.eventFields.id]===n[this.parent.eventFields.recurrenceID]&&(r="EditOccurrence",n[this.parent.eventFields.id]=this.parent.eventBase.getEventMaxID()),this.parent.saveEvent(n,r)}this.removeInlineAppointmentElement()},e.prototype.createInlineAppointmentElement=function(e){var t=(0,A.az)("div",{className:ta.MQu+" "+ta.EAj}),i=(0,A.az)("div",{className:ta.$m5});t.appendChild(i);var n=(0,A.az)("input",{className:ta.eS7});return i.appendChild(n),e&&this.parent.eventBase.applyResourceColor(t,e,"backgroundColor"),t},e.prototype.removeInlineAppointmentElement=function(){var e=[].slice.call(this.parent.element.querySelectorAll("."+ta.EAj));e.length>0&&e.forEach(function(e){return(0,A.Od)(e)});var t=this.parent.element.querySelector("."+ta.eS7);if(t){var i=(0,A.oq)(t,"."+ta.MQu).querySelector("."+ta.jaK);(0,A.le)(i)||(0,A.IV)([i],ta.cSX),(0,A.Od)(t)}},e.prototype.destroy=function(){this.parent.off(tn.nI,this.inlineEdit)},e}(),tb=i(58169),tT=i(10831),tD=i(67491),tw=i(3348),tC=function(){function e(){}return e.prototype.renderFormValidator=function(e,t,i,n){var r=this;this.element=i,this.formObj=new tw.Tl(e,{locale:n,customPlacement:function(e,t){r.errorPlacement(e,t)},rules:t,validationComplete:function(e){r.validationComplete(e)},focusout:function(e){r.focusOut(e)}})},e.prototype.focusOut=function(e){var t=e.relatedTarget;t&&(t.classList.contains("e-dlg-closeicon-btn")||t.classList.contains("e-close")||t.classList.contains(ta.nqV)||t.classList.contains(ta.Tb6)||t.classList.contains(ta.rqY)||t.classList.contains(ta.bqQ)||t.classList.contains(ta.RFU))?this.ignoreError=!0:this.ignoreError=!1},e.prototype.validationComplete=function(e){var t=this.element.querySelector("#"+e.inputName+"_Error");t&&(t.style.display="failure"===e.status?"":"none")},e.prototype.errorPlacement=function(e,t){var i=t.getAttribute("for"),n=this.element.querySelector("#"+i+"_Error");n||this.ignoreError||this.createTooltip(e,t,i,""),(0,A.le)(n)||(n.querySelector(".e-error").innerHTML=t.innerHTML)},e.prototype.createTooltip=function(e,t,i,n){var r,a,s=e.getBoundingClientRect();this.element.classList.contains(ta.T$L)?(r=this.element,a=this.element.getBoundingClientRect()):a=(r=this.element.querySelector(".e-schedule-dialog .e-dlg-content")).getBoundingClientRect();var o=(0,A.az)("div",{className:"e-tooltip-wrap e-popup "+ta.iNI,id:i+"_Error",styles:"display:"+n+";top:"+(s.bottom-a.top+r.scrollTop+9)+"px;left:"+(s.left-a.left+r.scrollLeft+s.width/2)+"px;"}),l=(0,A.az)("div",{className:"e-tip-content"});l.appendChild(t);var h=(0,A.az)("div",{className:"e-arrow-tip e-tip-top"});h.appendChild((0,A.az)("div",{className:"e-arrow-tip-outer e-tip-top"})),h.appendChild((0,A.az)("div",{className:"e-arrow-tip-inner e-tip-top"})),o.appendChild(l),o.appendChild(h),r.appendChild(o),o.style.left=parseInt(o.style.left,10)-o.offsetWidth/2+"px"},e.prototype.destroyToolTip=function(){if(this.element)for(var e=[].slice.call(this.element.querySelectorAll("."+ta.iNI)),t=0;t<e.length;t++){var i=e[t];(0,A.Od)(i)}this.formObj&&this.formObj.element&&this.formObj.reset()},e.prototype.destroy=function(){this.formObj&&this.formObj.element&&!this.formObj.isDestroyed&&this.formObj.destroy(),this.formObj=null,this.element=null},e}(),tS=function(){function e(e){this.isMultipleEventSelect=!1,this.isCrudAction=!1,this.parent=e,this.l10n=this.parent.localeObj,this.fieldValidator=new tC,this.render(),this.addEventListener()}return e.prototype.render=function(){this.renderQuickPopup(),this.renderMorePopup(),this.renderQuickDialog()},e.prototype.renderQuickPopup=function(){var e=(0,A.az)("div",{className:ta.T$L+" e-popup-close",attrs:{role:"dialog"}});this.parent.isAdaptive?(document.body.appendChild(e),(0,A.cn)([e],ta.Kx5)):this.parent.element.appendChild(e),this.quickPopup=new M.GI(e,{targetType:this.parent.isAdaptive?"container":"relative",enableRtl:this.parent.enableRtl,open:this.quickPopupOpen.bind(this),close:this.quickPopupClose.bind(this),hideAnimation:this.parent.isAdaptive?{name:"ZoomOut"}:{name:"FadeOut",duration:150},showAnimation:this.parent.isAdaptive?{name:"ZoomIn"}:{name:"FadeIn",duration:150},collision:this.parent.isAdaptive?{X:"fit",Y:"fit"}:this.parent.enableRtl?{X:"flip",Y:"fit"}:{X:"none",Y:"fit"},position:this.parent.isAdaptive||this.parent.enableRtl?{X:"left",Y:"top"}:{X:"right",Y:"top"},viewPortElement:this.parent.isAdaptive?document.body:this.parent.element,zIndex:this.parent.isAdaptive?1004:3})},e.prototype.renderMorePopup=function(){var e='<div class="'+ta.RJd+'"><div class="'+ta.Ik8+'">'+('<div class="'+ta.UeK)+'" title="'+this.l10n.getConstant("close")+'" tabindex="0"></div>'+('<div class="'+ta.TBe)+'"><div class="'+ta.vlB+'"></div>'+('<div class="'+ta._63)+" "+ta.DaF+'" tabindex="0"></div></div></div></div>',t=(0,A.az)("div",{className:ta.asM+" e-popup-close",innerHTML:e});this.parent.isAdaptive?(document.body.appendChild(t),(0,A.cn)([t],ta.Kx5)):this.parent.element.appendChild(t),this.morePopup=new M.GI(t,{targetType:this.parent.isAdaptive?"container":"relative",enableRtl:this.parent.enableRtl,hideAnimation:{name:"ZoomOut",duration:300},showAnimation:{name:"ZoomIn",duration:300},open:this.morePopupOpen.bind(this),close:this.morePopupClose.bind(this),collision:this.parent.isAdaptive?{X:"fit",Y:"fit"}:this.parent.enableRtl?{X:"flip",Y:"fit"}:{X:"flip",Y:"flip"},viewPortElement:this.parent.isAdaptive?document.body:this.parent.element,zIndex:this.parent.isAdaptive?1002:2});var i=this.morePopup.element.querySelector("."+ta.UeK);this.renderButton("e-round",ta.Wmm+" "+ta.HOk,!1,i,this.closeClick),A.bi.add(this.morePopup.element.querySelector("."+ta._63),"click",this.navigationClick,this)},e.prototype.renderQuickDialog=function(){var e=[{buttonModel:{cssClass:"e-quick-alertok e-flat",isPrimary:!0},click:this.dialogButtonClick.bind(this)},{buttonModel:{cssClass:"e-quick-alertcancel e-flat",isPrimary:!1},click:this.dialogButtonClick.bind(this)},{buttonModel:{cssClass:"e-quick-dialog-cancel e-disable e-flat",isPrimary:!1},click:this.dialogButtonClick.bind(this)}];if(this.parent.eventSettings.editFollowingEvents){var t={buttonModel:{cssClass:"e-quick-alertfollowing e-flat",isPrimary:!1},click:this.dialogButtonClick.bind(this)};e.splice(1,0,t)}this.quickDialog=new tb.Vq({animationSettings:{effect:"Zoom"},buttons:e,cssClass:ta.f63,closeOnEscape:!0,enableRtl:this.parent.enableRtl,enableHtmlSanitizer:this.parent.enableHtmlSanitizer,beforeClose:this.beforeQuickDialogClose.bind(this),isModal:!0,position:{X:"center",Y:"center"},showCloseIcon:!0,target:document.body,visible:!1,width:"auto"});var i=(0,A.az)("div",{id:this.parent.element.id+"QuickDialog"});this.parent.element.appendChild(i),this.quickDialog.appendTo(i);var n=this.quickDialog.element.querySelector("."+ta.Jpf);n&&(n.setAttribute("aria-label",this.l10n.getConstant("occurrence")),n.setAttribute("aria-label",n.innerHTML));var r=this.quickDialog.element.querySelector("."+ta.HKS);r&&(r.setAttribute("aria-label",this.l10n.getConstant("series")),r.setAttribute("aria-label",r.innerHTML)),this.quickDialog.element.querySelector(".e-dlg-closeicon-btn")&&this.quickDialog.element.querySelector(".e-dlg-closeicon-btn").setAttribute("title",this.l10n.getConstant("close"))},e.prototype.renderButton=function(e,t,i,n,r){new I.zx({cssClass:e,disabled:i,enableRtl:this.parent.enableRtl,enableHtmlSanitizer:this.parent.enableHtmlSanitizer,iconCss:t}).appendTo(n),A.bi.add(n,"click",r,this),(0,A.IV)([n],ta.Wmm)},e.prototype.quickDialogClass=function(e){var t=[ta.a1t,ta.Cu$,ta.KvC,ta.MSO,ta.gxJ,ta.cSX],i=this.quickDialog.element.querySelector("."+ta.Jpf),n=this.quickDialog.element.querySelector("."+ta.HKS),r=this.quickDialog.element.querySelector("."+ta.sg6);switch((0,A.IV)([i,n],t),(0,A.cn)([this.quickDialog.element.querySelector("."+ta.MSO)],ta.cSX),this.parent.eventSettings.editFollowingEvents&&((0,A.cn)([r],ta.cSX),(0,A.IV)([this.quickDialog.element],ta.af4)),e){case"Recurrence":(0,A.cn)([i],ta.a1t),(0,A.cn)([n],ta.Cu$),this.parent.eventSettings.editFollowingEvents&&((0,A.IV)([r],ta.cSX),(0,A.cn)([this.quickDialog.element],ta.af4),(0,A.cn)([r],ta.T2A));break;case"Delete":(0,A.cn)([i],ta.KvC),(0,A.cn)([n],ta.MSO);break;case"Alert":(0,A.cn)([i],[ta.Jpf,ta.gxJ]),(0,A.cn)([n],[ta.HKS,ta.cSX])}},e.prototype.applyFormValidation=function(){var e=this.quickPopup.element.querySelector("."+ta.BYE),t={};t[this.parent.eventSettings.fields.subject.name]=this.parent.eventSettings.fields.subject.validation,this.fieldValidator.renderFormValidator(e,t,this.quickPopup.element,this.parent.locale)},e.prototype.openRecurrenceAlert=function(){var e=this.quickDialog.element.querySelector("."+ta.Jpf);e&&(e.innerHTML=this.l10n.getConstant("Delete"===this.parent.currentAction?"deleteEvent":"editEvent"),e.setAttribute("aria-label",e.innerHTML));var t=this.quickDialog.element.querySelector("."+ta.sg6);t&&(t.innerHTML=this.l10n.getConstant("editFollowingEvent"),t.setAttribute("aria-label",t.innerHTML));var i=this.quickDialog.element.querySelector("."+ta.HKS);i&&(i.innerHTML=this.l10n.getConstant("Delete"===this.parent.currentAction?"deleteSeries":"editSeries"),i.setAttribute("aria-label",i.innerHTML)),this.quickDialog.content=this.l10n.getConstant("editContent"),this.quickDialog.header=this.l10n.getConstant("Delete"===this.parent.currentAction?"deleteTitle":"editTitle"),this.quickDialogClass("Recurrence"),this.showQuickDialog("RecurrenceAlert")},e.prototype.openRecurrenceValidationAlert=function(e){this.quickDialogClass("Alert");var t,i=this.quickDialog.element.querySelector("."+ta.Jpf);i.innerHTML=this.l10n.getConstant("ok"),i.setAttribute("aria-label",i.innerHTML);var n=this.quickDialog.element.querySelector("."+ta.HKS);switch(n.innerHTML=this.l10n.getConstant("cancel"),n.setAttribute("aria-label",n.innerHTML),this.quickDialog.header=this.l10n.getConstant("alert"),e){case"wrongPattern":(0,A.cn)([n],ta.cSX),this.quickDialog.content=this.l10n.getConstant("wrongPattern");break;case"createError":(0,A.cn)([n],ta.cSX),this.quickDialog.content=this.l10n.getConstant("createError");break;case"sameDayAlert":(0,A.cn)([n],ta.cSX),this.quickDialog.content=this.l10n.getConstant("sameDayAlert");break;case"seriesChangeAlert":t=this.quickDialog.element.querySelector("."+ta.MSO),(0,A.IV)([n,t],ta.cSX),this.quickDialog.content=this.l10n.getConstant("seriesChangeAlert"),i.innerHTML=this.l10n.getConstant("yes"),n.innerHTML=this.l10n.getConstant("no"),t.innerHTML=this.l10n.getConstant("cancel");break;case"occurrenceAlert":(0,A.cn)([n],ta.cSX),this.quickDialog.content=this.l10n.getConstant("occurenceAlert")}(!this.parent.enableRecurrenceValidation&&"wrongPattern"===e||this.parent.enableRecurrenceValidation)&&this.showQuickDialog("RecurrenceValidationAlert")},e.prototype.openDeleteAlert=function(){if(!this.parent.activeViewOptions.readonly){var e=this.quickDialog.element.querySelector("."+ta.Jpf);e&&(e.innerHTML=this.l10n.getConstant("delete"),e.setAttribute("aria-label",e.innerHTML));var t=this.quickDialog.element.querySelector("."+ta.HKS);t&&(t.innerHTML=this.l10n.getConstant("cancel"),t.setAttribute("aria-label",t.innerHTML)),this.quickDialog.content=this.parent.activeEventData.event.length>1?this.l10n.getConstant("deleteMultipleContent"):this.l10n.getConstant("deleteContent"),this.quickDialog.header=this.parent.activeEventData.event.length>1?this.l10n.getConstant("deleteMultipleEvent"):this.l10n.getConstant("deleteEvent"),this.quickDialogClass("Delete"),this.showQuickDialog("DeleteAlert")}},e.prototype.openValidationError=function(e,t){this.quickDialog.header=this.l10n.getConstant("alert"),this.quickDialog.content=this.l10n.getConstant(e);var i=this.quickDialog.element.querySelector("."+ta.Jpf);i&&(i.innerHTML=this.l10n.getConstant("ok"),i.setAttribute("aria-label",i.innerHTML));var n=this.quickDialog.element.querySelector("."+ta.HKS);n&&(n.innerHTML=this.l10n.getConstant("cancel"),i.setAttribute("aria-label",n.innerHTML)),this.quickDialogClass("Alert"),this.showQuickDialog("ValidationAlert",t)},e.prototype.showQuickDialog=function(e,t){var i=this;this.quickDialog.dataBind();var n={type:e,cancel:!1,element:this.quickDialog.element,data:(0,A.l7)({},t||this.parent.activeEventData.event,null,!0)};this.parent.trigger(tn.$b,n,function(e){e.cancel||i.quickDialog.show()})},e.prototype.createMoreEventList=function(e,t,i){var n=this,r=this.parent.eventFields,a=(0,A.az)("div",{className:ta.wVf}),s=(0,A.az)("div",{className:ta.CBs});if(0===e.length)s=(0,A.az)("div",{className:ta.wVf,innerHTML:this.l10n.getConstant("emptyContainer")});else for(var o=function(e){var a=e[r.subject]||l.parent.eventSettings.fields.subject.default||l.parent.localeObj.getConstant("addTitle"),o=(0,A.az)("div",{className:ta.MQu,attrs:{"data-id":""+e[r.id],"data-guid":e.Guid,role:"button",tabindex:"0","aria-disabled":l.parent.eventBase.getReadonlyAttribute(e),"aria-label":l.parent.getAnnouncementString(e)}});e[r.isReadonly]&&(0,A.cn)([o],"e-read-only");var h=void 0;if((0,A.le)(l.parent.activeViewOptions.eventTemplate))o.appendChild((0,A.az)("div",{className:ta.jaK})),l.parent.sanitize(a,o.firstElementChild);else{var p=l.parent.element.id+"_"+l.parent.activeViewOptions.eventTemplateName+"eventTemplate";h=l.parent.getAppointmentTemplate()(e,l.parent,"eventTemplate",p,!1),(0,A.R3)(h,o)}if((0,A.le)(i)||o.setAttribute("data-group-index",i),!(0,A.le)(e[r.recurrenceRule])){var c=e[r.id]===e[r.recurrenceID]?ta.S60:ta.jJb;o.appendChild((0,A.az)("div",{className:ta.Wmm+" "+c}))}var u={data:(0,A.l7)({},e,null,!0),element:o,cancel:!1};l.parent.trigger(tn.ZW,u,function(i){if(!i.cancel){s.appendChild(o);var r=n.parent.isAdaptive||"Year"===n.parent.currentView;n.parent.eventBase.wireAppointmentEvents(o,e,r),n.parent.eventBase.applyResourceColor(o,e,"backgroundColor",t)}})},l=this,h=0;h<e.length;h++)o(e[h]);return a.appendChild(s),a},e.prototype.tapHoldEventPopup=function(e){var t=(0,A.oq)(e.target,"."+ta.MQu);this.isMultipleEventSelect=!1,this.parent.selectedElements=[],this.isMultipleEventSelect=!0,this.parent.eventBase.getSelectedEventElements(t),this.parent.activeEventData=this.parent.eventBase.getSelectedEvents();var i=t.getAttribute("data-guid"),n=this.parent.eventBase.getEventByGuid(i);if(!(0,A.le)(n)){var r=n[this.parent.eventFields.subject]||this.l10n.getConstant("noTitle"),a='<div class="'+ta.DQK+'"><div class="'+ta.R4G+'">'+('<button class="'+ta.bLo)+'" title="'+this.l10n.getConstant("close")+'"></button>'+('<div class="'+ta.jaK)+'">'+r+"</div>"+('<button class="'+ta.Wdr)+'" title="'+this.l10n.getConstant("edit")+'"></button>'+('<button class="'+ta.dcr)+'" title="'+this.l10n.getConstant("delete")+'"></button></div></div>';this.quickPopup.element.innerHTML=a;var s=this.quickPopup.element.querySelector("."+ta.bLo);this.renderButton("e-flat e-round e-small",ta.Wmm+" "+ta.HOk,!1,s,this.closeClick);var o=this.parent.activeViewOptions.readonly||n[this.parent.eventFields.isReadonly],l=!this.parent.eventSettings.allowEditing||o,h=!this.parent.eventSettings.allowDeleting||o,p=this.quickPopup.element.querySelector("."+ta.Wdr);p&&this.renderButton("e-flat e-round e-small",ta.Wmm+" "+ta.$49,l,p,this.editClick);var c=this.quickPopup.element.querySelector("."+ta.dcr);c&&this.renderButton("e-flat e-round e-small",ta.Wmm+" "+ta.F6g,h,c,this.deleteClick),this.beforeQuickPopupOpen(t,this.parent.eventBase.getPageCoordinates(e))}},e.prototype.isCellBlocked=function(e){var t={};if(t[this.parent.eventFields.startTime]=this.parent.activeCellsData.startTime,t[this.parent.eventFields.endTime]=this.parent.activeCellsData.endTime,t[this.parent.eventFields.isAllDay]=this.parent.activeCellsData.isAllDay,this.parent.activeViewOptions.group.resources.length>0){var i=parseInt((e.element instanceof Array?e.element[0]:e.element).getAttribute("data-group-index"),10);this.parent.resourceBase.setResourceValues(t,isNaN(i)?null:i)}return this.parent.eventBase.isBlockRange(t)},e.prototype.cellClick=function(e){var t=new Date(e.startTime.getTime());if(!this.parent.showQuickInfo||!this.parent.eventSettings.allowAdding||"MonthAgenda"===this.parent.currentView||this.isCellBlocked(e)||!this.parent.isMinMaxDate(new Date(t.setHours(0,0,0,0)))){this.quickPopupHide();return}var i=(0,A.le)(e.event)?e.element:e.event.target;if(this.parent.isAdaptive){this.quickPopupHide();var n=this.parent.element.querySelector("."+ta.Ux$);(0,A.le)(n)&&(n=(0,A.az)("div",{className:ta.Ux$,innerHTML:'<div class="e-title">+ '+this.l10n.getConstant("newEvent")+"</div>"}));var r=(0,A.oq)(i,"."+ta.bqQ+",."+ta.nqV);r&&r.appendChild(n);return}var a=(0,A.oq)(i,"."+ta.bqQ+",."+ta.nqV+",."+ta.Tb6);if(!((0,A.le)(a)||i.classList.contains(ta.Fk6))){if(this.quickPopup.relateTo===a&&this.quickPopup.element.classList.contains(ta.HRK)){var s=this.quickPopup.element.querySelector("."+ta.jaK);s&&s.focus();return}this.quickPopup.element&&this.destroyPopupButtons("quickPopup");var o={};o[this.parent.eventFields.startTime]=this.parent.activeCellsData.startTime,o[this.parent.eventFields.endTime]=this.parent.activeCellsData.endTime,o[this.parent.eventFields.isAllDay]=this.parent.activeCellsData.isAllDay;var l=(0,A.az)("div",{className:ta.jOs});l.appendChild(this.getPopupHeader("Cell",o)),l.appendChild(this.getPopupContent("Cell",e,o)),l.appendChild(this.getPopupFooter("Cell",o)),this.quickPopup.element.setAttribute("aria-label",this.l10n.getConstant("newEvent"));var h=l.querySelector("."+ta.jaK);h&&tD.I.createInput({element:h,properties:{placeholder:this.l10n.getConstant("addTitle")}}),(0,A.le)(this.parent.eventSettings.fields.subject.default)||(h.value=this.parent.eventSettings.fields.subject.default);var p=l.querySelector("."+ta.bLo);p&&this.renderButton("e-flat e-round e-small",ta.Wmm+" "+ta.HOk,!1,p,this.popupClose);var c=l.querySelector("."+ta.rqY);c&&this.renderButton("e-flat","",!1,c,this.detailsClick);var u=l.querySelector("."+ta.NvD);u&&this.renderButton("e-flat e-primary","",this.parent.activeViewOptions.readonly,u,this.saveClick),this.morePopup&&this.morePopup.hide(),this.quickPopup.content=l,this.quickPopup.relateTo=a,this.quickPopup.dataBind(),this.beforeQuickPopupOpen(a,this.parent.eventBase.getPageCoordinates(e.event))}},e.prototype.isSameEventClick=function(e){if(this.quickPopup.relateTo===(0,A.oq)(e.element,"."+ta.MQu)&&this.quickPopup.element.classList.contains(ta.HRK)){var t=this.quickPopup.element.querySelector("."+ta.Wdr);if(t&&t.focus(),!this.parent.isAdaptive){var i=this.quickPopup.element.querySelector("."+ta.$BZ);i&&i.focus()}return!0}return!1},e.prototype.isQuickTemplate=function(e){return"Both"===this.parent.quickInfoTemplates.templateType||this.parent.quickInfoTemplates.templateType===e},e.prototype.eventClick=function(e){if(this.parent.eventTooltip&&this.parent.eventTooltip.close(),this.parent.showQuickInfo){if(this.parent.isAdaptive&&this.isMultipleEventSelect)this.updateTapHoldEventPopup((0,A.oq)(e.element,"."+ta.MQu));else{var t=this.isSameEventClick(e);if(this.parent.selectedElements=[],t)return;this.quickPopup.element&&this.destroyPopupButtons("quickPopup");var i=e.event,n=(0,A.az)("div",{className:ta.SYL});n.appendChild(this.getPopupHeader("Event",i)),n.appendChild(this.getPopupContent("Event",e,i)),n.appendChild(this.getPopupFooter("Event",i)),this.quickPopup.element.setAttribute("aria-label",this.l10n.getConstant("editEvent"));var r=this.parent.activeViewOptions.readonly||i[this.parent.eventFields.isReadonly],a=!this.parent.eventSettings.allowEditing||r,s=!this.parent.eventSettings.allowDeleting||r,o=n.querySelector("."+ta.Wdr),l="e-flat e-round e-small";o&&this.renderButton(l,ta.Wmm+" "+ta.$49,a,o,this.editClick);var h=n.querySelector("."+ta.dcr);h&&this.renderButton(l,ta.Wmm+" "+ta.F6g,s,h,this.deleteClick);var p=n.querySelector("."+ta.bLo);p&&this.renderButton(l,ta.Wmm+" "+ta.HOk,!1,p,this.popupClose);var c=n.querySelector("."+ta.$BZ);c&&this.renderButton("e-flat e-primary","",a,c,this.editClick);var u=n.querySelector("."+ta.sgF);u&&this.renderButton("e-flat","",s,u,this.deleteClick),this.morePopup&&!(0,A.oq)(e.element,"."+ta.CBs)&&this.morePopup.hide(),this.quickPopup.content=n,this.quickPopup.relateTo=this.parent.isAdaptive?document.body:(0,A.oq)(e.element,"."+ta.MQu),this.quickPopup.dataBind(),this.beforeQuickPopupOpen(e.element,this.parent.eventBase.getPageCoordinates(e.originalEvent))}}},e.prototype.getPopupHeader=function(e,t){var i=(0,A.az)("div",{className:ta.R4G});if(this.isQuickTemplate(e)&&this.parent.quickInfoTemplates.header){var n=(0,A.l7)({},t,{elementType:e.toLowerCase()},!0),r=this.parent.element.id,a=[].slice.call(this.parent.getQuickInfoTemplatesHeader()(n,this.parent,"header",r+"_headerTemplate",!1));(0,A.R3)([].slice.call(a),i)}else{var s=void 0,o=void 0;switch(e){case"Cell":s='<div class="'+ta.SKk+'"><button class="'+ta.bLo+'" title="'+this.l10n.getConstant("close")+'"></button></div>';break;case"Event":o=this.getFormattedString(t),s='<div class="'+ta.SKk+'">'+('<button class="'+ta.Wdr+" "+ta.Wmm)+'" title="'+this.l10n.getConstant("edit")+'"></button>'+('<button class="'+ta.dcr+" "+ta.Wmm)+'" title="'+this.l10n.getConstant("delete")+'"></button>'+('<button class="'+ta.bLo)+'" title="'+this.l10n.getConstant("close")+'"></button></div>'+('<div class="'+ta.l3X+'"><div class="'+ta.jaK)+" "+ta.khW+'" title="'+(o.eventSubject?o.eventSubject.replaceAll('"',"'"):o.eventSubject)+'"></div></div >'}var l=(0,A.az)("div",{innerHTML:s});if("Event"===e){var h=l.querySelector("."+ta.jaK);this.parent.sanitize(o.eventSubject,h)}(0,A.R3)([].slice.call(l.childNodes),i)}return i},e.prototype.getPopupContent=function(e,t,i){var n=(0,A.az)("div",{className:ta.WDy});if(this.isQuickTemplate(e)&&this.parent.quickInfoTemplates.content){var r=(0,A.l7)({},i,{elementType:e.toLowerCase()},!0),a=this.parent.element.id,s=[].slice.call(this.parent.getQuickInfoTemplatesContent()(r,this.parent,"content",a+"_contentTemplate",!1));(0,A.R3)([].slice.call(s),n)}else{var o=void 0,l=void 0,h=void 0,p=this.getResourceText(t,e.toLowerCase());switch(e){case"Cell":l=this.getFormattedString(i),o='<table class="'+ta.pjk+'"><tbody><tr><td><form class="'+ta.BYE+'" onsubmit="return false;"><input class="'+ta.jaK+' e-field" type="text" name='+('"'+this.parent.eventFields.subject)+'" /></form></td></tr><tr><td><div class="'+ta.rZq+'">'+('<div class="'+ta.FQW+" "+ta.Wmm)+'"></div><div class="'+ta.rTe+" "+ta.khW+'">'+l.details+"</div></div>"+(this.parent.activeViewOptions.group.resources.length>0?'<div class="'+ta.zyq+'">'+('<div class="'+ta.R2B+" "+ta.Wmm)+' "></div><div class="'+ta.OnH+" "+ta.khW+'"></div></div>':"")+"</td></tr></tbody></table>";break;case"Event":h=this.getFormattedString(i),o='<div class="'+ta.rZq+'"><div class="'+ta.FQW+" "+ta.Wmm+'"></div><div class="'+ta.uot+" "+ta.khW+'"><div class="'+ta.rTe+" "+ta.khW+'">'+h.details+"</div>",i[this.parent.eventFields.recurrenceRule]&&(o+='<div class="'+ta.pLz+" "+ta.khW+'">'+this.getRecurrenceSummary(i)+"</div>"),o+="</div></div>",i[this.parent.eventFields.location]&&(o+='<div class="'+ta.mwb+'"><div class="'+ta.F4U+" "+ta.Wmm+'"></div><div class="'+ta.csC+" "+ta.khW+'"></div></div>'),(i[this.parent.eventFields.startTimezone]||i[this.parent.eventFields.endTimezone])&&(o+='<div class="'+ta.k$u+'"><div class="'+ta.iSg+" "+ta.Wmm+'"></div><div class="'+ta.U_r+" "+ta.khW+'">'+this.getTimezone(i)+"</div></div>"),i[this.parent.eventFields.description]&&(o+='<div class="'+ta.Tko+'"><div class="'+ta.xhw+" "+ta.Wmm+'"></div><div class="'+ta.TxA+" "+ta.khW+'"></div></div>'),this.parent.resourceCollection.length>0&&(o+='<div class="'+ta.zyq+'"><div class="'+ta.R2B+" "+ta.Wmm+'"></div><div class="'+ta.OnH+" "+ta.khW+'"></div></div>')}var c=(0,A.az)("div",{innerHTML:o});if(i[this.parent.eventFields.location]){var u=c.querySelector("."+ta.csC);(0,A.le)(u)||this.parent.sanitize(i[this.parent.eventFields.location],u)}if(i[this.parent.eventFields.description]){var d=c.querySelector("."+ta.TxA);(0,A.le)(d)||this.parent.sanitize(i[this.parent.eventFields.description],d)}if(p){var m=c.querySelector("."+ta.OnH);(0,A.le)(m)||this.parent.sanitize(p,m)}(0,A.R3)([].slice.call(c.childNodes),n)}return n},e.prototype.getPopupFooter=function(e,t){var i=(0,A.az)("div",{className:ta.qV0});if(this.isQuickTemplate(e)&&this.parent.quickInfoTemplates.footer){var n=(0,A.l7)({},t,{elementType:e.toLowerCase()},!0),r=this.parent.element.id,a=[].slice.call(this.parent.getQuickInfoTemplatesFooter()(n,this.parent,"footer",r+"_footerTemplate",!1));(0,A.R3)([].slice.call(a),i)}else{var s=void 0;switch(e){case"Cell":s='<button class="'+ta.rqY+" "+ta.khW+'" title='+('"'+this.l10n.getConstant("moreDetails"))+'">'+this.l10n.getConstant("moreDetails")+"</button>"+('<button class="'+ta.NvD+" "+ta.khW)+'" title="'+this.l10n.getConstant("save")+'">'+this.l10n.getConstant("save")+"</button>";break;case"Event":s=this.parent.isAdaptive?"":'<button class="'+ta.$BZ+" "+(ta.khW+'" title="'+this.l10n.getConstant("edit"))+'">'+this.l10n.getConstant("edit")+"</button>"+('<button class="'+ta.sgF+" "+ta.khW)+'" title="'+this.l10n.getConstant("delete")+'">'+this.l10n.getConstant("delete")+"</button>"}var o=(0,A.az)("div",{innerHTML:s});(0,A.R3)([].slice.call(o.childNodes),i)}return i},e.prototype.getResourceText=function(e,t){if(0===this.parent.resourceCollection.length)return null;var i="";if(0===this.parent.activeViewOptions.group.resources.length){var n=this.parent.resourceBase.resourceCollection.slice(-1)[0],r=n.dataSource;if("event"===t)for(var a=e.event,s=0,o=r;s<o.length;s++)!function(e){var t=a[n.field];if(t instanceof Array){if(t.indexOf(e[n.idField])>-1){var s=t[t.indexOf(e[n.idField])],o=r.filter(function(e){return e[n.idField]===s})[0];i+=""===i?o[n.textField]:", "+o[n.textField]}}else e[n.idField]===t&&(i=e[n.textField].toString())}(o[s]);else i=r[0][n.textField].toString()}else if("event"===t){for(var l,a=e.event,r=void 0,h=this.parent.resourceBase.resourceCollection.length-1;h>=0;h--)if(r=a[this.parent.resourceBase.resourceCollection[parseInt(h.toString(),10)].field],!(0,A.le)(r)){l=this.parent.resourceBase.resourceCollection[parseInt(h.toString(),10)];break}Array.isArray(r)||(r=[r]);var p=[],c=l.dataSource;r.forEach(function(e){var t,i=tr.Zi(c,l.idField,e);i>-1&&(t=c[parseInt(i.toString(),10)][l.textField]),t&&p.push(t)}),i=p.join(", ")}else{var u=(0,A.le)(e.groupIndex)?0:e.groupIndex,d=this.parent.resourceBase.lastResourceLevel[parseInt(u.toString(),10)];i=d.resourceData[d.resource.textField]}return i},e.prototype.getFormattedString=function(e){var t=this.parent.eventFields,i=e[t.subject]||this.l10n.getConstant("noTitle"),n=e[t.startTime],r=e[t.endTime],a=this.getDateFormat(n,"long"),s=e[t.isAllDay]&&0===r.getHours()&&0===r.getMinutes()?this.getDateFormat(tr.E4(new Date(r.getTime()),-1),"long"):this.getDateFormat(r,"long"),o=this.parent.getTimeString(n),l=this.parent.getTimeString(r),h="",p=r.getDate()!==n.getDate()&&(r.getTime()-n.getTime())/36e5<24?1:0;return e[t.isAllDay]?(h=a+" ("+this.l10n.getConstant("allDay")+")",(tr.K$(r)-tr.K$(n))/tr.Mb>1&&(h+="&nbsp;-&nbsp;"+s+" ("+this.l10n.getConstant("allDay")+")")):h=(tr.K$(r)-tr.K$(n))/tr.Mb>=1||p>0?a+" ("+o+")&nbsp;-&nbsp;"+s+" ("+l+")":a+" ("+o+"&nbsp;-&nbsp;"+l+")",{eventSubject:i,details:h}},e.prototype.moreEventClick=function(e,t,i){var n,r=this;this.quickPopupHide(!0);var a=this.morePopup.element.querySelector("."+ta.wVf);a&&(0,A.Od)(a);var s=e.date.getTime().toString(),o=(0,A.oq)(e.element,"."+ta.Fk6+",."+ta.bqQ),l=this.parent.globalize.formatDate(e.date,{format:"E",calendar:this.parent.getCalendarMode()});this.morePopup.element.querySelector("."+ta.vlB).innerHTML=tr.hz(l,"single");var h=this.morePopup.element.querySelector("."+ta._63);h.innerHTML=this.getDateFormat(e.date,"d"),h.setAttribute("data-date",s),h.setAttribute("data-end-date",t.getTime().toString()),(0,A.le)(i)||(h.setAttribute("data-group-index",i),n=this.parent.resourceBase.lastResourceLevel[parseInt(i,10)].groupOrder);var p=this.createMoreEventList(e.event,n,i);if(this.morePopup.element.querySelector("."+ta.RJd).appendChild(p),(0,A.IV)(this.morePopup.element.querySelector("."+ta.TBe).childNodes,ta.Ix6),tr.zS(e.date).getTime()===tr.zS(this.parent.getCurrentTime()).getTime()&&(0,A.cn)(this.morePopup.element.querySelector("."+ta.TBe).childNodes,ta.Ix6),!this.parent.isAdaptive){if(-1!==this.parent.currentView.indexOf("Timeline")){var c=o.getAttribute("data-group-index"),u=new Date(parseInt(o.getAttribute("data-start-date"),10));u.setHours(u.getHours(),u.getMinutes(),0);var d=u.getTime().toString();if((0,A.le)(c))this.morePopup.relateTo=this.parent.element.querySelector("."+ta.y0r+' tbody tr td[data-date="'+d+'"]');else if(this.morePopup.relateTo=this.parent.element.querySelector("."+ta.y0r+' tbody tr td[data-group-index="'+c+'"][data-date="'+d+'"]'),(0,A.le)(this.morePopup.relateTo))for(var m=[].slice.call(this.parent.element.querySelectorAll("."+ta.y0r+' tbody tr td[data-group-index="'+c+'"]')),v=0;v<m.length;v++)m[parseInt(v.toString(),10)].getAttribute("data-date")<d&&(this.morePopup.relateTo=m[parseInt(v.toString(),10)])}else this.morePopup.relateTo=(0,A.oq)(o,"."+ta.bqQ)}this.parent.renderTemplates(function(){var t={type:"EventContainer",cancel:!1,element:r.morePopup.element,data:e};r.parent.trigger(tn.$b,t,function(e){e.cancel||r.morePopup.show()})})},e.prototype.saveClick=function(e){this.applyFormValidation(),this.dialogEvent=e,this.isCrudAction=!0,this.quickPopupHide()},e.prototype.detailsClick=function(e){var t=this.quickPopup.element.querySelector("."+ta.jaK);t&&""!==t.value&&(0,A.l7)(this.parent.activeCellsData,{subject:t.value}),this.dialogEvent=e,this.isCrudAction=!1,this.fieldValidator.destroyToolTip(),this.quickPopupHide(),this.parent.eventWindow.openEditor(this.parent.activeCellsData,"Add")},e.prototype.editClick=function(e){this.dialogEvent=e,this.quickPopupHide(!0);var t=this.parent.activeEventData.event;this.parent.currentAction="EditSeries",(0,A.le)(t[this.parent.eventFields.recurrenceRule])?this.parent.eventWindow.openEditor(t,this.parent.currentAction):(this.parent.currentAction="EditOccurrence",this.openRecurrenceAlert())},e.prototype.deleteClick=function(e){this.dialogEvent=e,this.quickPopupHide(!0),this.parent.currentAction="Delete",this.parent.activeEventData.event[this.parent.eventFields.recurrenceRule]?this.openRecurrenceAlert():this.openDeleteAlert()},e.prototype.updateMoreEventContent=function(){if(!this.morePopup.element.classList.contains("e-popup-close")){var e,t,i=this.morePopup.element.querySelector("."+ta.wVf);i&&(0,A.Od)(i);var n=this.morePopup.element.querySelector("."+ta._63),r=new Date(parseInt(n.getAttribute("data-date"),10)),a=new Date(parseInt(n.getAttribute("data-end-date"),10)),s=n.getAttribute("data-group-index");(0,A.le)(s)||(t=(e=this.parent.resourceBase.lastResourceLevel[parseInt(s,10)]).groupOrder);var o=this.parent.eventBase.filterEvents(r,a,this.parent.eventsProcessed,e),l=this.createMoreEventList(o,t,s);this.morePopup.element.querySelector("."+ta.RJd).appendChild(l)}},e.prototype.closeClick=function(e){this.dialogEvent=e,"Year"===this.parent.currentView&&this.parent.activeCellsData&&this.parent.activeCellsData.element&&this.parent.selectCell(this.parent.activeCellsData.element),this.quickPopupHide(),this.morePopup.hide()},e.prototype.dialogButtonClick=function(e){this.dialogEvent=e,this.quickDialog.hide();var t=e.target,i=this.quickDialog.element.querySelector("."+ta.HKS),n=this.parent.activeEventData.event;if(t.classList.contains(ta.a1t))switch(this.parent.currentAction="Delete"===this.parent.currentAction?"DeleteOccurrence":"EditOccurrence",this.parent.currentAction){case"EditOccurrence":this.parent.eventWindow.openEditor(n,this.parent.currentAction);break;case"DeleteOccurrence":this.parent.crudModule.deleteEvent(n,this.parent.currentAction)}else if(t.classList.contains(ta.T2A))switch(this.parent.currentAction="Delete"===this.parent.currentAction?"DeleteFollowingEvents":"EditFollowingEvents",this.parent.currentAction){case"EditFollowingEvents":this.parent.eventWindow.openEditor(n,this.parent.currentAction);break;case"DeleteFollowingEvents":this.parent.crudModule.deleteEvent(n,this.parent.currentAction)}else if(t.classList.contains(ta.Cu$))switch(this.parent.currentAction="Delete"===this.parent.currentAction?"DeleteSeries":"EditSeries",this.parent.currentAction){case"EditSeries":this.parent.eventWindow.openEditor(this.parent.eventBase.getParentEvent(n,!0),this.parent.currentAction);break;case"DeleteSeries":this.parent.crudModule.deleteEvent(n,this.parent.currentAction)}else t.classList.contains(ta.KvC)?this.parent.crudModule.deleteEvent(n,this.parent.currentAction):!i.classList.contains(ta.cSX)&&(t.classList.contains(ta.Jpf)||t.classList.contains(ta.HKS)&&!i.classList.contains(ta.MSO))&&(this.parent.uiStateValues.isIgnoreOccurrence=t.classList.contains(ta.HKS),this.parent.eventWindow.eventSave(e,this.l10n.getConstant("ok")))},e.prototype.updateTapHoldEventPopup=function(e){var t=this.parent.eventBase.getSelectedEventElements(e);if(this.parent.activeEventData=this.parent.eventBase.getSelectedEvents(),t.length>0){var i=this.parent.eventBase.getEventByGuid(t[0].getAttribute("data-guid")),n=1===t.length?i[this.parent.eventFields.subject]||this.l10n.getConstant("noTitle"):"("+t.length+")&nbsp;"+this.l10n.getConstant("selectedItems");this.quickPopup.element.querySelector("."+ta.jaK).innerHTML=n,t.length>1?(0,A.cn)([this.quickPopup.element.querySelector("."+ta.$49)],ta.V27):(0,A.IV)([this.quickPopup.element.querySelector("."+ta.$49)],ta.V27)}else this.parent.selectedElements=[],this.quickPopupHide()},e.prototype.getTimezone=function(e){var t="";return t+=e[this.parent.eventFields.startTimezone]||"",t+=(""===t?"":" - ")+(e[this.parent.eventFields.endTimezone]||"")},e.prototype.getRecurrenceSummary=function(e){var t=this.parent.eventWindow.getRecurrenceEditorInstance();if(t){var i=t.getRuleSummary(e[this.parent.eventFields.recurrenceRule]);return i.charAt(0).toUpperCase()+i.slice(1)}return""},e.prototype.getDateFormat=function(e,t){return tr.hz(this.parent.globalize.formatDate(e,{skeleton:t,calendar:this.parent.getCalendarMode()}),"single")},e.prototype.getDataFromTarget=function(e){if(e.classList.contains(ta.MQu))return this.parent.activeEventData.event;var t={startTime:this.parent.activeCellsData.startTime,endTime:this.parent.activeCellsData.endTime,isAllDay:this.parent.activeCellsData.isAllDay,groupIndex:this.parent.activeCellsData.groupIndex},i=this.parent.activeCellsData;return this.parent.eventWindow.convertToEventData(i,t),t},e.prototype.beforeQuickDialogClose=function(e){var t=this,i={event:e.event||this.dialogEvent,type:(0,A.le)(this.parent.activeEventData.event)?"ValidationAlert":(0,A.le)(this.parent.activeEventData.event[this.parent.eventFields.recurrenceRule])?"DeleteAlert":"RecurrenceAlert",cancel:!1,data:this.parent.activeEventData.event,element:this.quickDialog.element};this.parent.trigger(tn.u_,i,function(e){e.cancel||t.parent.eventBase.focusElement(!0)})},e.prototype.beforeQuickPopupOpen=function(e,t){var i=this;this.parent.renderTemplates(function(){var n=i.quickPopup.element.querySelector("."+ta.SYL),r=i.parent.isAdaptive?n?"ViewEventInfo":"EditEventInfo":"QuickInfo",a={type:r,cancel:!1,data:(0,A.l7)({},i.getDataFromTarget(e),null,!0),target:e,element:i.quickPopup.element};i.parent.trigger(tn.$b,a,function(a){if(a.cancel)i.quickPopupHide(),i.destroyPopupButtons("quickPopup"),a.element.classList.contains(ta.HRK)&&i.quickPopupClose(),tr.ep(i.quickPopup.element),i.isMultipleEventSelect=!1;else{var s=i.quickPopup.element.style.display;if(i.quickPopup.element.style.display="block",i.parent.isAdaptive)i.quickPopup.element.removeAttribute("style"),i.quickPopup.element.style.display="block",i.quickPopup.element.style.height=(0,A.Ac)("EditEventInfo"===r?65:window.innerHeight);else{var o=i.parent.virtualScrollModule&&i.parent.virtualScrollModule.isHorizontalScroll&&!(0,A.le)((0,A.oq)(e,"."+ta.OzO)),l=i.parent.element.querySelector("."+ta.y0r+" table");i.quickPopup.offsetX=o&&!i.parent.enableRtl?tr.Q9(l)+10:10,i.quickPopup.offsetY=i.parent.virtualScrollModule&&!i.parent.virtualScrollModule.isHorizontalScroll?i.quickPopup.offsetY:0,i.quickPopup.collision={X:i.parent.enableRtl?"flip":"none",Y:"fit"},i.quickPopup.position={X:i.parent.enableRtl?"left":"right",Y:i.parent.enableRtl?"bottom":"top"},i.quickPopup.dataBind(),i.quickPopup.refreshPosition(null,!0);var h=(0,tT.vF)(i.quickPopup.element,i.parent.element);if(h.indexOf(i.parent.enableRtl?"left":"right")>-1&&(i.quickPopup.offsetX=-e.offsetWidth-10-i.quickPopup.element.offsetWidth,o&&!i.parent.enableRtl&&(i.quickPopup.offsetX=tr.Q9(l)+i.quickPopup.offsetX),i.quickPopup.dataBind(),i.quickPopup.refreshPosition(null,!0),(0,tT.vF)(i.quickPopup.element,i.parent.element).indexOf("left")>-1&&(i.quickPopup.position={X:"center",Y:"center"},i.quickPopup.collision={X:"fit",Y:"fit"},i.quickPopup.offsetX=-(i.quickPopup.element.offsetWidth/2),i.quickPopup.dataBind())),i.parent.virtualScrollModule&&!i.parent.virtualScrollModule.isHorizontalScroll&&(h.indexOf("top")>-1||h.indexOf("bottom")>-1)){var p=tr.R3(l);i.quickPopup.offsetY=p,i.quickPopup.dataBind(),i.quickPopup.refreshPosition(null,!0)}if("center"===i.quickPopup.position.X&&"center"===i.quickPopup.position.Y&&!(0,A.le)(t)&&t.clientX&&t.clientY){var c=t.clientX,u=t.clientY,d=e.getBoundingClientRect(),m=t.offsetY||Math.ceil(u-d.y),v=i.quickPopup.offsetY,g=(0,tT.vF)(i.quickPopup.element,e),f=i.quickPopup.element.getBoundingClientRect(),y=document.elementFromPoint(c,u);(g.indexOf("top")>-1||g.indexOf("bottom")>-1||(0,A.oq)(y,"."+ta.T$L))&&(f.top<=u&&u<=f.top+f.height?(i.quickPopup.offsetY=v-f.height-10,i.quickPopup.dataBind(),(g=(0,tT.vF)(i.quickPopup.element,i.parent.element)).indexOf("top")>-1&&(i.quickPopup.offsetY=v+m+10,i.quickPopup.dataBind())):(0,tT.vF)(i.quickPopup.element,i.parent.element).indexOf("bottom")>-1&&(i.quickPopup.offsetY=v-m-Math.ceil(f.height)-10,i.quickPopup.dataBind()))}}n&&i.applyEventColor(),i.quickPopup.element.style.display=s,i.quickPopup.dataBind(),i.quickPopup.show()}})})},e.prototype.applyEventColor=function(){var e="";e="Agenda"===this.parent.currentView||"MonthAgenda"===this.parent.currentView?this.parent.enableRtl?"border-right-color":"border-left-color":"background-color";var t=this.parent.activeEventData.element.style[e];if(""!==t){var i=this.quickPopup.element.querySelector("."+ta.R4G),n=this.quickPopup.element.querySelector("."+ta.qV0);n&&n.offsetParent&&(i=this.quickPopup.element.querySelector("."+ta.jaK))&&(i.style.borderLeftColor=t,t="rgba("+t.match(/\d+/g).join()+",0.3)"),i&&(i.style.backgroundColor=t)}},e.prototype.quickPopupOpen=function(){if(this.parent.isAdaptive){this.quickPopup.element.style.top="0px";return}if(this.quickPopup.element.querySelector("."+ta.jOs)){var e=this.quickPopup.element.querySelector("."+ta.jaK);e&&e.focus()}else{var t=this.quickPopup.element.querySelector("."+ta.$BZ);t&&t.focus();var i=this.quickPopup.element.querySelector("."+ta.Wdr);i&&i.focus()}},e.prototype.quickPopupClose=function(){this.parent.eventBase.focusElement(),this.quickPopup.relateTo="."+ta.bqQ,this.fieldValidator.destroyToolTip(),this.quickPopup.element.querySelectorAll(".e-formvalidator").length&&this.fieldValidator.destroy(),this.destroyPopupButtons("quickPopup"),tr.ep(this.quickPopup.element)},e.prototype.morePopupOpen=function(){if(this.parent.isAdaptive){this.morePopup.element.style.top="0px",this.morePopup.element.style.left="0px",this.morePopup.element.style.height=(0,A.Ac)(window.innerHeight);return}this.morePopup.element.querySelector("."+ta._63).focus(),this.morePopup.refreshPosition()},e.prototype.morePopupClose=function(){var e=this.parent.element.querySelector("."+ta.CBs);e&&(0,A.Od)(e)},e.prototype.popupClose=function(e){this.dialogEvent=e,this.isCrudAction=!1,this.quickPopupHide(!0)},e.prototype.quickPopupHide=function(e){var t,i=this;if(this.quickPopup.element.classList.contains(ta.HRK)){var n=this.quickPopup.element.querySelector("."+ta.jOs);if(n){var r=this.quickPopup.element.querySelector(".e-formvalidator");if(this.isCrudAction&&r&&!r.ej2_instances[0].validate())return;var a=this.parent.eventFields,s=this.parent.eventWindow.getObjectFromFormData(ta.T$L);this.parent.eventWindow.setDefaultValueToObject(s),s[a.id]=this.parent.eventBase.getEventMaxID(),s[a.startTime]=this.parent.activeCellsData.startTime,s[a.endTime]=this.parent.activeCellsData.endTime,s[a.isAllDay]=this.parent.activeCellsData.isAllDay,this.parent.resourceBase&&this.parent.resourceBase.setResourceValues(s),t=s}else t=this.parent.activeEventData.event;var o=this.quickPopup.element.querySelector("."+ta.SYL),l={event:this.dialogEvent,type:this.parent.isAdaptive?o?"ViewEventInfo":"EditEventInfo":"QuickInfo",cancel:!1,data:t,element:this.quickPopup.element,target:n?this.parent.activeCellsData.element:this.parent.activeEventData.element};this.parent.trigger(tn.u_,l,function(t){if(!t.cancel&&i.quickPopup.element.classList.contains("e-popup-open")){if(n&&i.isCrudAction&&(i.parent.currentAction="Add",i.parent.crudModule.addEvent(t.data)),e){var r=i.quickPopup.hideAnimation;i.quickPopup.hideAnimation=null,i.quickPopup.hide(),i.quickPopup.hideAnimation=r}else i.quickPopup.hide();i.isMultipleEventSelect=!1,i.isCrudAction=!1}})}},e.prototype.navigationClick=function(e){var t=(0,A.oq)(e.target,"."+ta.DaF);if(!(0,A.le)(t)){var i=this.parent.getDateFromElement(e.currentTarget);(0,A.le)(i)||(this.closeClick(e),this.parent.setProperties({selectedDate:i},!0),this.parent.changeView(this.parent.getNavigateView(),e))}},e.prototype.documentClick=function(e){var t=e.event.target,i="."+ta.T$L+",."+ta.Tb6+",."+ta.nqV+",."+ta.bqQ+",."+ta.MQu+",.e-popup",n=this.parent.element.querySelector("."+ta.T$L);(n&&n.childElementCount>0&&!(0,A.oq)(t,i)||!(0,A.oq)(t,i))&&(this.quickPopupHide(),this.parent.removeNewEventElement());var r=this.parent.element.querySelector("."+ta.eS7);r&&r!==t&&this.parent.allowInline&&this.parent.inlineModule.documentClick(),(0,A.oq)(t,"."+ta.MQu+",."+ta.Tb6)&&this.parent.removeNewEventElement(),(0,A.oq)(t,"."+ta.asM)||!t.classList||t.classList.contains(ta.Fk6)||(0,A.oq)(t,"."+ta.HRK)||(0,A.oq)(t,"."+ta.bqQ)||this.morePopup.hide()},e.prototype.onClosePopup=function(e){(0,A.le)(e)||(this.dialogEvent=e),this.quickPopupHide(),((0,A.le)(e)||!(0,A.le)(e)&&"escape"!==e.action||this.parent.inlineModule&&this.parent.element.querySelector("."+ta.EAj))&&this.parent.eventBase.focusElement()},e.prototype.addEventListener=function(){this.parent.on(tn.kj,this.cellClick,this),this.parent.on(tn.ML,this.eventClick,this),this.parent.on(tn.ZT,this.documentClick,this),this.parent.on(tn.mH,this.updateMoreEventContent,this)},e.prototype.removeEventListener=function(){this.parent.off(tn.kj,this.cellClick),this.parent.off(tn.ML,this.eventClick),this.parent.off(tn.ZT,this.documentClick),this.parent.off(tn.mH,this.updateMoreEventContent)},e.prototype.destroyPopupButtons=function(e){for(var t="quickPopup"===e?this.quickPopup:this.morePopup,i=[].slice.call(t.element.querySelectorAll(".e-control.e-btn")),n=0;n<i.length;n++){var r=i[n].ej2_instances[0];r&&r.destroy()}},e.prototype.refreshQuickDialog=function(){this.destroyQuickDialog(),this.renderQuickDialog()},e.prototype.refreshQuickPopup=function(){this.destroyQuickPopup(),this.renderQuickPopup()},e.prototype.refreshMorePopup=function(){this.destroyMorePopup(),this.renderMorePopup()},e.prototype.destroyQuickDialog=function(){this.quickDialog.element&&(this.quickDialog.destroy(),(0,A.Od)(this.quickDialog.element),this.quickDialog=null)},e.prototype.destroyQuickPopup=function(){this.quickPopup.element&&(this.destroyPopupButtons("quickPopup"),this.quickPopup.destroy(),(0,A.Od)(this.quickPopup.element),this.quickPopup=null)},e.prototype.destroyMorePopup=function(){this.morePopup.element&&(this.destroyPopupButtons("morePopup"),this.morePopup.destroy(),(0,A.Od)(this.morePopup.element),this.morePopup=null)},e.prototype.destroy=function(){this.quickPopup.element.querySelectorAll(".e-formvalidator").length&&this.fieldValidator.destroy(),this.removeEventListener(),this.destroyQuickPopup(),this.destroyMorePopup(),this.destroyQuickDialog(),this.dialogEvent=null,this.parent=null,this.l10n=null,this.isCrudAction=null,this.fieldValidator=null,this.isMultipleEventSelect=null},e}(),tE=i(52385),tk=function(){function e(e){this.parent=e,this.tooltipObj=new tE.u({animation:{close:{effect:"FadeOut"}},content:"No title",position:"BottomRight",offsetY:10,mouseTrail:!this.parent.isAdaptive,showTipPointer:!1,cssClass:this.parent.cssClass+" "+ta.TxM,target:this.getTargets(),beforeRender:this.onBeforeRender.bind(this),beforeClose:this.onTooltipClose.bind(this),enableRtl:this.parent.enableRtl,enableHtmlSanitizer:this.parent.enableHtmlSanitizer}),this.tooltipObj.appendTo(this.parent.element)}return e.prototype.getTargets=function(){var e=[];return this.parent.activeViewOptions.group.headerTooltipTemplate&&e.push("."+ta.tlV),this.parent.eventSettings.enableTooltip&&e.push("."+ta.MQu),e.join(",")},e.prototype.onBeforeRender=function(e){if((0,A.le)(e.target.getAttribute("data-tooltip-id"))){if(e.target.classList.contains(ta.tlV)&&this.parent.activeViewOptions.group.resources.length>0){var t=void 0;if(this.parent.activeView.isTimelineView()){var i=parseInt(e.target.getAttribute("data-group-index"),10);t=this.parent.resourceBase.lastResourceLevel[parseInt(i.toString(),10)]}else{var n=e.target.parentNode.sectionRowIndex,r=e.target.cellIndex;t=this.parent.activeView.getColumnLevels()[parseInt(n.toString(),10)][parseInt(r.toString(),10)]}var a={resource:t.resource,resourceData:t.resourceData},s=(0,A.az)("div"),o=this.parent.element.id+"_headerTooltipTemplate",l=[].slice.call(this.parent.getHeaderTooltipTemplate()(a,this.parent,"headerTooltipTemplate",o,!1));(0,A.R3)(l,s),this.setContent(s),this.parent.renderTemplates();return}var h=this.parent.eventBase.getEventByGuid(e.target.getAttribute("data-guid"));if(!(0,A.le)(h)){if((0,A.le)(this.parent.eventSettings.tooltipTemplate)){var p=this.parent.globalize,c=this.parent.eventFields,u=new Date(""+h[c.startTime]),d=new Date(""+h[c.endTime]);d=0===d.getHours()&&0===d.getMinutes()?new Date(d.setMilliseconds(-1e3)):d;var m=tr.zS(new Date(""+u)),v=tr.zS(new Date(""+d)),g=h[c.subject]||this.parent.eventSettings.fields.subject.default||this.parent.localeObj.getConstant("addTitle"),f=(0,A.le)(h[c.location])?"":h[c.location],y="",b="",T="";y=p.formatDate(u,{type:"date",skeleton:"MMMd",calendar:this.parent.getCalendarMode()}),b=p.formatDate(u,{type:"date",skeleton:"medium",calendar:this.parent.getCalendarMode()}),T=p.formatDate(d,{type:"date",skeleton:"medium",calendar:this.parent.getCalendarMode()}),y=tr.hz(y,"single"),b=tr.hz(b,"single"),T=tr.hz(T,"single");var D=this.parent.getTimeString(u),w=this.parent.getTimeString(d),C=void 0;m.getTime()===v.getTime()?(C=p.formatDate(u,{type:"date",skeleton:"long",calendar:this.parent.getCalendarMode()}),C=tr.hz(C,"single")):C=m.getFullYear()===v.getFullYear()?y+" - "+T:b+" - "+T;var S='<div><div class="e-subject">'+g+'</div><div class="e-location">'+f+'</div><div class="e-details">'+C+'</div><div class="e-all-day">'+(h[c.isAllDay]?this.parent.localeObj.getConstant("allDay"):D+" - "+w)+"</div></div>";this.setContent((0,A.rN)(function(){return S}))}else{var s=(0,A.az)("div"),o=this.parent.element.id+"_tooltipTemplate",l=[].slice.call(this.parent.getEventTooltipTemplate()(h,this.parent,"tooltipTemplate",o,!1));(0,A.R3)(l,s),this.setContent(s)}this.parent.renderTemplates()}}},e.prototype.onTooltipClose=function(e){e.element&&((0,A.IV)([e.element],ta.HRK),(0,A.cn)([e.element],ta.AVC)),this.parent.resetTemplates(["tooltipTemplate","headerTooltipTemplate"])},e.prototype.setContent=function(e){this.tooltipObj.setProperties({content:e},!0)},e.prototype.close=function(){this.tooltipObj.close()},e.prototype.destroy=function(){this.tooltipObj.destroy(),(0,A.cn)([this.parent.element],"e-control"),this.tooltipObj=null,this.parent=null},e}(),tA=i(21231),tV=(l=function(e,t){return(l=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),tM=function(e,t,i,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},tx="e-check",tI="e-checkbox-disabled",tO="e-frame",tR="e-stop",tP="e-label",tH="e-ripple-container",tL="e-ripple-check",tq="e-ripple-stop",tF="e-rtl",tW="e-checkbox-wrapper",tz=["title","class","style","disabled","readonly","name","value"],tB=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.isFocused=!1,n.isMouseClick=!1,n.clickTriggered=!1,n.validCheck=!0,n}return tV(t,e),t.prototype.changeState=function(e,t){var i,n=this.getWrapper().getElementsByClassName(tO)[0];(A.re&&(i=this.getWrapper().getElementsByClassName(tH)[0]),"check"===e)?(n.classList.remove(tR),n.classList.add(tx),i&&(i.classList.remove(tq),i.classList.add(tL)),this.element.checked=!0,(this.element.required||(0,A.oq)(this.element,"form")&&(0,A.oq)(this.element,"form").classList.contains("e-formvalidator"))&&this.validCheck&&!t?(this.element.checked=!1,this.validCheck=!1):(this.element.required||(0,A.oq)(this.element,"form")&&(0,A.oq)(this.element,"form").classList.contains("e-formvalidator"))&&(this.validCheck=!0)):"uncheck"===e?((0,A.IV)([n],[tx,tR]),i&&(0,A.IV)([i],[tL,tq]),this.element.checked=!1,(this.element.required||(0,A.oq)(this.element,"form")&&(0,A.oq)(this.element,"form").classList.contains("e-formvalidator"))&&this.validCheck&&!t?(this.element.checked=!0,this.validCheck=!1):(this.element.required||(0,A.oq)(this.element,"form")&&(0,A.oq)(this.element,"form").classList.contains("e-formvalidator"))&&(this.validCheck=!0)):(n.classList.remove(tx),n.classList.add(tR),i&&(i.classList.remove(tL),i.classList.add(tq)),this.element.indeterminate=!0,this.indeterminate=!0)},t.prototype.clickHandler=function(e){if("INPUT"===e.target.tagName&&this.clickTriggered){this.isVue&&this.changeState(this.checked?"check":"uncheck"),this.clickTriggered=!1;return}("SPAN"===e.target.tagName||"LABEL"===e.target.tagName)&&(this.clickTriggered=!0),this.isMouseClick&&(this.focusOutHandler(),this.isMouseClick=!1),this.indeterminate?(this.changeState(this.checked?"check":"uncheck"),this.indeterminate=!1,this.element.indeterminate=!1):this.checked?(this.changeState("uncheck"),this.checked=!1):(this.changeState("check"),this.checked=!0);var t={checked:this.updateVueArrayModel(!1),event:e};this.trigger("change",t),e.stopPropagation()},t.prototype.destroy=function(){var t=this,i=this.getWrapper();e.prototype.destroy.call(this),this.wrapper&&(i=this.wrapper,this.disabled||this.unWireEvents(),"INPUT"===this.tagName?(this.getWrapper()&&i.parentNode&&i.parentNode.insertBefore(this.element,i),(0,A.og)(i),this.element.checked=!1,this.indeterminate&&(this.element.indeterminate=!1),["name","value","disabled"].forEach(function(e){t.element.removeAttribute(e)})):(["class"].forEach(function(e){i.removeAttribute(e)}),i.innerHTML=""))},t.prototype.focusHandler=function(){this.isFocused=!0},t.prototype.focusOutHandler=function(){var e=this.getWrapper();e&&e.classList.remove("e-focus"),this.isFocused=!1},t.prototype.getModuleName=function(){return"checkbox"},t.prototype.getPersistData=function(){return this.addOnPersist(["checked","indeterminate"])},t.prototype.getWrapper=function(){return this.element&&this.element.parentElement?this.element.parentElement.parentElement:null},t.prototype.initialize=function(){(0,A.le)(this.initialCheckedValue)&&(this.initialCheckedValue=this.checked),this.name&&this.element.setAttribute("name",this.name),this.value&&(this.element.setAttribute("value",this.value),this.isVue&&"boolean"==typeof this.value&&!0===this.value&&this.setProperties({checked:!0},!0)),this.checked&&this.changeState("check",!0),this.indeterminate&&this.changeState(),this.disabled&&this.setDisabled()},t.prototype.initWrapper=function(){var e=this.element.parentElement;e.classList.contains(tW)||(e=this.createElement("div",{className:tW}),this.element.parentNode.insertBefore(e,this.element));var t=this.createElement("label",{attrs:{for:this.element.id}}),i=this.createElement("span",{className:"e-icons "+tO});if(e.classList.add("e-wrapper"),this.enableRtl&&e.classList.add(tF),this.cssClass&&(0,A.cn)([e],this.cssClass.replace(/\s+/g," ").trim().split(" ")),e.appendChild(t),t.appendChild(this.element),(0,tA.Z5)(this,t),t.appendChild(i),A.re){var n=this.createElement("span",{className:tH});"Before"===this.labelPosition?t.appendChild(n):t.insertBefore(n,i),(0,A.qx)(n,{duration:400,isCenterRipple:!0})}this.label&&this.setText(this.label)},t.prototype.keyUpHandler=function(){this.isFocused&&this.getWrapper().classList.add("e-focus")},t.prototype.labelMouseDownHandler=function(e){this.isMouseClick=!0;var t=this.getWrapper().getElementsByClassName(tH)[0];(0,tA.sg)(e,t)},t.prototype.labelMouseUpHandler=function(e){this.isMouseClick=!0;var t=this.getWrapper().getElementsByClassName(tH)[0];if(t){for(var i=t.querySelectorAll(".e-ripple-element"),n=0;n<i.length-1;n++)t.removeChild(t.childNodes[n]);(0,tA.sg)(e,t)}},t.prototype.onPropertyChanged=function(e,t){for(var i=this.getWrapper(),n=0,r=Object.keys(e);n<r.length;n++)switch(r[n]){case"checked":this.indeterminate=!1,this.element.indeterminate=!1,this.changeState(e.checked?"check":"uncheck");break;case"indeterminate":e.indeterminate?this.changeState():(this.element.indeterminate=!1,this.changeState(this.checked?"check":"uncheck"));break;case"disabled":e.disabled?(this.setDisabled(),this.wrapper=this.getWrapper(),this.unWireEvents()):(this.element.disabled=!1,i.classList.remove(tI),i.setAttribute("aria-disabled","false"),this.wireEvents());break;case"cssClass":t.cssClass&&(0,A.IV)([i],t.cssClass.split(" ")),e.cssClass&&(0,A.cn)([i],e.cssClass.replace(/\s+/g," ").trim().split(" "));break;case"enableRtl":e.enableRtl?i.classList.add(tF):i.classList.remove(tF);break;case"label":this.setText(e.label);break;case"labelPosition":var a=i.getElementsByClassName(tP)[0],s=i.getElementsByTagName("label")[0];(0,A.og)(a),"After"===e.labelPosition?s.appendChild(a):s.insertBefore(a,i.getElementsByClassName(tO)[0]);break;case"name":this.element.setAttribute("name",e.name);break;case"value":if(this.isVue&&"object"==typeof e.value)break;this.element.setAttribute("value",e.value);break;case"htmlAttributes":this.updateHtmlAttributeToWrapper()}},t.prototype.preRender=function(){var e=this.element;this.tagName=this.element.tagName,e=(0,tA.Rm)(this.createElement,"EJS-CHECKBOX","checkbox",e,tW,"checkbox"),this.element=e,"checkbox"!==this.element.getAttribute("type")&&this.element.setAttribute("type","checkbox"),this.element.id||(this.element.id=(0,A.QI)("e-"+this.getModuleName()))},t.prototype.render=function(){this.initWrapper(),this.initialize(),this.disabled||this.wireEvents(),this.updateHtmlAttributeToWrapper(),this.updateVueArrayModel(!0),this.renderComplete(),this.wrapper=this.getWrapper()},t.prototype.setDisabled=function(){var e=this.getWrapper();this.element.disabled=!0,e.classList.add(tI),e.setAttribute("aria-disabled","true")},t.prototype.setText=function(e){var t=this.getWrapper();if(t){var i=t.getElementsByClassName(tP)[0];if(i)i.textContent=e;else{e=this.enableHtmlSanitizer?A.pJ.sanitize(e):e,i=this.createElement("span",{className:tP,innerHTML:e});var n=t.getElementsByTagName("label")[0];"Before"===this.labelPosition?n.insertBefore(i,t.getElementsByClassName(tO)[0]):n.appendChild(i)}}},t.prototype.changeHandler=function(e){e.stopPropagation()},t.prototype.formResetHandler=function(){this.checked=this.initialCheckedValue,this.element.checked=this.initialCheckedValue},t.prototype.unWireEvents=function(){var e=this.wrapper;A.bi.remove(e,"click",this.clickHandler),A.bi.remove(this.element,"keyup",this.keyUpHandler),A.bi.remove(this.element,"focus",this.focusHandler),A.bi.remove(this.element,"focusout",this.focusOutHandler);var t=e.getElementsByTagName("label")[0];A.bi.remove(t,"mousedown",this.labelMouseDownHandler),A.bi.remove(t,"mouseup",this.labelMouseUpHandler);var i=(0,A.oq)(this.element,"form");i&&A.bi.remove(i,"reset",this.formResetHandler),"EJS-CHECKBOX"===this.tagName&&A.bi.remove(this.element,"change",this.changeHandler)},t.prototype.wireEvents=function(){var e=this.getWrapper();A.bi.add(e,"click",this.clickHandler,this),A.bi.add(this.element,"keyup",this.keyUpHandler,this),A.bi.add(this.element,"focus",this.focusHandler,this),A.bi.add(this.element,"focusout",this.focusOutHandler,this);var t=e.getElementsByTagName("label")[0];A.bi.add(t,"mousedown",this.labelMouseDownHandler,this),A.bi.add(t,"mouseup",this.labelMouseUpHandler,this);var i=(0,A.oq)(this.element,"form");i&&A.bi.add(i,"reset",this.formResetHandler,this),"EJS-CHECKBOX"===this.tagName&&A.bi.add(this.element,"change",this.changeHandler,this)},t.prototype.updateVueArrayModel=function(e){if(this.isVue&&"object"==typeof this.value){var t=this.element.value;if(t&&this.value){if(e)for(var i=0;i<this.value.length;i++)t===this.value[i]&&(this.changeState("check"),this.setProperties({checked:!0},!0));else{var n=this.value.indexOf(t);return this.checked?n<0&&this.value.push(t):n>-1&&this.value.splice(n,1),this.value}}}return this.validCheck?this.element.checked:!this.element.checked},t.prototype.updateHtmlAttributeToWrapper=function(){if(!(0,A.le)(this.htmlAttributes))for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var i=t[e];if(tz.indexOf(i)>-1){var n=this.getWrapper();"class"===i?(0,A.cn)([n],this.htmlAttributes[""+i].split(" ")):"title"===i?n.setAttribute(i,this.htmlAttributes[""+i]):"style"===i?this.getWrapper().getElementsByClassName(tO)[0].setAttribute(i,this.htmlAttributes[""+i]):("disabled"===i&&"true"===this.htmlAttributes[""+i]&&this.setDisabled(),this.element.setAttribute(i,this.htmlAttributes[""+i]))}}},t.prototype.click=function(){this.element.click()},t.prototype.focusIn=function(){this.element.focus()},tM([(0,A.ju)()],t.prototype,"change",void 0),tM([(0,A.ju)()],t.prototype,"created",void 0),tM([(0,A.Z9)(!1)],t.prototype,"checked",void 0),tM([(0,A.Z9)("")],t.prototype,"cssClass",void 0),tM([(0,A.Z9)(!1)],t.prototype,"disabled",void 0),tM([(0,A.Z9)(!1)],t.prototype,"indeterminate",void 0),tM([(0,A.Z9)("")],t.prototype,"label",void 0),tM([(0,A.Z9)("After")],t.prototype,"labelPosition",void 0),tM([(0,A.Z9)("")],t.prototype,"name",void 0),tM([(0,A.Z9)("")],t.prototype,"value",void 0),tM([(0,A.Z9)(!1)],t.prototype,"enableHtmlSanitizer",void 0),tM([(0,A.Z9)({})],t.prototype,"htmlAttributes",void 0),t=tM([A.Zl],t)}(A.wA),tj=i(23592),tN=i(58433),tU=(h=function(e,t){return(h=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}h(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),tY=function(e,t,i,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},t_="e-datepicker",tZ="e-popup-wrapper",tK="e-input-focus",tG="e-error",tQ="e-active",tX="e-date-overflow",t$="e-selected",tJ="e-non-edit",t0=["title","class","style"],t1=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.isDateIconClicked=!1,n.isAltKeyPressed=!1,n.isInteracted=!0,n.invalidValueString=null,n.checkPreviousValue=null,n.maskedDateValue="",n.isAngular=!1,n.preventChange=!1,n.isIconClicked=!1,n.isDynamicValueChanged=!1,n.moduleName=n.getModuleName(),n.isFocused=!1,n.isBlur=!1,n.isKeyAction=!1,n.datepickerOptions=t,n}return tU(t,e),t.prototype.render=function(){this.initialize(),this.bindEvents(),"Auto"===this.floatLabelType&&tD.I.calculateWidth(this.inputElement,this.inputWrapper.container),(0,A.le)(this.inputWrapper.buttons[0])||(0,A.le)(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])||"Never"===this.floatLabelType||this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon"),!(0,A.le)((0,A.oq)(this.element,"fieldset"))&&(0,A.oq)(this.element,"fieldset").disabled&&(this.enabled=!1),this.renderComplete(),this.setTimeZone(this.serverTimezoneOffset)},t.prototype.setTimeZone=function(e){if(!(0,A.le)(this.serverTimezoneOffset)&&this.value){var t=e+new Date().getTimezoneOffset()/60;t=this.isDayLightSaving()?t--:t,this.value=new Date(this.value.getTime()+36e5*t),this.updateInput()}},t.prototype.isDayLightSaving=function(){var e=new Date(this.value.getFullYear(),0,1).getTimezoneOffset(),t=new Date(this.value.getFullYear(),6,1).getTimezoneOffset();return this.value.getTimezoneOffset()<Math.max(e,t)},t.prototype.setAllowEdit=function(){this.allowEdit?this.readonly||this.inputElement.removeAttribute("readonly"):(0,A.Y4)(this.inputElement,{readonly:""}),this.updateIconState()},t.prototype.updateIconState=function(){this.allowEdit||!this.inputWrapper||this.readonly?this.inputWrapper&&(0,A.IV)([this.inputWrapper.container],[tJ]):""===this.inputElement.value?(0,A.IV)([this.inputWrapper.container],[tJ]):(0,A.cn)([this.inputWrapper.container],[tJ])},t.prototype.initialize=function(){this.checkInvalidValue(this.value),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"}),this.createInput(),this.updateHtmlAttributeToWrapper(),this.setAllowEdit(),!this.enableMask||this.value||!this.maskedDateValue||"Always"!==this.floatLabelType&&this.floatLabelType&&this.placeholder?this.enableMask||this.updateInput(!0):(this.updateInput(!0),this.updateInputValue(this.maskedDateValue)),this.previousElementValue=this.inputElement.value,this.previousDate=(0,A.le)(this.value)?null:new Date(+this.value),this.inputElement.setAttribute("value",this.inputElement.value),this.inputValueCopy=this.value},t.prototype.createInput=function(){if("datepicker"===this.getModuleName()){var e={placeholder:this.placeholder};this.globalize=new A.eC(this.locale),this.l10n=new A.E7("datepicker",e,this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0)}this.fullScreenMode&&A.AR.isDevice&&(this.cssClass+=" e-popup-expand");var t=this.cssClass;(0,A.le)(this.cssClass)||""===this.cssClass||(t=this.cssClass.replace(/\s+/g," ").trim());var i=!this.enableMask;this.inputWrapper=tD.I.createInput({element:this.inputElement,floatLabelType:this.floatLabelType,bindClearAction:i,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:t,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton},buttons:["e-input-group-icon e-date-icon e-icons"]},this.createElement),this.setWidth(this.width),""!==this.inputElement.name?this.inputElement.setAttribute("name",""+this.inputElement.getAttribute("name")):this.inputElement.setAttribute("name",""+this.element.id),(0,A.Y4)(this.inputElement,{"aria-atomic":"true","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-invalid":"false"}),this.enabled?(this.inputElement.setAttribute("aria-disabled","false"),this.inputElement.setAttribute("tabindex",this.tabIndex)):(this.inputElement.setAttribute("aria-disabled","true"),this.inputElement.tabIndex=-1),tD.I.addAttributes({"aria-label":"select"},this.inputWrapper.buttons[0]),(0,A.cn)([this.inputWrapper.container],"e-date-wrapper")},t.prototype.updateInput=function(t,i){if(void 0===t&&(t=!1),void 0===i&&(i=!1),this.value&&!this.isCalendar()&&this.disabledDates(t,i),isNaN(+new Date(this.checkValue(this.value)))&&this.setProperties({value:null},!0),this.strictMode&&(e.prototype.validateDate.call(this),this.minMaxUpdates(),e.prototype.minMaxUpdate.call(this)),!(0,A.le)(this.value)){var n,r=this.value,a=void 0,s=(0,A.le)(this.formatString)?this.dateTimeFormat:this.formatString;if("datetimepicker"===this.getModuleName()?a="Gregorian"===this.calendarMode?this.globalize.formatDate(this.value,{format:s,type:"dateTime",skeleton:"yMd"}):this.globalize.formatDate(this.value,{format:s,type:"dateTime",skeleton:"yMd",calendar:"islamic"}):(n="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"},a=this.globalize.formatDate(this.value,n)),+r<=+this.max&&+r>=+this.min)this.updateInputValue(a);else{var o=+r>=+this.max||!+this.value||!+this.value||+r<=+this.min;!this.strictMode&&o&&this.updateInputValue(a)}}(0,A.le)(this.value)&&this.strictMode&&(this.enableMask?(this.updateInputValue(this.maskedDateValue),this.notify("createMask",{module:"MaskedDateTime"})):this.updateInputValue("")),!this.strictMode&&(0,A.le)(this.value)&&this.invalidValueString&&this.updateInputValue(this.invalidValueString),this.changedArgs={value:this.value},this.errorClass(),this.updateIconState()},t.prototype.minMaxUpdates=function(){!(0,A.le)(this.value)&&this.value<this.min&&this.min<=this.max&&this.strictMode?(this.setProperties({value:this.min},!0),this.changedArgs={value:this.value}):!(0,A.le)(this.value)&&this.value>this.max&&this.min<=this.max&&this.strictMode&&(this.setProperties({value:this.max},!0),this.changedArgs={value:this.value})},t.prototype.checkStringValue=function(e){var t=null,i=null,n=null;if("datetimepicker"===this.getModuleName()){var r=new A.eC(this.locale);"Gregorian"===this.calendarMode?(i={format:this.dateTimeFormat,type:"dateTime",skeleton:"yMd"},n={format:r.getDatePattern({skeleton:"yMd"}),type:"dateTime"}):(i={format:this.dateTimeFormat,type:"dateTime",skeleton:"yMd",calendar:"islamic"},n={format:r.getDatePattern({skeleton:"yMd"}),type:"dateTime",calendar:"islamic"})}else i="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"};return t=this.checkDateValue(this.globalize.parseDate(e,i)),(0,A.le)(t)&&"datetimepicker"===this.getModuleName()&&(t=this.checkDateValue(this.globalize.parseDate(e,n))),t},t.prototype.checkInvalidValue=function(e){if(!(e instanceof Date)&&!(0,A.le)(e)){var t=null,i=e;if("number"==typeof e&&(i=e.toString()),"datetimepicker"===this.getModuleName()){var n=new A.eC(this.locale);this.calendarMode,this.dateTimeFormat,n.getDatePattern({skeleton:"yMd"})}else this.calendarMode,this.formatString;var r=!1;if("string"!=typeof i)i=null,r=!0;else if("string"==typeof i&&(i=i.trim()),!(t=this.checkStringValue(i))){var a=null;a=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,!/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/.test(i)&&!a.test(i)||/^[a-zA-Z0-9- ]*$/.test(i)||isNaN(+new Date(this.checkValue(i)))?r=!0:t=new Date(i)}r?(this.strictMode||(this.invalidValueString=i),this.setProperties({value:null},!0)):this.setProperties({value:t},!0)}},t.prototype.bindInputEvent=function(){(!(0,A.le)(this.formatString)||this.enableMask)&&(this.enableMask||-1===this.formatString.indexOf("y")?A.bi.add(this.inputElement,"input",this.inputHandler,this):A.bi.remove(this.inputElement,"input",this.inputHandler))},t.prototype.bindEvents=function(){A.bi.add(this.inputWrapper.buttons[0],"mousedown touchstart",this.dateIconHandler,this),A.bi.add(this.inputElement,"mouseup",this.mouseUpHandler,this),A.bi.add(this.inputElement,"focus",this.inputFocusHandler,this),A.bi.add(this.inputElement,"blur",this.inputBlurHandler,this),A.bi.add(this.inputElement,"keyup",this.keyupHandler,this),this.enableMask&&A.bi.add(this.inputElement,"keydown",this.keydownHandler,this),this.bindInputEvent(),A.bi.add(this.inputElement,"change",this.inputChangeHandler,this),this.showClearButton&&this.inputWrapper.clearButton&&A.bi.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this),this.formElement&&A.bi.add(this.formElement,"reset",this.resetFormHandler,this),this.defaultKeyConfigs=(0,A.l7)(this.defaultKeyConfigs,this.keyConfigs),this.keyboardModules=new A.nv(this.inputElement,{eventName:"keydown",keyAction:this.inputKeyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs})},t.prototype.keydownHandler=function(e){switch(e.code){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":case"Home":case"End":case"Delete":!this.enableMask||this.popupObj||this.readonly||("Delete"!==e.code&&e.preventDefault(),this.notify("keyDownHandler",{module:"MaskedDateTime",e:e}))}},t.prototype.unBindEvents=function(){(0,A.le)(this.inputWrapper)||A.bi.remove(this.inputWrapper.buttons[0],"mousedown touchstart",this.dateIconHandler),A.bi.remove(this.inputElement,"mouseup",this.mouseUpHandler),A.bi.remove(this.inputElement,"focus",this.inputFocusHandler),A.bi.remove(this.inputElement,"blur",this.inputBlurHandler),A.bi.remove(this.inputElement,"change",this.inputChangeHandler),A.bi.remove(this.inputElement,"keyup",this.keyupHandler),this.enableMask&&A.bi.remove(this.inputElement,"keydown",this.keydownHandler),this.showClearButton&&this.inputWrapper.clearButton&&A.bi.remove(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler),this.formElement&&A.bi.remove(this.formElement,"reset",this.resetFormHandler)},t.prototype.resetFormHandler=function(){if(this.enabled&&!this.inputElement.disabled){var e=this.inputElement.getAttribute("value");("EJS-DATEPICKER"===this.element.tagName||"EJS-DATETIMEPICKER"===this.element.tagName)&&(e="",this.inputValueCopy=null,this.inputElement.setAttribute("value","")),this.setProperties({value:this.inputValueCopy},!0),this.restoreValue(),this.inputElement&&(this.updateInputValue(e),this.errorClass())}},t.prototype.restoreValue=function(){this.currentDate=this.value?this.value:new Date,this.previousDate=this.value,this.previousElementValue=(0,A.le)(this.inputValueCopy)?"":this.globalize.formatDate(this.inputValueCopy,{format:this.formatString,type:"dateTime",skeleton:"yMd"})},t.prototype.inputChangeHandler=function(e){this.enabled&&e.stopPropagation()},t.prototype.bindClearEvent=function(){this.showClearButton&&this.inputWrapper.clearButton&&A.bi.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this)},t.prototype.resetHandler=function(e){this.enabled&&(e.preventDefault(),this.clear(e))},t.prototype.mouseUpHandler=function(e){this.enableMask&&(e.preventDefault(),this.notify("setMaskSelection",{module:"MaskedDateTime"}))},t.prototype.clear=function(e){if(this.setProperties({value:null},!0),this.enableMask||this.updateInputValue(""),this.trigger("cleared",{event:e}),this.invalidValueString="",this.updateInput(),this.popupUpdate(),this.changeEvent(e),this.enableMask&&this.notify("clearHandler",{module:"MaskedDateTime"}),(0,A.oq)(this.element,"form")){var t=this.element,i=document.createEvent("KeyboardEvent");i.initEvent("keyup",!1,!0),t.dispatchEvent(i)}},t.prototype.preventEventBubbling=function(e){e.preventDefault(),this.interopAdaptor.invokeMethodAsync("OnDateIconClick")},t.prototype.updateInputValue=function(e){tD.I.setValue(e,this.inputElement,this.floatLabelType,this.showClearButton)},t.prototype.dateIconHandler=function(e){this.enabled&&(this.isIconClicked=!0,A.AR.isDevice&&(this.inputElement.setAttribute("readonly",""),this.inputElement.blur()),e.preventDefault(),this.readonly||(this.isCalendar()?this.hide(e):(this.isDateIconClicked=!0,this.show(null,e),"datetimepicker"===this.getModuleName()&&this.inputElement.focus(),this.inputElement.focus(),(0,A.cn)([this.inputWrapper.container],[tK]),(0,A.cn)(this.inputWrapper.buttons,tQ))),this.isIconClicked=!1)},t.prototype.updateHtmlAttributeToWrapper=function(){if(!(0,A.le)(this.htmlAttributes))for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var i=t[e];if(!(0,A.le)(this.htmlAttributes[""+i])&&t0.indexOf(i)>-1){if("class"===i){var n=this.htmlAttributes[""+i].replace(/\s+/g," ").trim();""!==n&&(0,A.cn)([this.inputWrapper.container],n.split(" "))}else if("style"===i){var r=this.inputWrapper.container.getAttribute(i);(0,A.le)(r)?r=this.htmlAttributes[""+i]:";"===r.charAt(r.length-1)?r+=this.htmlAttributes[""+i]:r=r+";"+this.htmlAttributes[""+i],this.inputWrapper.container.setAttribute(i,r)}else this.inputWrapper.container.setAttribute(i,this.htmlAttributes[""+i])}}},t.prototype.updateHtmlAttributeToElement=function(){if(!(0,A.le)(this.htmlAttributes))for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var i=t[e];0>t0.indexOf(i)&&this.inputElement.setAttribute(i,this.htmlAttributes[""+i])}},t.prototype.updateCssClass=function(e,t){(0,A.le)(t)||(t=t.replace(/\s+/g," ").trim()),(0,A.le)(e)||(e=e.replace(/\s+/g," ").trim()),tD.I.setCssClass(e,[this.inputWrapper.container],t),this.popupWrapper&&tD.I.setCssClass(e,[this.popupWrapper],t)},t.prototype.calendarKeyActionHandle=function(e){switch(e.action){case"escape":this.isCalendar()?this.hide(e):this.inputWrapper.container.children[this.index].blur();break;case"enter":this.isCalendar()?+this.value==+this.currentDate||this.isCalendar()||this.inputWrapper.container.children[this.index].focus():this.show(null,e),"datetimepicker"===this.getModuleName()&&this.inputElement.focus();break;case"tab":this.hide(e)}},t.prototype.inputFocusHandler=function(){this.isFocused=!0,this.enabled&&(this.enableMask&&!this.inputElement.value&&this.placeholder&&this.maskedDateValue&&!this.value&&("Auto"===this.floatLabelType||"Never"===this.floatLabelType||this.placeholder)&&(this.updateInputValue(this.maskedDateValue),this.inputElement.selectionStart=0,this.inputElement.selectionEnd=this.inputElement.value.length),this.isDateIconClicked=!1,this.trigger("focus",{model:this}),this.updateIconState(),this.openOnFocus&&!this.isIconClicked&&this.show())},t.prototype.inputHandler=function(){this.isPopupClicked=!1,this.enableMask&&this.notify("inputHandler",{module:"MaskedDateTime"})},t.prototype.inputBlurHandler=function(e){this.enabled&&(this.strictModeUpdate(),""===this.inputElement.value&&(0,A.le)(this.value)&&(this.invalidValueString=null,this.updateInputValue("")),this.isBlur=!0,this.updateInput(!1,!0),this.isBlur=!1,this.popupUpdate(),this.changeTrigger(e),this.enableMask&&this.maskedDateValue&&this.placeholder&&"Always"!==this.floatLabelType&&this.inputElement.value===this.maskedDateValue&&!this.value&&("Auto"===this.floatLabelType||"Never"===this.floatLabelType||this.placeholder)&&this.updateInputValue(""),this.errorClass(),this.isCalendar()&&document.activeElement===this.inputElement&&this.hide(e),"datepicker"===this.getModuleName()&&this.trigger("blur",{model:this}),this.isCalendar()&&(this.defaultKeyConfigs=(0,A.l7)(this.defaultKeyConfigs,this.keyConfigs),this.calendarKeyboardModules=new A.nv(this.calendarElement.children[1].firstElementChild,{eventName:"keydown",keyAction:this.calendarKeyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs})),this.isPopupClicked=!1)},t.prototype.documentHandler=function(t){!(0,A.le)(this.popupObj)&&!(0,A.le)(this.inputWrapper)&&(this.inputWrapper.container.contains(t.target)&&"mousedown"!==t.type||this.popupObj.element&&this.popupObj.element.contains(t.target))&&"touchstart"!==t.type&&t.preventDefault();var i=t.target;(0,A.oq)(i,".e-datepicker.e-popup-wrapper")||(0,A.le)(this.inputWrapper)||(0,A.oq)(i,".e-input-group")===this.inputWrapper.container||i.classList.contains("e-day")?(0,A.oq)(i,".e-datepicker.e-popup-wrapper")&&(i.classList.contains("e-day")&&!(0,A.le)(t.target.parentElement)&&t.target.parentElement.classList.contains("e-selected")&&(0,A.oq)(i,".e-content")&&(0,A.oq)(i,".e-content").classList.contains("e-"+this.depth.toLowerCase())?this.hide(t):(0,A.oq)(i,".e-footer-container")&&i.classList.contains("e-today")&&i.classList.contains("e-btn")&&+new Date(+this.value)==+e.prototype.generateTodayVal.call(this,this.value)&&this.hide(t)):(this.hide(t),this.focusOut())},t.prototype.inputKeyActionHandle=function(e){var t=this.currentView();switch(e.action){case"altUpArrow":this.isAltKeyPressed=!1,this.hide(e),this.inputElement.focus();break;case"altDownArrow":this.isAltKeyPressed=!0,this.strictModeUpdate(),this.updateInput(),this.changeTrigger(e),"datepicker"===this.getModuleName()&&this.show(null,e);break;case"escape":this.hide(e);break;case"enter":this.strictModeUpdate(),this.updateInput(),this.popupUpdate(),this.changeTrigger(e),this.errorClass(),this.isCalendar()||document.activeElement!==this.inputElement||this.hide(e),this.isCalendar()&&(e.preventDefault(),e.stopPropagation());break;case"tab":case"shiftTab":var i=this.inputElement.selectionStart,n=this.inputElement.selectionEnd;if(this.enableMask&&!this.popupObj&&!this.readonly){var r=this.inputElement.value.length;(0===i&&n===r||n!==r&&"tab"===e.action||0!==i&&"shiftTab"===e.action)&&e.preventDefault(),this.notify("keyDownHandler",{module:"MaskedDateTime",e:e}),i=this.inputElement.selectionStart,n=this.inputElement.selectionEnd}this.strictModeUpdate(),this.updateInput(),this.popupUpdate(),this.changeTrigger(e),this.errorClass(),this.enableMask&&(this.inputElement.selectionStart=i,this.inputElement.selectionEnd=n),this.hide(e);break;default:this.defaultAction(e),"select"===e.action&&t===this.depth&&this.hide(e)}},t.prototype.defaultAction=function(t){this.previousDate=!(0,A.le)(this.value)&&new Date(+this.value)||null,this.isCalendar()&&(e.prototype.keyActionHandle.call(this,t),this.isCalendar()&&(0,A.Y4)(this.inputElement,{"aria-activedescendant":""+this.setActiveDescendant()}))},t.prototype.popupUpdate=function(){if(((0,A.le)(this.value)&&!(0,A.le)(this.previousDate)||+this.value!=+this.previousDate)&&(this.popupObj&&this.popupObj.element.querySelectorAll("."+t$).length>0&&(0,A.IV)(this.popupObj.element.querySelectorAll("."+t$),[t$]),!(0,A.le)(this.value)&&+this.value>=+this.min&&+this.value<=+this.max)){var t=new Date(this.checkValue(this.value));e.prototype.navigateTo.call(this,"Month",t)}},t.prototype.strictModeUpdate=function(){var e,t,i,n;"datetimepicker"===this.getModuleName()?e=(0,A.le)(this.formatString)?this.dateTimeFormat:this.formatString:(!/^y/.test(this.formatString)||/[^a-zA-Z]/.test(this.formatString))&&(e=(0,A.le)(this.formatString)?this.formatString:this.formatString.replace("dd","d")),(0,A.le)(e)?e=this.formatString:e.split("M").length-1<3&&(e=e.replace("MM","M")),i="datetimepicker"===this.getModuleName()?"Gregorian"===this.calendarMode?{format:(0,A.le)(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:(0,A.le)(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}:t="Gregorian"===this.calendarMode?{format:e,type:"dateTime",skeleton:"yMd"}:{format:e,type:"dateTime",skeleton:"yMd",calendar:"islamic"},"string"==typeof this.inputElement.value&&(this.inputElement.value=this.inputElement.value.trim()),"datetimepicker"===this.getModuleName()?this.checkDateValue(this.globalize.parseDate(this.inputElement.value,i))?n=this.globalize.parseDate(this.inputElement.value.toLocaleUpperCase(),i):(t="Gregorian"===this.calendarMode?{type:"dateTime",skeleton:"yMd"}:{type:"dateTime",skeleton:"yMd",calendar:"islamic"},n=this.globalize.parseDate(this.inputElement.value,t)):(n=this.globalize.parseDate(this.inputElement.value,i),n=!(0,A.le)(n)&&isNaN(+n)?null:n,!(0,A.le)(this.formatString)&&""!==this.inputElement.value&&this.strictMode&&(this.isPopupClicked||!this.isPopupClicked&&this.inputElement.value===this.previousElementValue)&&-1===this.formatString.indexOf("y")&&n.setFullYear(this.value.getFullYear())),"datepicker"===this.getModuleName()&&this.value&&!isNaN(+this.value)&&n&&n.setHours(this.value.getHours(),this.value.getMinutes(),this.value.getSeconds(),this.value.getMilliseconds()),this.strictMode&&n?(this.updateInputValue(this.globalize.formatDate(n,i)),this.inputElement.value!==this.previousElementValue&&this.setProperties({value:n},!0)):this.strictMode||this.inputElement.value===this.previousElementValue||this.setProperties({value:n},!0),this.strictMode&&!n&&this.inputElement.value===(this.enableMask?this.maskedDateValue:"")&&this.setProperties({value:null},!0),isNaN(+this.value)&&this.setProperties({value:null},!0),(0,A.le)(this.value)&&(this.currentDate=new Date(new Date().setHours(0,0,0,0)))},t.prototype.createCalendar=function(){var e=this;this.popupWrapper=this.createElement("div",{className:""+t_+" "+tZ}),(0,A.le)(this.cssClass)||(this.popupWrapper.className+=" "+this.cssClass),A.AR.isDevice&&(this.modelHeader(),this.modal=this.createElement("div"),this.modal.className=""+t_+" e-date-modal",document.body.className+=" "+tX,this.modal.style.display="block",document.body.appendChild(this.modal)),this.calendarElement.querySelector("table tbody").className="",this.popupObj=new M.GI(this.popupWrapper,{content:this.calendarElement,relateTo:A.AR.isDevice?document.body:this.inputWrapper.container,position:A.AR.isDevice?{X:"center",Y:"center"}:this.enableRtl?{X:"right",Y:"bottom"}:{X:"left",Y:"bottom"},offsetY:4,targetType:"container",enableRtl:this.enableRtl,zIndex:this.zIndex,collision:A.AR.isDevice?{X:"fit",Y:"fit"}:{X:"flip",Y:"flip"},open:function(){A.AR.isDevice&&e.fullScreenMode&&(e.iconRight=parseInt(window.getComputedStyle(e.calendarElement.querySelector(".e-header.e-month .e-prev")).marginRight,10)>16,e.touchModule=new A.Xh(e.calendarElement.querySelector(".e-content.e-month"),{swipe:e.CalendarSwipeHandler.bind(e)}),A.bi.add(e.calendarElement.querySelector(".e-content.e-month"),"touchstart",e.TouchStartHandler,e)),"datetimepicker"!==e.getModuleName()&&document.activeElement!==e.inputElement&&(e.defaultKeyConfigs=(0,A.l7)(e.defaultKeyConfigs,e.keyConfigs),e.calendarElement.children[1].firstElementChild.focus(),e.calendarKeyboardModules=new A.nv(e.calendarElement.children[1].firstElementChild,{eventName:"keydown",keyAction:e.calendarKeyActionHandle.bind(e),keyConfigs:e.defaultKeyConfigs}),e.calendarKeyboardModules=new A.nv(e.inputWrapper.container.children[e.index],{eventName:"keydown",keyAction:e.calendarKeyActionHandle.bind(e),keyConfigs:e.defaultKeyConfigs}))},close:function(){e.isDateIconClicked&&e.inputWrapper.container.children[e.index].focus(),e.value&&e.disabledDates(),e.popupObj&&e.popupObj.destroy(),e.resetCalendar(),(0,A.og)(e.popupWrapper),e.popupObj=e.popupWrapper=null,e.preventArgs=null,e.calendarKeyboardModules=null,e.setAriaAttributes()},targetExitViewport:function(){A.AR.isDevice||e.hide()}}),this.popupObj.element.className+=" "+this.cssClass,this.setAriaAttributes()},t.prototype.CalendarSwipeHandler=function(e){var t=0;if(this.iconRight)switch(e.swipeDirection){case"Left":t=1;break;case"Right":t=-1}else switch(e.swipeDirection){case"Up":t=1;break;case"Down":t=-1}this.touchStart&&(1===t?this.navigateNext(e):-1===t&&this.navigatePrevious(e),this.touchStart=!1)},t.prototype.TouchStartHandler=function(e){this.touchStart=!0},t.prototype.setAriaDisabled=function(){this.enabled?(this.inputElement.setAttribute("aria-disabled","false"),this.inputElement.setAttribute("tabindex",this.tabIndex)):(this.inputElement.setAttribute("aria-disabled","true"),this.inputElement.tabIndex=-1)},t.prototype.modelHeader=function(){var e,t=this.createElement("div",{className:"e-model-header"}),i=this.createElement("h1",{className:"e-model-year"}),n=this.createElement("div"),r=this.createElement("span",{className:"e-model-day"}),a=this.createElement("span",{className:"e-model-month"});if(e="Gregorian"===this.calendarMode?{format:"y",skeleton:"dateTime"}:{format:"y",skeleton:"dateTime",calendar:"islamic"},i.textContent=""+this.globalize.formatDate(this.value||new Date,e),e="Gregorian"===this.calendarMode?{format:"E",skeleton:"dateTime"}:{format:"E",skeleton:"dateTime",calendar:"islamic"},r.textContent=""+this.globalize.formatDate(this.value||new Date,e)+", ",e="Gregorian"===this.calendarMode?{format:"MMM d",skeleton:"dateTime"}:{format:"MMM d",skeleton:"dateTime",calendar:"islamic"},a.textContent=""+this.globalize.formatDate(this.value||new Date,e),this.fullScreenMode){var s=this.createElement("span",{className:"e-popup-close"});A.bi.add(s,"mousedown touchstart",this.modelCloseHandler,this);var o=this.calendarElement.querySelector("button.e-today");n.classList.add("e-day-wrapper"),o.classList.add("e-outline"),t.appendChild(s),t.appendChild(o)}this.fullScreenMode||t.appendChild(i),n.appendChild(r),n.appendChild(a),t.appendChild(n),this.calendarElement.insertBefore(t,this.calendarElement.firstElementChild)},t.prototype.modelCloseHandler=function(e){this.hide()},t.prototype.changeTrigger=function(e){this.inputElement.value!==this.previousElementValue&&(this.previousDate&&this.previousDate.valueOf())!==(this.value&&this.value.valueOf())&&(this.isDynamicValueChanged&&this.isCalendar()&&this.popupUpdate(),this.changedArgs.value=this.value,this.changedArgs.event=e||null,this.changedArgs.element=this.element,this.changedArgs.isInteracted=!(0,A.le)(e),this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",this.changedArgs),this.previousElementValue=this.inputElement.value,this.previousDate=isNaN(+new Date(this.checkValue(this.value)))?null:new Date(this.checkValue(this.value)),this.isInteracted=!0),this.isKeyAction=!1},t.prototype.navigatedEvent=function(){this.trigger("navigated",this.navigatedArgs)},t.prototype.keyupHandler=function(e){this.isKeyAction=this.inputElement.value!==this.previousElementValue},t.prototype.changeEvent=function(e){this.isIconClicked||this.isBlur||this.isKeyAction||this.selectCalendar(e),(this.previousDate&&this.previousDate.valueOf())!==(this.value&&this.value.valueOf())?(this.changedArgs.event=e||null,this.changedArgs.element=this.element,this.changedArgs.isInteracted=this.isInteracted,this.isDynamicValueChanged||this.trigger("change",this.changedArgs),this.previousDate=this.value&&new Date(+this.value),this.isDynamicValueChanged||this.hide(e),this.previousElementValue=this.inputElement.value,this.errorClass()):e&&this.hide(e),this.isKeyAction=!1},t.prototype.requiredModules=function(){var e=[];return this&&e.push({args:[this],member:"islamic"}),this.enableMask&&e.push({args:[this],member:"MaskedDateTime"}),e},t.prototype.selectCalendar=function(e){var t,i,n;i="datetimepicker"===this.getModuleName()&&(0,A.le)(this.formatString)?this.dateTimeFormat:this.formatString,this.value&&(n="datetimepicker"===this.getModuleName()?"Gregorian"===this.calendarMode?{format:i,type:"dateTime",skeleton:"yMd"}:{format:i,type:"dateTime",skeleton:"yMd",calendar:"islamic"}:"Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"},t=this.globalize.formatDate(this.changedArgs.value,n),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"})),!(0,A.le)(t)&&(this.updateInputValue(t),this.enableMask&&this.notify("setMaskSelection",{module:"MaskedDateTime"}))},t.prototype.isCalendar=function(){return!!(this.popupWrapper&&this.popupWrapper.classList.contains(""+tZ))},t.prototype.setWidth=function(e){"number"==typeof e?this.inputWrapper.container.style.width=(0,A.Ac)(this.width):"string"==typeof e?this.inputWrapper.container.style.width=e.match(/px|%|em/)?this.width:(0,A.Ac)(this.width):this.inputWrapper.container.style.width="100%"},t.prototype.show=function(t,i){var n=this;if((!this.enabled||!this.readonly)&&this.enabled&&!this.popupObj){var r=!0,a=void 0;(0,A.le)(this.value)||+this.value>=+new Date(this.checkValue(this.min))&&+this.value<=+new Date(this.checkValue(this.max))?a=this.value||null:(a=new Date(this.checkValue(this.value)),this.setProperties({value:null},!0)),this.isCalendar()||(e.prototype.render.call(this),this.setProperties({value:a||null},!0),this.previousDate=a,this.createCalendar()),A.AR.isDevice&&(this.mobilePopupWrapper=this.createElement("div",{className:"e-datepick-mob-popup-wrap"}),document.body.appendChild(this.mobilePopupWrapper)),this.preventArgs={preventDefault:function(){r=!1},popup:this.popupObj,event:i||null,cancel:!1,appendTo:A.AR.isDevice?this.mobilePopupWrapper:document.body};var s=this.preventArgs;this.trigger("open",s,function(t){if(n.preventArgs=t,r&&!n.preventArgs.cancel){(0,A.cn)(n.inputWrapper.buttons,tQ),n.preventArgs.appendTo.appendChild(n.popupWrapper),n.popupObj.refreshPosition(n.inputElement);var i={name:"FadeIn",duration:A.AR.isDevice?0:300};1e3===n.zIndex?n.popupObj.show(new A.fw(i),n.element):n.popupObj.show(new A.fw(i),null),e.prototype.setOverlayIndex.call(n,n.mobilePopupWrapper,n.popupObj.element,n.modal,A.AR.isDevice),n.setAriaAttributes()}else n.popupObj.destroy(),n.popupWrapper=n.popupObj=null;(0,A.le)(n.inputElement)||""!==n.inputElement.value||(0,A.le)(n.tableBodyElement)||!(n.tableBodyElement.querySelectorAll("td.e-selected").length>0)||((0,A.cn)([n.tableBodyElement.querySelector("td.e-selected")],"e-focused-date"),(0,A.IV)(n.tableBodyElement.querySelectorAll("td.e-selected"),t$)),A.bi.add(document,"mousedown touchstart",n.documentHandler,n)})}},t.prototype.hide=function(e){var t=this;if((0,A.le)(this.popupWrapper))A.AR.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit();else{var i=!0;this.preventArgs={preventDefault:function(){i=!1},popup:this.popupObj,event:e||null,cancel:!1},(0,A.IV)(this.inputWrapper.buttons,tQ),(0,A.IV)([document.body],tX);var n=this.preventArgs;this.isCalendar()?this.trigger("close",n,function(e){t.closeEventCallback(i,e)}):this.closeEventCallback(i,n)}},t.prototype.closeEventCallback=function(e,t){this.preventArgs=t,this.isCalendar()&&e&&!this.preventArgs.cancel&&(this.popupObj.hide(),this.isAltKeyPressed=!1,this.keyboardModule.destroy(),(0,A.IV)(this.inputWrapper.buttons,tQ)),this.setAriaAttributes(),A.AR.isDevice&&this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null),A.AR.isDevice&&!(0,A.le)(this.mobilePopupWrapper)&&e&&((0,A.le)(this.preventArgs)||!this.preventArgs.cancel)&&(this.mobilePopupWrapper.remove(),this.mobilePopupWrapper=null),A.bi.remove(document,"mousedown touchstart",this.documentHandler),A.AR.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit()},t.prototype.focusIn=function(e){document.activeElement!==this.inputElement&&this.enabled&&(this.inputElement.focus(),(0,A.cn)([this.inputWrapper.container],[tK]))},t.prototype.focusOut=function(){document.activeElement===this.inputElement&&((0,A.IV)([this.inputWrapper.container],[tK]),this.inputElement.blur())},t.prototype.currentView=function(){var t;return this.calendarElement&&(t=e.prototype.currentView.call(this)),t},t.prototype.navigateTo=function(t,i){this.calendarElement&&e.prototype.navigateTo.call(this,t,i)},t.prototype.destroy=function(){this.unBindEvents(),e.prototype.destroy.call(this),(0,A.le)(this.keyboardModules)||this.keyboardModules.destroy(),this.popupObj&&this.popupObj.element.classList.contains("e-popup")&&e.prototype.destroy.call(this),this.inputElement&&(tD.I.removeAttributes({"aria-atomic":"true","aria-disabled":"true","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"},this.inputElement),(0,A.le)(this.inputElementCopy.getAttribute("tabindex"))?this.inputElement.removeAttribute("tabindex"):this.inputElement.setAttribute("tabindex",this.tabIndex),A.bi.remove(this.inputElement,"blur",this.inputBlurHandler),A.bi.remove(this.inputElement,"focus",this.inputFocusHandler),this.ensureInputAttribute()),this.isCalendar()&&(this.popupWrapper&&(0,A.og)(this.popupWrapper),this.popupObj=this.popupWrapper=null,this.keyboardModule.destroy()),null!==this.ngTag||(this.inputElement&&((0,A.le)(this.inputWrapper)||this.inputWrapper.container.insertAdjacentElement("afterend",this.inputElement),(0,A.IV)([this.inputElement],["e-input"])),(0,A.IV)([this.element],[t_]),(0,A.le)(this.inputWrapper)||(0,A.og)(this.inputWrapper.container)),this.formElement&&A.bi.remove(this.formElement,"reset",this.resetFormHandler),this.inputWrapper=null,this.keyboardModules=null},t.prototype.ensureInputAttribute=function(){for(var e=[],t=0;t<this.inputElement.attributes.length;t++)e[t]=this.inputElement.attributes[t].name;for(var t=0;t<e.length;t++)(0,A.le)(this.inputElementCopy.getAttribute(e[t]))?("value"===e[t].toLowerCase()&&(this.inputElement.value=""),this.inputElement.removeAttribute(e[t])):("value"===e[t].toLowerCase()&&(this.inputElement.value=this.inputElementCopy.getAttribute(e[t])),this.inputElement.setAttribute(e[t],this.inputElementCopy.getAttribute(e[t])))},t.prototype.preRender=function(){this.inputElementCopy=this.element.cloneNode(!0),(0,A.IV)([this.inputElementCopy],[t_,"e-control","e-lib"]),this.inputElement=this.element,this.formElement=(0,A.oq)(this.inputElement,"form"),this.index=this.showClearButton?2:1,this.ngTag=null,("EJS-DATEPICKER"===this.element.tagName||"EJS-DATETIMEPICKER"===this.element.tagName)&&(this.ngTag=this.element.tagName,this.inputElement=this.createElement("input"),this.element.appendChild(this.inputElement)),this.element.getAttribute("id")?null!==this.ngTag&&(this.inputElement.id=this.element.getAttribute("id")+"_input"):("datetimepicker"===this.getModuleName()?this.element.id=(0,A.QI)("ej2-datetimepicker"):this.element.id=(0,A.QI)("ej2-datepicker"),null!==this.ngTag&&(0,A.Y4)(this.inputElement,{id:this.element.id+"_input"})),null!==this.ngTag&&this.validationAttribute(this.element,this.inputElement),this.updateHtmlAttributeToElement(),this.defaultKeyConfigs=this.getDefaultKeyConfig(),this.checkHtmlAttributes(!1),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),e.prototype.preRender.call(this)},t.prototype.getDefaultKeyConfig=function(){return this.defaultKeyConfigs={altUpArrow:"alt+uparrow",altDownArrow:"alt+downarrow",escape:"escape",enter:"enter",controlUp:"ctrl+38",controlDown:"ctrl+40",moveDown:"downarrow",moveUp:"uparrow",moveLeft:"leftarrow",moveRight:"rightarrow",select:"enter",home:"home",end:"end",pageUp:"pageup",pageDown:"pagedown",shiftPageUp:"shift+pageup",shiftPageDown:"shift+pagedown",controlHome:"ctrl+home",controlEnd:"ctrl+end",shiftTab:"shift+tab",tab:"tab"},this.defaultKeyConfigs},t.prototype.validationAttribute=function(e,t){var i=e.getAttribute("name")?e.getAttribute("name"):e.getAttribute("id");t.setAttribute("name",i),e.removeAttribute("name");for(var n=["required","aria-required","form"],r=0;r<n.length;r++)if(!(0,A.le)(e.getAttribute(n[r]))){var a=e.getAttribute(n[r]);t.setAttribute(n[r],a),e.removeAttribute(n[r])}},t.prototype.checkFormat=function(){var e=new A.eC(this.locale);if(this.format){if("string"==typeof this.format)this.formatString=this.format;else if(""===this.format.skeleton||(0,A.le)(this.format.skeleton))"datetimepicker"===this.getModuleName()?this.formatString=this.dateTimeFormat:this.formatString=null;else{var t=this.format.skeleton;"datetimepicker"===this.getModuleName()?this.formatString=e.getDatePattern({skeleton:t,type:"dateTime"}):this.formatString=e.getDatePattern({skeleton:t,type:"date"})}}else this.formatString=null},t.prototype.checkHtmlAttributes=function(e){this.globalize=new A.eC(this.locale),this.checkFormat(),this.checkView();var t,i=e?(0,A.le)(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["value","min","max","disabled","readonly","style","name","placeholder","type"];t="datetimepicker"===this.getModuleName()?"Gregorian"===this.calendarMode?{format:(0,A.le)(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:(0,A.le)(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}:"Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"};for(var n=0;n<i.length;n++){var r=i[n];if(!(0,A.le)(this.inputElement.getAttribute(r)))switch(r){case"disabled":if((0,A.le)(this.datepickerOptions)||void 0===this.datepickerOptions.enabled||e){var a="disabled"!==this.inputElement.getAttribute(r)&&""!==this.inputElement.getAttribute(r)&&"true"!==this.inputElement.getAttribute(r);this.setProperties({enabled:a},!e)}break;case"readonly":if((0,A.le)(this.datepickerOptions)||void 0===this.datepickerOptions.readonly||e){var s="readonly"===this.inputElement.getAttribute(r)||""===this.inputElement.getAttribute(r)||"true"===this.inputElement.getAttribute(r);this.setProperties({readonly:s},!e)}break;case"placeholder":((0,A.le)(this.datepickerOptions)||void 0===this.datepickerOptions.placeholder||e)&&this.setProperties({placeholder:this.inputElement.getAttribute(r)},!e);break;case"style":this.inputElement.setAttribute("style",""+this.inputElement.getAttribute(r));break;case"name":this.inputElement.setAttribute("name",""+this.inputElement.getAttribute(r));break;case"value":if((0,A.le)(this.datepickerOptions)||void 0===this.datepickerOptions.value||e){var o=this.inputElement.getAttribute(r);this.setProperties((0,A.sO)(r,this.globalize.parseDate(o,t),{}),!e)}break;case"min":if(+this.min==+new Date(1900,0,1)||e){var l=this.inputElement.getAttribute(r);this.setProperties((0,A.sO)(r,this.globalize.parseDate(l),{}),!e)}break;case"max":if(+this.max==+new Date(2099,11,31)||e){var h=this.inputElement.getAttribute(r);this.setProperties((0,A.sO)(r,this.globalize.parseDate(h),{}),!e)}break;case"type":"text"!==this.inputElement.getAttribute(r)&&this.inputElement.setAttribute("type","text")}}},t.prototype.getModuleName=function(){return"datepicker"},t.prototype.disabledDates=function(t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);var n,r,a=new Date(this.checkDateValue(this.value)?+this.value:this.checkValue(this.value)),s=this.previousDate;this.minMaxUpdates(),t&&(!t||(0,A.le)(this.renderDayCell))||e.prototype.render.call(this),this.previousDate=s;var o=a&&+a,l='*[id^="/id"]'.replace("/id",""+o);this.strictMode||"string"!=typeof this.value&&("object"!=typeof this.value||+this.value==+a)||this.setProperties({value:a},!0),!(0,A.le)(this.calendarElement)&&!(0,A.le)(this.calendarElement.querySelectorAll(l)[0])&&this.calendarElement.querySelectorAll(l)[0].classList.contains("e-disabled")&&!this.strictMode&&(this.currentDate=new Date(new Date().setHours(0,0,0,0))),"datetimepicker"===this.getModuleName()?r="Gregorian"===this.calendarMode?this.globalize.formatDate(a,{format:(0,A.le)(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd"}):this.globalize.formatDate(a,{format:(0,A.le)(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}):(n="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"},r=this.globalize.formatDate(a,n)),!this.popupObj&&(this.updateInputValue(r),this.enableMask&&(this.updateInputValue(this.maskedDateValue),this.notify("createMask",{module:"MaskedDateTime",isBlur:i})))},t.prototype.setAriaAttributes=function(){this.isCalendar()?(tD.I.addAttributes({"aria-expanded":"true"},this.inputElement),(0,A.Y4)(this.inputElement,{"aria-owns":this.inputElement.id+"_options"}),this.value&&(0,A.Y4)(this.inputElement,{"aria-activedescendant":""+this.setActiveDescendant()})):(tD.I.addAttributes({"aria-expanded":"false"},this.inputElement),this.inputElement.removeAttribute("aria-owns"),this.inputElement.removeAttribute("aria-activedescendant"))},t.prototype.errorClass=function(){var e='*[id^="/id"]'.replace("/id",""+ +this.value),t=this.calendarElement&&this.calendarElement.querySelectorAll(e)[0]&&this.calendarElement.querySelectorAll(e)[0].classList.contains("e-disabled");!(0,A.le)(this.value)&&!(0,A.le)(this.min)&&!(0,A.le)(this.max)&&!(new Date(this.value).setMilliseconds(0)>=new Date(this.min).setMilliseconds(0)&&new Date(this.value).setMilliseconds(0)<=new Date(this.max).setMilliseconds(0))||!this.strictMode&&""!==this.inputElement.value&&this.inputElement.value!==this.maskedDateValue&&(0,A.le)(this.value)||t?((0,A.cn)([this.inputWrapper.container],tG),(0,A.Y4)(this.inputElement,{"aria-invalid":"true"})):(0,A.le)(this.inputWrapper)||((0,A.IV)([this.inputWrapper.container],tG),(0,A.Y4)(this.inputElement,{"aria-invalid":"false"}))},t.prototype.onPropertyChanged=function(t,i){for(var n=0,r=Object.keys(t);n<r.length;n++){switch(r[n]){case"value":this.isDynamicValueChanged=!0,this.isInteracted=!1,this.invalidValueString=null,this.checkInvalidValue(t.value),t.value=this.value,this.previousElementValue=this.inputElement.value,(0,A.le)(this.value)&&(this.enableMask?this.updateInputValue(this.maskedDateValue):this.updateInputValue(""),this.currentDate=new Date(new Date().setHours(0,0,0,0))),this.updateInput(!0),+this.previousDate!=+this.value&&this.changeTrigger(null),this.isInteracted=!0,this.preventChange=this.isAngular&&this.preventChange?!this.preventChange:this.preventChange,this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"});break;case"format":this.checkFormat(),this.bindInputEvent(),this.updateInput(),this.enableMask&&(this.notify("createMask",{module:"MaskedDateTime"}),this.value||this.updateInputValue(this.maskedDateValue));break;case"allowEdit":this.setAllowEdit();break;case"placeholder":tD.I.setPlaceholder(this.placeholder,this.inputElement);break;case"readonly":tD.I.setReadonly(this.readonly,this.inputElement);break;case"enabled":tD.I.setEnabled(this.enabled,this.inputElement),this.setAriaDisabled();break;case"htmlAttributes":this.updateHtmlAttributeToElement(),this.updateHtmlAttributeToWrapper(),this.checkHtmlAttributes(!0);break;case"locale":this.globalize=new A.eC(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),tD.I.setPlaceholder(this.placeholder,this.inputElement),this.updateInput(),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"});break;case"enableRtl":tD.I.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"start":case"depth":this.checkView(),this.calendarElement&&e.prototype.onPropertyChanged.call(this,t,i);break;case"zIndex":this.setProperties({zIndex:t.zIndex},!0);break;case"cssClass":this.updateCssClass(t.cssClass,i.cssClass);break;case"showClearButton":tD.I.setClearButton(this.showClearButton,this.inputElement,this.inputWrapper),this.bindClearEvent(),this.index=this.showClearButton?2:1;break;case"strictMode":this.invalidValueString=null,this.updateInput();break;case"width":this.setWidth(t.width),tD.I.calculateWidth(this.inputElement,this.inputWrapper.container),(0,A.le)(this.inputWrapper.buttons[0])||(0,A.le)(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])||"Never"===this.floatLabelType||this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon");break;case"floatLabelType":this.floatLabelType=t.floatLabelType,tD.I.removeFloating(this.inputWrapper),tD.I.addFloating(this.inputElement,this.floatLabelType,this.placeholder),(0,A.le)(this.inputWrapper.buttons[0])||(0,A.le)(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])||"Never"===this.floatLabelType||this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon");break;case"enableMask":this.enableMask?(this.notify("createMask",{module:"MaskedDateTime"}),this.updateInputValue(this.maskedDateValue),this.bindInputEvent()):this.inputElement.value===this.maskedDateValue&&this.updateInputValue("");break;default:this.calendarElement&&this.isCalendar()&&e.prototype.onPropertyChanged.call(this,t,i)}this.isDynamicValueChanged||this.hide(null),this.isDynamicValueChanged=!1}},tY([(0,A.Z9)(null)],t.prototype,"width",void 0),tY([(0,A.Z9)(null)],t.prototype,"value",void 0),tY([(0,A.Z9)(null)],t.prototype,"cssClass",void 0),tY([(0,A.Z9)(!1)],t.prototype,"strictMode",void 0),tY([(0,A.Z9)(null)],t.prototype,"format",void 0),tY([(0,A.Z9)(!0)],t.prototype,"enabled",void 0),tY([(0,A.Z9)(!1)],t.prototype,"fullScreenMode",void 0),tY([(0,A.Z9)({})],t.prototype,"htmlAttributes",void 0),tY([(0,A.Z9)(null)],t.prototype,"values",void 0),tY([(0,A.Z9)(!1)],t.prototype,"isMultiSelection",void 0),tY([(0,A.Z9)(!0)],t.prototype,"showClearButton",void 0),tY([(0,A.Z9)(!0)],t.prototype,"allowEdit",void 0),tY([(0,A.Z9)(null)],t.prototype,"keyConfigs",void 0),tY([(0,A.Z9)(!1)],t.prototype,"enablePersistence",void 0),tY([(0,A.Z9)(1e3)],t.prototype,"zIndex",void 0),tY([(0,A.Z9)(!1)],t.prototype,"readonly",void 0),tY([(0,A.Z9)(null)],t.prototype,"placeholder",void 0),tY([(0,A.Z9)("Never")],t.prototype,"floatLabelType",void 0),tY([(0,A.Z9)(null)],t.prototype,"serverTimezoneOffset",void 0),tY([(0,A.Z9)(!1)],t.prototype,"openOnFocus",void 0),tY([(0,A.Z9)(!1)],t.prototype,"enableMask",void 0),tY([(0,A.Z9)({day:"day",month:"month",year:"year",hour:"hour",minute:"minute",second:"second",dayOfTheWeek:"day of the week"})],t.prototype,"maskPlaceholder",void 0),tY([(0,A.ju)()],t.prototype,"open",void 0),tY([(0,A.ju)()],t.prototype,"cleared",void 0),tY([(0,A.ju)()],t.prototype,"close",void 0),tY([(0,A.ju)()],t.prototype,"blur",void 0),tY([(0,A.ju)()],t.prototype,"focus",void 0),tY([(0,A.ju)()],t.prototype,"created",void 0),tY([(0,A.ju)()],t.prototype,"destroyed",void 0),t=tY([A.Zl],t)}(ti),t9=i(49794),t3=(p=function(e,t){return(p=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),t2=function(e,t,i,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},t4="e-error",t7="240px",t6=new Date().getDate(),t5=new Date().getMonth(),t8=new Date().getFullYear(),ie="e-timepicker",it="e-active",ii="e-hover",ir="e-navigation",ia="e-disabled",is="e-input-focus",io="e-list-item",il="e-time-overflow",ih="e-non-edit",ip=["title","class","style"];(E||(E={})).createListItems=function(e,t,i,n,r,a){this.calendarMode;var s,o=6e4*a,l=[],h=[];s=+t.setMilliseconds(0);for(var p=+i.setMilliseconds(0);p>=s;)h.push(s),l.push(n.formatDate(new Date(s),{format:r,type:"time"})),s+=o;return{collection:h,list:t9.Kh.createList(e,l,null,!0)}},function(e){function t(){return null!==e&&e.apply(this,arguments)||this}t3(t,e),t2([(0,A.Z9)("day")],t.prototype,"day",void 0),t2([(0,A.Z9)("month")],t.prototype,"month",void 0),t2([(0,A.Z9)("year")],t.prototype,"year",void 0),t2([(0,A.Z9)("day of the week")],t.prototype,"dayOfTheWeek",void 0),t2([(0,A.Z9)("hour")],t.prototype,"hour",void 0),t2([(0,A.Z9)("minute")],t.prototype,"minute",void 0),t2([(0,A.Z9)("second")],t.prototype,"second",void 0)}(A.rt),function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.liCollections=[],n.timeCollections=[],n.disableItemCollection=[],n.invalidValueString=null,n.isAngular=!1,n.preventChange=!1,n.maskedDateValue="",n.moduleName=n.getModuleName(),n.timeOptions=t,n}t3(t,e),t.prototype.preRender=function(){this.keyConfigure={enter:"enter",escape:"escape",end:"end",tab:"tab",home:"home",down:"downarrow",up:"uparrow",left:"leftarrow",right:"rightarrow",open:"alt+downarrow",close:"alt+uparrow"},this.cloneElement=this.element.cloneNode(!0),(0,A.IV)([this.cloneElement],[ie,"e-control","e-lib"]),this.inputElement=this.element,this.angularTag=null,this.formElement=(0,A.oq)(this.element,"form"),"EJS-TIMEPICKER"===this.element.tagName&&(this.angularTag=this.element.tagName,this.inputElement=this.createElement("input"),this.element.appendChild(this.inputElement)),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),this.openPopupEventArgs={appendTo:document.body}},t.prototype.render=function(){this.initialize(),this.createInputElement(),this.updateHtmlAttributeToWrapper(),this.setTimeAllowEdit(),this.setEnable(),this.validateInterval(),this.bindEvents(),this.validateDisable(),this.setTimeZone(),this.setValue(this.getFormattedValue(this.value)),!this.enableMask||this.value||!this.maskedDateValue||"Always"!==this.floatLabelType&&this.floatLabelType&&this.placeholder||(this.updateInputValue(this.maskedDateValue),this.checkErrorState(this.maskedDateValue)),this.anchor=this.inputElement,this.inputElement.setAttribute("value",this.inputElement.value),this.inputEleValue=this.getDateObject(this.inputElement.value),(0,A.le)(this.inputWrapper.buttons[0])||(0,A.le)(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])||"Never"===this.floatLabelType||this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon"),!(0,A.le)((0,A.oq)(this.element,"fieldset"))&&(0,A.oq)(this.element,"fieldset").disabled&&(this.enabled=!1),this.renderComplete()},t.prototype.setTimeZone=function(){if(!(0,A.le)(this.serverTimezoneOffset)&&this.value){var e=new Date().getTimezoneOffset()/60,t=this.serverTimezoneOffset+e;t=this.isDayLightSaving()?t--:t,this.value=new Date(this.value.getTime()+36e5*t)}},t.prototype.isDayLightSaving=function(){var e=new Date(this.value.getFullYear(),0,1).getTimezoneOffset(),t=new Date(this.value.getFullYear(),6,1).getTimezoneOffset();return this.value.getTimezoneOffset()<Math.max(e,t)},t.prototype.setTimeAllowEdit=function(){this.allowEdit?this.readonly||this.inputElement.removeAttribute("readonly"):(0,A.Y4)(this.inputElement,{readonly:""}),this.clearIconState()},t.prototype.clearIconState=function(){this.allowEdit||!this.inputWrapper||this.readonly?this.inputWrapper&&(0,A.IV)([this.inputWrapper.container],[ih]):""===this.inputElement.value?(0,A.IV)([this.inputWrapper.container],[ih]):(0,A.cn)([this.inputWrapper.container],[ih])},t.prototype.validateDisable=function(){this.setMinMax(this.initMin,this.initMax),(0,A.le)(this.value)||(this.popupCreation(),this.popupObj.destroy(),this.popupWrapper=this.popupObj=null),isNaN(+this.value)||null===this.value||this.valueIsDisable(this.value)||(this.strictMode&&this.resetState(),this.initValue=null,this.initMax=this.getDateObject(this.initMax),this.initMin=this.getDateObject(this.initMin),this.timeCollections=this.liCollections=[],this.setMinMax(this.initMin,this.initMax))},t.prototype.validationAttribute=function(e,t){var i=e.getAttribute("name")?e.getAttribute("name"):e.getAttribute("id");t.setAttribute("name",i),e.removeAttribute("name");for(var n=["required","aria-required","form"],r=0;r<n.length;r++)if(!(0,A.le)(e.getAttribute(n[r]))){var a=e.getAttribute(n[r]);t.setAttribute(n[r],a),e.removeAttribute(n[r])}},t.prototype.initialize=function(){this.globalize=new A.eC(this.locale),this.defaultCulture=new A.eC("en"),this.checkTimeFormat(),this.checkInvalidValue(this.value),this.setProperties({value:this.checkDateValue(new Date(this.checkInValue(this.value)))},!0),this.setProperties({min:this.checkDateValue(new Date(this.checkInValue(this.min)))},!0),this.setProperties({max:this.checkDateValue(new Date(this.checkInValue(this.max)))},!0),this.setProperties({scrollTo:this.checkDateValue(new Date(this.checkInValue(this.scrollTo)))},!0),null!==this.angularTag&&this.validationAttribute(this.element,this.inputElement),this.updateHtmlAttributeToElement(),this.checkAttributes(!1);var e={placeholder:this.placeholder};this.l10n=new A.E7("timepicker",e,this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.initValue=this.checkDateValue(this.value),this.initMin=this.checkDateValue(this.min),this.initMax=this.checkDateValue(this.max),this.isNavigate=this.isPreventBlur=this.isTextSelected=!1,this.activeIndex=this.valueWithMinutes=this.prevDate=null,(0,A.le)(this.element.getAttribute("id"))?(this.element.id=(0,A.QI)("ej2_timepicker"),null!==this.angularTag&&(0,A.Y4)(this.inputElement,{id:this.element.id+"_input"})):null!==this.angularTag&&(this.inputElement.id=this.element.getAttribute("id")+"_input"),(0,A.le)(this.inputElement.getAttribute("name"))&&(0,A.Y4)(this.inputElement,{name:this.element.id}),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"})},t.prototype.checkTimeFormat=function(){if(this.format){if("string"==typeof this.format)this.formatString=this.format;else if((0,A.le)(this.format.skeleton)||""===this.format.skeleton)this.formatString=this.globalize.getDatePattern({type:"time",skeleton:"short"});else{var e=this.format.skeleton;this.formatString=this.globalize.getDatePattern({type:"time",skeleton:e})}}else this.formatString=null},t.prototype.checkDateValue=function(e){return!(0,A.le)(e)&&e instanceof Date&&!isNaN(+e)?e:null},t.prototype.createInputElement=function(){this.fullScreenMode&&A.AR.isDevice&&(this.cssClass+=" e-popup-expand");var e=this.cssClass,t=!this.enableMask;(0,A.le)(this.cssClass)||""===this.cssClass||(e=this.cssClass.replace(/\s+/g," ").trim()),this.inputWrapper=tD.I.createInput({element:this.inputElement,bindClearAction:t,floatLabelType:this.floatLabelType,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:e,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton},buttons:[" e-input-group-icon e-time-icon e-icons"]},this.createElement),this.inputWrapper.container.style.width=this.setWidth(this.width),(0,A.Y4)(this.inputElement,{"aria-autocomplete":"list",tabindex:"0","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-disabled":"false","aria-invalid":"false"}),this.isNullOrEmpty(this.inputStyle)||tD.I.addAttributes({style:this.inputStyle},this.inputElement),(0,A.cn)([this.inputWrapper.container],"e-time-wrapper")},t.prototype.getCldrDateTimeFormat=function(){var e=new A.eC(this.locale).getDatePattern({skeleton:"yMd"});return this.isNullOrEmpty(this.formatString)?e+" "+this.cldrFormat("time"):this.formatString},t.prototype.checkInvalidValue=function(e){var t=!1;if("object"!=typeof e&&!(0,A.le)(e)){var i=e;"string"==typeof i&&(i=i.trim());var n=null,r=null;if("number"==typeof e?i=e.toString():"string"==typeof e&&!/^[a-zA-Z0-9- ]*$/.test(e)&&(n=this.setCurrentDate(this.getDateObject(e)),(0,A.le)(n)&&(n=this.checkDateValue(this.globalize.parseDate(i,{format:this.getCldrDateTimeFormat(),type:"datetime"})),(0,A.le)(n)&&(n=this.checkDateValue(this.globalize.parseDate(i,{format:this.formatString,type:"dateTime",skeleton:"yMd"}))))),r=this.globalize.parseDate(i,{format:this.getCldrDateTimeFormat(),type:"datetime"}),n=!(0,A.le)(r)&&r instanceof Date&&!isNaN(+r)?r:null,(0,A.le)(n)&&i.replace(/\s/g,"").length){var a=null;a=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,!/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/.test(i)&&!a.test(i)||/^[a-zA-Z0-9- ]*$/.test(e)||isNaN(+new Date(""+i))?t=!0:n=new Date(""+i)}t?(this.strictMode||(this.invalidValueString=i),this.setProperties({value:null},!0),this.initValue=null):(this.setProperties({value:n},!0),this.initValue=this.value)}},t.prototype.requiredModules=function(){var e=[];return this.enableMask&&e.push({args:[this],member:"MaskedDateTime"}),e},t.prototype.cldrFormat=function(e){return"en"===this.locale||"en-US"===this.locale?(0,A.NA)("timeFormats.short",(0,A.bD)()):this.getCultureTimeObject(A.qV,""+this.locale)},t.prototype.destroy=function(){this.hide(),this.unBindEvents(),this.inputElement&&(tD.I.removeAttributes({"aria-autocomplete":"list",tabindex:"0","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-disabled":"true","aria-invalid":"false"},this.inputElement),null===this.angularTag&&this.inputWrapper.container.parentElement.appendChild(this.inputElement),(0,A.le)(this.cloneElement.getAttribute("tabindex"))?this.inputElement.removeAttribute("tabindex"):this.inputElement.setAttribute("tabindex",this.tabIndex),this.ensureInputAttribute(),this.enableElement([this.inputElement]),this.inputElement.classList.remove("e-input"),(0,A.le)(this.cloneElement.getAttribute("disabled"))&&tD.I.setEnabled(!0,this.inputElement,this.floatLabelType)),this.inputWrapper.container&&(0,A.og)(this.inputWrapper.container),this.inputWrapper=this.popupWrapper=this.cloneElement=void 0,this.liCollections=this.timeCollections=this.disableItemCollection=[],(0,A.le)(this.rippleFn)||this.rippleFn(),e.prototype.destroy.call(this),this.formElement&&A.bi.remove(this.formElement,"reset",this.formResetHandler),this.rippleFn=null,this.openPopupEventArgs=null,this.selectedElement=null,this.listTag=null,this.liCollections=null},t.prototype.ensureInputAttribute=function(){for(var e=[],t=0;t<this.inputElement.attributes.length;t++)e[t]=this.inputElement.attributes[t].name;for(var t=0;t<e.length;t++)(0,A.le)(this.cloneElement.getAttribute(e[t]))?(this.inputElement.removeAttribute(e[t]),"value"===e[t].toLowerCase()&&(this.inputElement.value="")):(this.inputElement.setAttribute(e[t],this.cloneElement.getAttribute(e[t])),"value"===e[t].toLowerCase()&&(this.inputElement.value=this.cloneElement.getAttribute(e[t])))},t.prototype.popupCreation=function(){this.popupWrapper=this.createElement("div",{className:ie+" e-popup",attrs:{id:this.element.id+"_popup",style:"visibility:hidden"}}),(0,A.le)(this.cssClass)||(this.popupWrapper.className+=" "+this.cssClass),!(0,A.le)(this.step)&&this.step>0&&(this.generateList(),(0,A.R3)([this.listWrapper],this.popupWrapper)),this.addSelection(),this.renderPopup(),(0,A.og)(this.popupWrapper)},t.prototype.getPopupHeight=function(){var e=parseInt(t7,10),t=this.popupWrapper.getBoundingClientRect().height;return t>e?e:t},t.prototype.generateList=function(){this.createListItems(),this.wireListEvents(),this.rippleFn=(0,A.qx)(this.listWrapper,{duration:300,selector:"."+io}),this.liCollections=this.listWrapper.querySelectorAll("."+io)},t.prototype.renderPopup=function(){var e=this;if(this.containerStyle=this.inputWrapper.container.getBoundingClientRect(),this.popupObj=new M.GI(this.popupWrapper,{width:this.setPopupWidth(this.width),zIndex:this.zIndex,targetType:"relative",position:A.AR.isDevice?{X:"center",Y:"center"}:{X:"left",Y:"bottom"},collision:A.AR.isDevice?{X:"fit",Y:"fit"}:{X:"flip",Y:"flip"},enableRtl:this.enableRtl,relateTo:A.AR.isDevice?document.body:this.inputWrapper.container,offsetY:4,open:function(){e.popupWrapper.style.visibility="visible",(0,A.cn)([e.inputWrapper.buttons[0]],it)},close:function(){(0,A.IV)([e.inputWrapper.buttons[0]],it),e.unWireListEvents(),e.inputElement.removeAttribute("aria-activedescendant"),(0,A.Od)(e.popupObj.element),e.popupObj.destroy(),e.popupWrapper.innerHTML="",e.listWrapper=e.popupWrapper=e.listTag=void 0},targetExitViewport:function(){A.AR.isDevice||e.hide()}}),A.AR.isDevice||(this.popupObj.collision={X:"none",Y:"flip"}),A.AR.isDevice&&this.fullScreenMode?(this.popupObj.element.style.maxHeight="100%",this.popupObj.element.style.width="100%"):this.popupObj.element.style.maxHeight=t7,A.AR.isDevice&&this.fullScreenMode){var t=this.createElement("div",{className:"e-model-header"}),i=this.createElement("span",{className:"e-model-title"});i.textContent="Select time";var n=this.createElement("span",{className:"e-popup-close"});A.bi.add(n,"mousedown touchstart",this.timePopupCloseHandler,this),t.appendChild(n),t.appendChild(i),this.popupWrapper.insertBefore(t,this.popupWrapper.firstElementChild)}},t.prototype.timePopupCloseHandler=function(e){this.hide()},t.prototype.getFormattedValue=function(e){return(0,A.le)(this.checkDateValue(e))?null:this.globalize.formatDate(e,{skeleton:"medium",type:"time"})},t.prototype.getDateObject=function(e){if(!this.isNullOrEmpty(e)){var t=this.createDateObj(e),i=!this.isNullOrEmpty(this.initValue);if(this.checkDateValue(t)){var n=i?this.initValue.getDate():t6,r=i?this.initValue.getMonth():t5,a=i?this.initValue.getFullYear():t8;return new Date(a,r,n,t.getHours(),t.getMinutes(),t.getSeconds())}}return null},t.prototype.updateHtmlAttributeToWrapper=function(){if(!(0,A.le)(this.htmlAttributes))for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var i=t[e];if(ip.indexOf(i)>-1){if("class"===i){var n=this.htmlAttributes[""+i].replace(/\s+/g," ").trim();""!==n&&(0,A.cn)([this.inputWrapper.container],n.split(" "))}else if("style"===i){var r=this.inputWrapper.container.getAttribute(i);r=(0,A.le)(r)?this.htmlAttributes[""+i]:r+this.htmlAttributes[""+i],this.inputWrapper.container.setAttribute(i,r)}else this.inputWrapper.container.setAttribute(i,this.htmlAttributes[""+i])}}},t.prototype.updateHtmlAttributeToElement=function(){if(!(0,A.le)(this.htmlAttributes))for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var i=t[e];0>ip.indexOf(i)&&this.inputElement.setAttribute(i,this.htmlAttributes[""+i])}},t.prototype.updateCssClass=function(e,t){(0,A.le)(t)||(t=t.replace(/\s+/g," ").trim()),(0,A.le)(e)||(e=e.replace(/\s+/g," ").trim()),tD.I.setCssClass(e,[this.inputWrapper.container],t),this.popupWrapper&&tD.I.setCssClass(e,[this.popupWrapper],t)},t.prototype.removeErrorClass=function(){(0,A.IV)([this.inputWrapper.container],t4),(0,A.Y4)(this.inputElement,{"aria-invalid":"false"})},t.prototype.checkErrorState=function(e){var t=this.getDateObject(e);this.validateState(t)&&!this.invalidValueString||this.enableMask&&this.inputElement.value===this.maskedDateValue?this.removeErrorClass():((0,A.cn)([this.inputWrapper.container],t4),(0,A.Y4)(this.inputElement,{"aria-invalid":"true"}))},t.prototype.validateInterval=function(){!(0,A.le)(this.step)&&this.step>0?this.enableElement([this.inputWrapper.buttons[0]]):this.disableTimeIcon()},t.prototype.disableTimeIcon=function(){this.disableElement([this.inputWrapper.buttons[0]]),this.hide()},t.prototype.disableElement=function(e){(0,A.cn)(e,ia)},t.prototype.enableElement=function(e){(0,A.IV)(e,ia)},t.prototype.selectInputText=function(){this.inputElement.setSelectionRange(0,this.inputElement.value.length)},t.prototype.setCursorToEnd=function(){this.inputElement.setSelectionRange(this.inputElement.value.length,this.inputElement.value.length)},t.prototype.getMeridianText=function(){return"en"===this.locale||"en-US"===this.locale?(0,A.NA)("dayPeriods.format.wide",(0,A.bD)()):(0,A.NA)("main."+this.locale+".dates.calendars.gregorian.dayPeriods.format.abbreviated",A.qV)},t.prototype.getCursorSelection=function(){var e=this.inputElement,t=0,i=0;return isNaN(e.selectionStart)||(t=e.selectionStart,i=e.selectionEnd),{start:Math.abs(t),end:Math.abs(i)}},t.prototype.getActiveElement=function(){return(0,A.le)(this.popupWrapper)?null:this.popupWrapper.querySelectorAll("."+it)},t.prototype.isNullOrEmpty=function(e){return!!(0,A.le)(e)||"string"==typeof e&&""===e.trim()},t.prototype.setWidth=function(e){return e="number"==typeof e?(0,A.Ac)(e):"string"==typeof e?e.match(/px|%|em/)?e:(0,A.Ac)(e):"100%"},t.prototype.setPopupWidth=function(e){return(e=this.setWidth(e)).indexOf("%")>-1&&(e=(this.containerStyle.width*parseFloat(e)/100).toString()+"px"),e},t.prototype.setScrollPosition=function(){var e=this.selectedElement;(0,A.le)(e)?this.popupWrapper&&this.checkDateValue(this.scrollTo)&&this.setScrollTo():this.findScrollTop(e)},t.prototype.findScrollTop=function(e){var t=this.getPopupHeight(),i=e.nextElementSibling,n=i?i.offsetTop:e.offsetTop,r=e.getBoundingClientRect().height;n+e.offsetTop>t?this.popupWrapper.scrollTop=i?n-(t/2+r/2):n:this.popupWrapper.scrollTop=0},t.prototype.setScrollTo=function(){var e;if((0,A.le)(this.popupWrapper))this.popupWrapper.scrollTop=0;else{var t=this.popupWrapper.querySelectorAll("."+io);if(t.length){var i=this.timeCollections[0];e=t[Math.round((this.getDateObject(this.checkDateValue(this.scrollTo)).getTime()-i)/(6e4*this.step))]}}(0,A.le)(e)?this.popupWrapper.scrollTop=0:this.findScrollTop(e)},t.prototype.getText=function(){return(0,A.le)(this.checkDateValue(this.value))?"":this.getValue(this.value)},t.prototype.getValue=function(e){return(0,A.le)(this.checkDateValue(e))?null:this.globalize.formatDate(e,{format:this.cldrTimeFormat(),type:"time"})},t.prototype.cldrDateFormat=function(){return"en"===this.locale||"en-US"===this.locale?(0,A.NA)("dateFormats.short",(0,A.bD)()):this.getCultureDateObject(A.qV,""+this.locale)},t.prototype.cldrTimeFormat=function(){return this.isNullOrEmpty(this.formatString)?"en"===this.locale||"en-US"===this.locale?(0,A.NA)("timeFormats.short",(0,A.bD)()):this.getCultureTimeObject(A.qV,""+this.locale):this.formatString},t.prototype.dateToNumeric=function(){return"en"===this.locale||"en-US"===this.locale?(0,A.NA)("timeFormats.medium",(0,A.bD)()):(0,A.NA)("main."+this.locale+".dates.calendars.gregorian.timeFormats.medium",A.qV)},t.prototype.getExactDateTime=function(e){return(0,A.le)(this.checkDateValue(e))?null:this.globalize.formatDate(e,{format:this.dateToNumeric(),type:"time"})},t.prototype.setValue=function(e){var t=this.checkValue(e);this.strictMode||this.validateState(t)?this.isNullOrEmpty(t)?(this.initValue=null,this.validateMinMax(this.value,this.min,this.max)):this.initValue=this.compareFormatChange(t):(null===this.checkDateValue(this.valueWithMinutes)&&(this.initValue=this.valueWithMinutes=null),this.validateMinMax(this.value,this.min,this.max)),this.updateInput(!0,this.initValue)},t.prototype.compareFormatChange=function(e){return(0,A.le)(e)?null:e!==this.getText()?this.getDateObject(e):this.getDateObject(this.value)},t.prototype.updatePlaceHolder=function(){tD.I.setPlaceholder(this.l10n.getConstant("placeholder"),this.inputElement)},t.prototype.updateInputValue=function(e){tD.I.setValue(e,this.inputElement,this.floatLabelType,this.showClearButton)},t.prototype.preventEventBubbling=function(e){e.preventDefault(),this.interopAdaptor.invokeMethodAsync("OnTimeIconClick")},t.prototype.popupHandler=function(e){this.enabled&&(A.AR.isDevice&&this.inputElement.setAttribute("readonly",""),e.preventDefault(),this.isPopupOpen()?this.closePopup(0,e):(this.inputElement.focus(),this.show(e)))},t.prototype.mouseDownHandler=function(){this.enabled&&(this.readonly||(this.inputElement.setSelectionRange(0,0),A.bi.add(this.inputElement,"mouseup",this.mouseUpHandler,this)))},t.prototype.mouseUpHandler=function(e){if(!this.readonly){if(e.preventDefault(),this.enableMask){e.preventDefault(),this.notify("setMaskSelection",{module:"MaskedDateTime"});return}A.bi.remove(this.inputElement,"mouseup",this.mouseUpHandler);var t=this.getCursorSelection();0===t.start&&t.end===this.inputElement.value.length||(this.inputElement.value.length>0&&(this.cursorDetails=this.focusSelection()),this.inputElement.setSelectionRange(this.cursorDetails.start,this.cursorDetails.end))}},t.prototype.focusSelection=function(){var e=RegExp("^[a-zA-Z0-9]+$"),t=this.inputElement.value.split("");t.push(" ");var i=this.getCursorSelection(),n=0,r=0,a=!1;if(this.isTextSelected)n=i.start,r=i.end,this.isTextSelected=!1;else for(var s=0;s<t.length;s++)if(e.test(t[s])||(r=s,a=!0),a){if(i.start>=n&&i.end<=r){this.isTextSelected=!0;break}n=s+1,a=!1}return{start:n,end:r}},t.prototype.inputHandler=function(e){if(!this.readonly&&this.enabled)switch("right"!=e.action&&"left"!=e.action&&"tab"!=e.action&&("home"!=e.action&&"end"!=e.action&&"up"!=e.action&&"down"!=e.action||this.isPopupOpen()||this.enableMask)&&e.preventDefault(),e.action){case"home":case"end":case"up":case"down":this.isPopupOpen()||(this.popupCreation(),this.popupObj.destroy(),this.popupObj=this.popupWrapper=null),!this.enableMask||this.readonly||this.isPopupOpen()||(e.preventDefault(),this.notify("keyDownHandler",{module:"MaskedDateTime",e:e})),this.isPopupOpen()&&this.keyHandler(e);break;case"enter":this.isNavigate?(this.selectedElement=this.liCollections[this.activeIndex],this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),this.updateValue(this.valueWithMinutes,e)):this.updateValue(this.inputElement.value,e),this.hide(),this.isNavigate=!1,this.isPopupOpen()&&e.stopPropagation();break;case"open":this.show(e);break;case"escape":this.updateInputValue(this.objToString(this.value)),this.enableMask&&(this.value||this.updateInputValue(this.maskedDateValue),this.createMask()),this.previousState(this.value),this.hide();break;case"close":this.hide();break;case"right":case"left":case"tab":case"shiftTab":this.isPopupOpen()||!this.enableMask||this.readonly||((0===this.inputElement.selectionStart&&this.inputElement.selectionEnd===this.inputElement.value.length||this.inputElement.selectionEnd!==this.inputElement.value.length&&"tab"===e.action||0!==this.inputElement.selectionStart&&"shiftTab"===e.action||"left"===e.action||"right"===e.action)&&e.preventDefault(),this.notify("keyDownHandler",{module:"MaskedDateTime",e:e}));break;default:this.isNavigate=!1}},t.prototype.onMouseClick=function(e){var t=e.target,i=this.selectedElement=(0,A.oq)(t,"."+io);this.setSelection(i,e),i&&i.classList.contains(io)&&this.hide()},t.prototype.closePopup=function(e,t){var i=this;if(this.isPopupOpen()&&this.popupWrapper){var n={popup:this.popupObj,event:t||null,cancel:!1,name:"open"};(0,A.IV)([document.body],il),this.trigger("close",n,function(t){t.cancel||(i.popupObj.hide(new A.fw({name:"FadeOut",duration:50,delay:e||0})),(0,A.IV)([i.inputWrapper.container],["e-icon-anim"]),(0,A.Y4)(i.inputElement,{"aria-expanded":"false"}),i.inputElement.removeAttribute("aria-owns"),i.inputElement.removeAttribute("aria-activedescendant"),A.bi.remove(document,"mousedown touchstart",i.documentClickHandler)),A.AR.isDevice&&i.modal&&(i.modal.style.display="none",i.modal.outerHTML="",i.modal=null),A.AR.isDevice&&!(0,A.le)(i.mobileTimePopupWrap)&&(i.mobileTimePopupWrap.remove(),i.mobileTimePopupWrap=null),A.AR.isDevice&&i.allowEdit&&!i.readonly&&i.inputElement.removeAttribute("readonly")})}else A.AR.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly")},t.prototype.disposeServerPopup=function(){this.popupWrapper&&(this.popupWrapper.style.visibility="hidden",this.popupWrapper.style.top="-9999px",this.popupWrapper.style.left="-9999px",this.popupWrapper.style.width="0px",this.popupWrapper.style.height="0px")},t.prototype.checkValueChange=function(e,t){if(this.strictMode||this.validateState(this.valueWithMinutes)){if(t){var i=this.getDateObject(new Date(this.timeCollections[this.activeIndex]));+this.prevDate!=+i&&this.valueProcess(e,i)}else(this.prevValue!==this.inputElement.value||(0,A.le)(this.checkDateValue(this.value)))&&this.valueProcess(e,this.compareFormatChange(this.inputElement.value))}else null===this.checkDateValue(this.valueWithMinutes)&&(this.initValue=this.valueWithMinutes=null),this.setProperties({value:this.compareFormatChange(this.inputElement.value)},!0),this.initValue=this.valueWithMinutes=this.compareFormatChange(this.inputElement.value),this.prevValue=this.inputElement.value,+this.prevDate!=+this.value&&this.changeEvent(e)},t.prototype.onMouseOver=function(e){var t=(0,A.oq)(e.target,"."+io);this.setHover(t,ii)},t.prototype.setHover=function(e,t){this.enabled&&this.isValidLI(e)&&!e.classList.contains(t)&&(this.removeHover(t),(0,A.cn)([e],t),t===ir&&e.setAttribute("aria-selected","true"))},t.prototype.setSelection=function(e,t){this.isValidLI(e)&&(this.checkValue(e.getAttribute("data-value")),this.enableMask&&this.createMask(),this.selectedElement=e,this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(e),this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),(0,A.cn)([this.selectedElement],it),this.selectedElement.setAttribute("aria-selected","true"),this.checkValueChange(t,!0))},t.prototype.onMouseLeave=function(){this.removeHover(ii)},t.prototype.scrollHandler=function(){"timepicker"===this.getModuleName()&&A.AR.isDevice||this.hide()},t.prototype.setMinMax=function(e,t){(0,A.le)(this.checkDateValue(e))&&(this.initMin=this.getDateObject("12:00:00 AM")),(0,A.le)(this.checkDateValue(t))&&(this.initMax=this.getDateObject("11:59:59 PM"))},t.prototype.validateMinMax=function(e,t,i){var n=e instanceof Date?e:this.getDateObject(e);return(0,A.le)(this.checkDateValue(n))?+this.createDateObj(this.getFormattedValue(this.initMin))>+this.createDateObj(this.getFormattedValue(this.initMax))&&this.disableTimeIcon():e=this.strictOperation(this.initMin,this.initMax,e,n),this.strictMode&&(e=this.valueIsDisable(e)?e:null),this.checkErrorState(e),e},t.prototype.valueIsDisable=function(e){if(this.disableItemCollection.length>0){if(this.disableItemCollection.length===this.timeCollections.length)return!1;for(var t=e instanceof Date?this.objToString(e):e,i=0;i<this.disableItemCollection.length;i++)if(t===this.disableItemCollection[i])return!1}return!0},t.prototype.validateState=function(e){if(!this.strictMode){if(!this.valueIsDisable(e))return!1;var t=this.setCurrentDate(this.getDateObject(e)),i=this.setCurrentDate(this.getDateObject(this.initMax)),n=this.setCurrentDate(this.getDateObject(this.initMin));if((0,A.le)(this.checkDateValue(t))){if(+i<+n||""!==this.inputElement.value)return!1}else if(+t>+i||+t<+n)return!1}return!0},t.prototype.strictOperation=function(e,t,i,n){var r=this.createDateObj(this.getFormattedValue(t)),a=this.createDateObj(this.getFormattedValue(e)),s=this.createDateObj(this.getFormattedValue(n));if(this.strictMode){if(+a>+r)return this.disableTimeIcon(),this.initValue=this.getDateObject(r),this.updateInputValue(this.getValue(this.initValue)),this.enableMask&&this.createMask(),this.inputElement.value;if(+a>=+s)return this.getDateObject(a);if(+s>=+r||+a==+r)return this.getDateObject(r)}else+a>+r&&(this.disableTimeIcon(),isNaN(+this.createDateObj(i)));return i},t.prototype.bindEvents=function(){A.bi.add(this.inputWrapper.buttons[0],"mousedown",this.popupHandler,this),A.bi.add(this.inputElement,"blur",this.inputBlurHandler,this),A.bi.add(this.inputElement,"focus",this.inputFocusHandler,this),A.bi.add(this.inputElement,"change",this.inputChangeHandler,this),A.bi.add(this.inputElement,"input",this.inputEventHandler,this),this.enableMask&&A.bi.add(this.inputElement,"keydown",this.keydownHandler,this),this.showClearButton&&this.inputWrapper.clearButton&&A.bi.add(this.inputWrapper.clearButton,"mousedown",this.clearHandler,this),this.formElement&&A.bi.add(this.formElement,"reset",this.formResetHandler,this),!A.AR.isDevice&&(this.keyConfigure=(0,A.l7)(this.keyConfigure,this.keyConfigs),this.inputEvent=new A.nv(this.inputWrapper.container,{keyAction:this.inputHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}),this.showClearButton&&this.inputElement&&A.bi.add(this.inputElement,"mousedown",this.mouseDownHandler,this))},t.prototype.keydownHandler=function(e){"Delete"===e.code&&(!this.enableMask||this.popupObj||this.readonly||this.notify("keyDownHandler",{module:"MaskedDateTime",e:e}))},t.prototype.formResetHandler=function(){if(this.enabled&&!this.inputElement.disabled){var e=this.inputElement.getAttribute("value"),t=this.checkDateValue(this.inputEleValue);"EJS-TIMEPICKER"===this.element.tagName&&(t=null,e="",this.inputElement.setAttribute("value","")),this.setProperties({value:t},!0),this.prevDate=this.value,this.valueWithMinutes=this.value,this.initValue=this.value,this.inputElement&&(this.updateInputValue(e),this.enableMask&&(e||this.updateInputValue(this.maskedDateValue),this.createMask()),this.checkErrorState(e),this.prevValue=this.inputElement.value)}},t.prototype.inputChangeHandler=function(e){this.enabled&&e.stopPropagation()},t.prototype.inputEventHandler=function(){this.enableMask&&this.notify("inputHandler",{module:"MaskedDateTime"})},t.prototype.unBindEvents=function(){this.inputWrapper&&A.bi.remove(this.inputWrapper.buttons[0],"mousedown touchstart",this.popupHandler),A.bi.remove(this.inputElement,"blur",this.inputBlurHandler),A.bi.remove(this.inputElement,"focus",this.inputFocusHandler),A.bi.remove(this.inputElement,"change",this.inputChangeHandler),A.bi.remove(this.inputElement,"input",this.inputEventHandler),this.inputEvent&&this.inputEvent.destroy(),A.bi.remove(this.inputElement,"mousedown touchstart",this.mouseDownHandler),!this.showClearButton||(0,A.le)(this.inputWrapper)||(0,A.le)(this.inputWrapper.clearButton)||A.bi.remove(this.inputWrapper.clearButton,"mousedown touchstart",this.clearHandler),this.formElement&&A.bi.remove(this.formElement,"reset",this.formResetHandler)},t.prototype.bindClearEvent=function(){this.showClearButton&&this.inputWrapper.clearButton&&A.bi.add(this.inputWrapper.clearButton,"mousedown",this.clearHandler,this)},t.prototype.raiseClearedEvent=function(e){this.trigger("cleared",{event:e})},t.prototype.clearHandler=function(e){if(this.enabled&&(e.preventDefault(),(0,A.le)(this.value)?(this.resetState(),this.raiseClearedEvent(e)):this.clear(e),this.popupWrapper&&(this.popupWrapper.scrollTop=0),this.enableMask&&this.notify("clearHandler",{module:"MaskedDateTime"}),(0,A.oq)(this.element,"form"))){var t=this.element,i=document.createEvent("KeyboardEvent");i.initEvent("keyup",!1,!0),t.dispatchEvent(i)}},t.prototype.clear=function(e){this.setProperties({value:null},!0),this.initValue=null,this.resetState(),this.raiseClearedEvent(e),this.changeEvent(e)},t.prototype.setZIndex=function(){this.popupObj&&(this.popupObj.zIndex=this.zIndex,this.popupObj.dataBind())},t.prototype.checkAttributes=function(e){for(var t,i=e?(0,A.le)(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["step","disabled","readonly","style","name","value","min","max","placeholder"],n=0;n<i.length;n++){var r=i[n];if(!(0,A.le)(this.inputElement.getAttribute(r)))switch(r){case"disabled":if((0,A.le)(this.timeOptions)||void 0===this.timeOptions.enabled||e){var a="disabled"!==this.inputElement.getAttribute(r)&&""!==this.inputElement.getAttribute(r)&&"true"!==this.inputElement.getAttribute(r);this.setProperties({enabled:a},!e)}break;case"style":this.inputStyle=this.inputElement.getAttribute(r);break;case"readonly":if((0,A.le)(this.timeOptions)||void 0===this.timeOptions.readonly||e){var s="readonly"===this.inputElement.getAttribute(r)||""===this.inputElement.getAttribute(r)||"true"===this.inputElement.getAttribute(r);this.setProperties({readonly:s},!e)}break;case"name":this.inputElement.setAttribute("name",this.inputElement.getAttribute(r));break;case"step":this.step=parseInt(this.inputElement.getAttribute(r),10);break;case"placeholder":((0,A.le)(this.timeOptions)||void 0===this.timeOptions.placeholder||e)&&this.setProperties({placeholder:this.inputElement.getAttribute(r)},!e);break;case"min":((0,A.le)(this.timeOptions)||void 0===this.timeOptions.min||e)&&(t=new Date(this.inputElement.getAttribute(r)),(0,A.le)(this.checkDateValue(t))||this.setProperties({min:t},!e));break;case"max":((0,A.le)(this.timeOptions)||void 0===this.timeOptions.max||e)&&(t=new Date(this.inputElement.getAttribute(r)),(0,A.le)(this.checkDateValue(t))||this.setProperties({max:t},!e));break;case"value":((0,A.le)(this.timeOptions)||void 0===this.timeOptions.value||e)&&(t=new Date(this.inputElement.getAttribute(r)),(0,A.le)(this.checkDateValue(t))||(this.initValue=t,this.updateInput(!1,this.initValue),this.setProperties({value:t},!e)))}}},t.prototype.setCurrentDate=function(e){return(0,A.le)(this.checkDateValue(e))?null:new Date(t8,t5,t6,e.getHours(),e.getMinutes(),e.getSeconds())},t.prototype.getTextFormat=function(){var e=0;if("a"===this.cldrTimeFormat().split(" ")[0]||0===this.cldrTimeFormat().indexOf("a"))e=1;else if(0>this.cldrTimeFormat().indexOf("a")){for(var t=this.cldrTimeFormat().split(" "),i=0;i<t.length;i++)if(t[i].toLowerCase().indexOf("h")>=0){e=i;break}}return e},t.prototype.updateValue=function(e,t){var i;if(this.isNullOrEmpty(e))this.resetState();else if(i=this.checkValue(e),this.strictMode){var n=null===i&&e.trim().length>0?this.previousState(this.prevDate):this.inputElement.value;this.updateInputValue(n),this.enableMask&&(n||this.updateInputValue(this.maskedDateValue),(0,A.le)(i)&&e!==this.maskedDateValue&&this.createMask(),(0,A.le)(i)&&e===this.maskedDateValue&&this.updateInputValue(this.maskedDateValue))}this.checkValueChange(t,"string"!=typeof e)},t.prototype.previousState=function(e){for(var t=this.getDateObject(e),i=0;i<this.timeCollections.length;i++)if(+t===this.timeCollections[i]){this.activeIndex=i,this.selectedElement=this.liCollections[i],this.valueWithMinutes=new Date(this.timeCollections[i]);break}return this.prevValue},t.prototype.resetState=function(){this.removeSelection(),tD.I.setValue("",this.inputElement,this.floatLabelType,!1),this.valueWithMinutes=this.activeIndex=null,this.strictMode||this.checkErrorState(null)},t.prototype.objToString=function(e){return(0,A.le)(this.checkDateValue(e))?null:this.globalize.formatDate(e,{format:this.cldrTimeFormat(),type:"time"})},t.prototype.checkValue=function(e){if(!this.isNullOrEmpty(e)){var t=e instanceof Date?e:this.getDateObject(e);return this.validateValue(t,e)}return this.resetState(),this.valueWithMinutes=null},t.prototype.validateValue=function(e,t){var i,n=this.validateMinMax(t,this.min,this.max),r=this.createDateObj(n);if(this.getFormattedValue(r)!==this.getFormattedValue(this.value)?this.valueWithMinutes=(0,A.le)(r)?null:r:(this.strictMode&&(e=r),this.valueWithMinutes=this.checkDateValue(e)),i=this.objToString(this.valueWithMinutes),!this.strictMode&&(0,A.le)(i)){var a=n.trim().length>0?n:"";this.updateInputValue(a),this.enableMask&&!a&&this.updateInputValue(this.maskedDateValue)}else this.updateInputValue(i),this.enableMask&&(""===i&&this.updateInputValue(this.maskedDateValue),(0,A.le)(i)&&t!==this.maskedDateValue&&this.createMask(),(0,A.le)(i)&&t===this.maskedDateValue&&this.updateInputValue(this.maskedDateValue));return i},t.prototype.createMask=function(){this.notify("createMask",{module:"MaskedDateTime"})},t.prototype.findNextElement=function(e){var t=this.inputElement.value,i=(0,A.le)(this.valueWithMinutes)?this.createDateObj(t):this.getDateObject(this.valueWithMinutes),n=null,r=this.liCollections.length,a=this.timeCollections;if((0,A.le)(this.checkDateValue(i))&&(0,A.le)(this.activeIndex))this.selectNextItem(e);else{if("home"===e.action){var s=this.validLiElement(0);n=+this.createDateObj(new Date(this.timeCollections[s])),this.activeIndex=s}else if("end"===e.action){var s=this.validLiElement(a.length-1,!0);n=+this.createDateObj(new Date(this.timeCollections[s])),this.activeIndex=s}else if("down"===e.action)for(var o=0;o<r;o++){if(+i<this.timeCollections[o]){var s=this.validLiElement(o);n=+this.createDateObj(new Date(this.timeCollections[s])),this.activeIndex=s;break}if(o===r-1){var s=this.validLiElement(0);n=+this.createDateObj(new Date(this.timeCollections[s])),this.activeIndex=s;break}}else for(var o=r-1;o>=0;o--){if(+i>this.timeCollections[o]){var s=this.validLiElement(o,!0);n=+this.createDateObj(new Date(this.timeCollections[s])),this.activeIndex=s;break}if(0===o){var s=this.validLiElement(r-1);n=+this.createDateObj(new Date(this.timeCollections[s])),this.activeIndex=s;break}}this.selectedElement=this.liCollections[this.activeIndex],this.elementValue((0,A.le)(n)?null:new Date(n))}},t.prototype.selectNextItem=function(e){var t=this.validLiElement(0,"down"!==e.action);this.activeIndex=t,this.selectedElement=this.liCollections[t],this.elementValue(new Date(this.timeCollections[t]))},t.prototype.elementValue=function(e){(0,A.le)(this.checkDateValue(e))||this.checkValue(e)},t.prototype.validLiElement=function(e,t){var i=null,n=(0,A.le)(this.popupWrapper)?this.liCollections:this.popupWrapper.querySelectorAll("."+io),r=!0;if(n.length){if(t)for(var a=e;a>=0;a--)if(n[a].classList.contains(ia))0===a&&r&&(e=a=n.length,r=!1);else{i=a;break}else for(var a=e;a<=n.length-1;a++)if(n[a].classList.contains(ia))a===n.length-1&&r&&(e=a=-1,r=!1);else{i=a;break}}return i},t.prototype.keyHandler=function(e){if(!((0,A.le)(this.step)||this.step<=0||!(0,A.le)(this.inputWrapper)&&this.inputWrapper.buttons[0].classList.contains(ia))){var t=this.timeCollections.length;if((0,A.le)(this.getActiveElement())||0===this.getActiveElement().length){if(this.liCollections.length>0){if((0,A.le)(this.value)&&(0,A.le)(this.activeIndex)){var i=this.validLiElement(0,"down"!==e.action);this.activeIndex=i,this.selectedElement=this.liCollections[i],this.elementValue(new Date(this.timeCollections[i]))}else this.findNextElement(e)}else this.findNextElement(e)}else{var n=void 0;if(e.keyCode>=37&&e.keyCode<=40){var i=40===e.keyCode||39===e.keyCode?++this.activeIndex:--this.activeIndex;this.activeIndex=i=this.activeIndex===t?0:this.activeIndex,this.activeIndex=i=this.activeIndex<0?t-1:this.activeIndex,this.activeIndex=i=this.validLiElement(this.activeIndex,40!==e.keyCode&&39!==e.keyCode),n=(0,A.le)(this.timeCollections[i])?this.timeCollections[0]:this.timeCollections[i]}else if("home"===e.action){var i=this.validLiElement(0);this.activeIndex=i,n=this.timeCollections[i]}else if("end"===e.action){var i=this.validLiElement(t-1,!0);this.activeIndex=i,n=this.timeCollections[i]}this.selectedElement=this.liCollections[this.activeIndex],this.elementValue(new Date(n))}this.isNavigate=!0,this.setHover(this.selectedElement,ir),this.setActiveDescendant(),this.enableMask&&this.selectInputText(),this.isPopupOpen()&&null!==this.selectedElement&&(!e||"click"!==e.type)&&this.setScrollPosition()}},t.prototype.getCultureTimeObject=function(e,t){return(0,A.NA)("main."+t+".dates.calendars.gregorian.timeFormats.short",e)},t.prototype.getCultureDateObject=function(e,t){return(0,A.NA)("main."+t+".dates.calendars.gregorian.dateFormats.short",e)},t.prototype.wireListEvents=function(){A.bi.add(this.listWrapper,"click",this.onMouseClick,this),A.AR.isDevice||(A.bi.add(this.listWrapper,"mouseover",this.onMouseOver,this),A.bi.add(this.listWrapper,"mouseout",this.onMouseLeave,this))},t.prototype.unWireListEvents=function(){this.listWrapper&&(A.bi.remove(this.listWrapper,"click",this.onMouseClick),A.AR.isDevice||(A.bi.remove(this.listWrapper,"mouseover",this.onMouseOver),A.bi.remove(this.listWrapper,"mouseout",this.onMouseLeave)))},t.prototype.valueProcess=function(e,t){var i=(0,A.le)(this.checkDateValue(t))?null:t;+this.prevDate!=+i&&(this.initValue=i,this.changeEvent(e))},t.prototype.changeEvent=function(e){this.addSelection(),this.updateInput(!0,this.initValue);var t={event:e||null,value:this.value,text:this.inputElement.value,isInteracted:!(0,A.le)(e),element:this.element};t.value=this.valueWithMinutes||this.getDateObject(this.inputElement.value),this.prevDate=this.valueWithMinutes||this.getDateObject(this.inputElement.value),this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",t),this.invalidValueString=null,this.checkErrorState(this.value)},t.prototype.updateInput=function(e,t){e&&(this.prevValue=this.getValue(t)),this.prevDate=this.valueWithMinutes=t,("number"!=typeof t||(this.value&&+new Date(+this.value).setMilliseconds(0))!==+t)&&(this.setProperties({value:t},!0),this.enableMask&&this.value&&this.createMask()),!this.strictMode&&(0,A.le)(this.value)&&this.invalidValueString&&(this.checkErrorState(this.invalidValueString),this.updateInputValue(this.invalidValueString)),this.clearIconState()},t.prototype.setActiveDescendant=function(){!(0,A.le)(this.selectedElement)&&this.value?(0,A.Y4)(this.inputElement,{"aria-activedescendant":this.selectedElement.getAttribute("id")}):this.inputElement.removeAttribute("aria-activedescendant")},t.prototype.removeSelection=function(){if(this.removeHover(ii),!(0,A.le)(this.popupWrapper)){var e=this.popupWrapper.querySelectorAll("."+it);e.length&&((0,A.IV)(e,it),e[0].removeAttribute("aria-selected"))}},t.prototype.removeHover=function(e){var t=this.getHoverItem(e);t&&t.length&&((0,A.IV)(t,e),e===ir&&t[0].removeAttribute("aria-selected"))},t.prototype.getHoverItem=function(e){var t;return(0,A.le)(this.popupWrapper)||(t=this.popupWrapper.querySelectorAll("."+e)),t},t.prototype.setActiveClass=function(){if(!(0,A.le)(this.popupWrapper)){var e=this.popupWrapper.querySelectorAll("."+io);if(e.length){for(var t=0;t<e.length;t++)if(this.timeCollections[t]===+this.getDateObject(this.valueWithMinutes)){e[t].setAttribute("aria-selected","true"),this.selectedElement=e[t],this.activeIndex=t;break}}}},t.prototype.addSelection=function(){this.selectedElement=null,this.removeSelection(),this.setActiveClass(),(0,A.le)(this.selectedElement)||((0,A.cn)([this.selectedElement],it),this.selectedElement.setAttribute("aria-selected","true"))},t.prototype.isValidLI=function(e){return e&&e.classList.contains(io)&&!e.classList.contains(ia)},t.prototype.createDateObj=function(e){var t=this.globalize.formatDate(new Date,{format:null,skeleton:"short",type:"date"}),i=null;return"string"==typeof e?e.toUpperCase().indexOf("AM")>-1||e.toUpperCase().indexOf("PM")>-1?(t=this.defaultCulture.formatDate(new Date,{format:null,skeleton:"short",type:"date"}),i=isNaN(+new Date(t+" "+e))?null:new Date(new Date(t+" "+e).setMilliseconds(0)),(0,A.le)(i)&&(i=this.timeParse(t,e))):i=this.timeParse(t,e):e instanceof Date&&(i=e),i},t.prototype.timeParse=function(e,t){var i;return i=this.globalize.parseDate(e+" "+t,{format:this.cldrDateFormat()+" "+this.cldrTimeFormat(),type:"datetime"}),i=(0,A.le)(i)?this.globalize.parseDate(e+" "+t,{format:this.cldrDateFormat()+" "+this.dateToNumeric(),type:"datetime"}):i,i=(0,A.le)(i)?i:new Date(i.setMilliseconds(0))},t.prototype.createListItems=function(){var e,t=this;this.listWrapper=this.createElement("div",{className:"e-content",attrs:{tabindex:"-1"}});var i=6e4*this.step,n=[];this.timeCollections=[],this.disableItemCollection=[],e=+this.getDateObject(this.initMin).setMilliseconds(0);for(var r=+this.getDateObject(this.initMax).setMilliseconds(0);r>=e;)this.timeCollections.push(e),n.push(this.globalize.formatDate(new Date(e),{format:this.cldrTimeFormat(),type:"time"})),e+=i;this.listTag=t9.Kh.createList(this.createElement,n,{itemCreated:function(e){var i={element:e.item,text:e.text,value:t.getDateObject(e.text),isDisabled:!1};t.trigger("itemRender",i,function(e){e.isDisabled&&e.element.classList.add(ia),e.element.classList.contains(ia)&&t.disableItemCollection.push(e.element.getAttribute("data-value"))})}},!0),(0,A.Y4)(this.listTag,{role:"listbox","aria-hidden":"false",id:this.element.id+"_options",tabindex:"0"}),(0,A.R3)([this.listTag],this.listWrapper)},t.prototype.documentClickHandler=function(e){var t=e.target;!(0,A.le)(this.popupObj)&&!(0,A.le)(this.inputWrapper)&&(this.inputWrapper.container.contains(t)&&"mousedown"!==e.type||this.popupObj.element&&this.popupObj.element.contains(t))&&"touchstart"!==e.type&&e.preventDefault(),(0,A.oq)(t,'[id="'+this.popupObj.element.id+'"]')||t===this.inputElement||t===(this.inputWrapper&&this.inputWrapper.buttons[0])||t===(this.inputWrapper&&this.inputWrapper.clearButton)||t===(this.inputWrapper&&this.inputWrapper.container)?t===this.inputElement||A.AR.isDevice||(this.isPreventBlur=(A.AR.isIE||"edge"===A.AR.info.name)&&document.activeElement===this.inputElement&&t===this.popupWrapper):this.isPopupOpen()&&(this.hide(),this.focusOut())},t.prototype.setEnableRtl=function(){tD.I.setEnableRtl(this.enableRtl,[this.inputWrapper.container]),this.popupObj&&(this.popupObj.enableRtl=this.enableRtl,this.popupObj.dataBind())},t.prototype.setEnable=function(){tD.I.setEnabled(this.enabled,this.inputElement,this.floatLabelType),this.enabled?((0,A.IV)([this.inputWrapper.container],ia),(0,A.Y4)(this.inputElement,{"aria-disabled":"false"}),this.inputElement.setAttribute("tabindex",this.tabIndex)):(this.hide(),(0,A.cn)([this.inputWrapper.container],ia),(0,A.Y4)(this.inputElement,{"aria-disabled":"true"}),this.inputElement.tabIndex=-1)},t.prototype.getProperty=function(e,t){"min"===t?(this.initMin=this.checkDateValue(new Date(this.checkInValue(e.min))),this.setProperties({min:this.initMin},!0)):(this.initMax=this.checkDateValue(new Date(this.checkInValue(e.max))),this.setProperties({max:this.initMax},!0)),""===this.inputElement.value?this.validateMinMax(this.value,this.min,this.max):this.checkValue(this.inputElement.value),this.checkValueChange(null,!1)},t.prototype.inputBlurHandler=function(e){if(this.enabled){if(this.isPreventBlur&&this.isPopupOpen()){this.inputElement.focus();return}this.closePopup(0,e),this.enableMask&&this.maskedDateValue&&this.placeholder&&"Always"!==this.floatLabelType&&this.inputElement.value===this.maskedDateValue&&!this.value&&("Auto"===this.floatLabelType||"Never"===this.floatLabelType||this.placeholder)&&this.updateInputValue(""),(0,A.IV)([this.inputWrapper.container],[is]),this.trigger("blur",{model:this}),this.getText()!==this.inputElement.value?this.updateValue(this.inputElement.value,e):0===this.inputElement.value.trim().length&&this.resetState(),this.cursorDetails=null,this.isNavigate=!1,""===this.inputElement.value&&(this.invalidValueString=null)}},t.prototype.focusOut=function(){document.activeElement===this.inputElement&&(this.inputElement.blur(),(0,A.IV)([this.inputWrapper.container],[is]),this.trigger("blur",{model:this}))},t.prototype.isPopupOpen=function(){return!!(this.popupWrapper&&this.popupWrapper.classList.contains(""+ie))},t.prototype.inputFocusHandler=function(){this.enabled&&(this.readonly||A.AR.isDevice||this.enableMask||this.selectInputText(),this.enableMask&&!this.inputElement.value&&this.placeholder&&this.maskedDateValue&&!this.value&&("Auto"===this.floatLabelType||"Never"===this.floatLabelType||this.placeholder)&&(this.updateInputValue(this.maskedDateValue),this.inputElement.selectionStart=0,this.inputElement.selectionEnd=this.inputElement.value.length),this.trigger("focus",{model:this}),this.clearIconState(),this.openOnFocus&&this.show())},t.prototype.focusIn=function(){document.activeElement!==this.inputElement&&this.enabled&&this.inputElement.focus()},t.prototype.hide=function(){this.closePopup(100,null),this.clearIconState()},t.prototype.show=function(e){var t=this;if((!this.enabled||!this.readonly)&&this.enabled&&!this.popupWrapper){this.popupCreation(),A.AR.isDevice&&this.listWrapper&&(this.modal=this.createElement("div"),this.modal.className=""+ie+" e-time-modal",document.body.className+=" "+il,document.body.appendChild(this.modal)),A.AR.isDevice&&(this.mobileTimePopupWrap=this.createElement("div",{className:"e-timepicker-mob-popup-wrap"}),document.body.appendChild(this.mobileTimePopupWrap)),this.openPopupEventArgs={popup:this.popupObj||null,cancel:!1,event:e||null,name:"open",appendTo:A.AR.isDevice?this.mobileTimePopupWrap:document.body};var i=this.openPopupEventArgs;this.trigger("open",i,function(e){if(t.openPopupEventArgs=e,t.openPopupEventArgs.cancel||t.inputWrapper.buttons[0].classList.contains(ia))t.popupObj.destroy(),t.popupWrapper=t.listTag=void 0,t.liCollections=t.timeCollections=t.disableItemCollection=[],t.popupObj=null;else{t.openPopupEventArgs.appendTo.appendChild(t.popupWrapper),t.popupAlignment(t.openPopupEventArgs),t.setScrollPosition(),A.AR.isDevice||t.inputElement.focus();var i={name:"FadeIn",duration:50};t.popupObj.refreshPosition(t.anchor),1e3===t.zIndex?t.popupObj.show(new A.fw(i),t.element):t.popupObj.show(new A.fw(i),null),t.setActiveDescendant(),(0,A.Y4)(t.inputElement,{"aria-expanded":"true"}),(0,A.Y4)(t.inputElement,{"aria-owns":t.inputElement.id+"_options"}),(0,A.cn)([t.inputWrapper.container],is),A.bi.add(document,"mousedown touchstart",t.documentClickHandler,t),t.setOverlayIndex(t.mobileTimePopupWrap,t.popupObj.element,t.modal,A.AR.isDevice)}})}},t.prototype.setOverlayIndex=function(e,t,i,n){if(n&&!(0,A.le)(t)&&!(0,A.le)(i)&&!(0,A.le)(e)){var r=parseInt(t.style.zIndex,10)?parseInt(t.style.zIndex,10):1e3;i.style.zIndex=(r-1).toString(),e.style.zIndex=r.toString()}},t.prototype.formatValues=function(e){var t;return"number"==typeof e?t=(0,A.Ac)(e):"string"==typeof e&&(t=e.match(/px|%|em/)?e:isNaN(parseInt(e,10))?e:(0,A.Ac)(e)),t},t.prototype.popupAlignment=function(e){if(e.popup.position.X=this.formatValues(e.popup.position.X),e.popup.position.Y=this.formatValues(e.popup.position.Y),isNaN(parseFloat(e.popup.position.X))&&isNaN(parseFloat(e.popup.position.Y))||(this.popupObj.relateTo=this.anchor=document.body,this.popupObj.targetType="container"),isNaN(parseFloat(e.popup.position.X))||(this.popupObj.offsetX=parseFloat(e.popup.position.X)),isNaN(parseFloat(e.popup.position.Y))||(this.popupObj.offsetY=parseFloat(e.popup.position.Y)),A.AR.isDevice)"center"===e.popup.position.X&&"center"===e.popup.position.Y&&(this.popupObj.relateTo=this.anchor=document.body,this.popupObj.offsetY=0,this.popupObj.targetType="container",this.popupObj.collision={X:"fit",Y:"fit"});else{switch(e.popup.position.X){case"left":break;case"right":e.popup.offsetX=this.containerStyle.width;break;case"center":e.popup.offsetX=-(this.containerStyle.width/2)}switch(e.popup.position.Y){case"top":case"bottom":break;case"center":e.popup.offsetY=-(this.containerStyle.height/2)}"center"===e.popup.position.X&&"center"===e.popup.position.Y&&(this.popupObj.relateTo=this.inputWrapper.container,this.anchor=this.inputElement,this.popupObj.targetType="relative")}},t.prototype.getPersistData=function(){return this.addOnPersist(["value"])},t.prototype.getModuleName=function(){return"timepicker"},t.prototype.onPropertyChanged=function(e,t){for(var i=0,n=Object.keys(e);i<n.length;i++){var r=n[i];switch(r){case"placeholder":tD.I.setPlaceholder(e.placeholder,this.inputElement);break;case"readonly":tD.I.setReadonly(this.readonly,this.inputElement,this.floatLabelType),this.readonly&&this.hide(),this.setTimeAllowEdit();break;case"enabled":this.setProperties({enabled:e.enabled},!0),this.setEnable();break;case"allowEdit":this.setTimeAllowEdit();break;case"enableRtl":this.setProperties({enableRtl:e.enableRtl},!0),this.setEnableRtl();break;case"cssClass":this.updateCssClass(e.cssClass,t.cssClass);break;case"zIndex":this.setProperties({zIndex:e.zIndex},!0),this.setZIndex();break;case"htmlAttributes":this.updateHtmlAttributeToElement(),this.updateHtmlAttributeToWrapper(),this.checkAttributes(!0);break;case"min":case"max":this.getProperty(e,r);break;case"showClearButton":tD.I.setClearButton(this.showClearButton,this.inputElement,this.inputWrapper),this.bindClearEvent();break;case"locale":this.setProperties({locale:e.locale},!0),this.globalize=new A.eC(this.locale),this.l10n.setLocale(this.locale),this.updatePlaceHolder(),this.setValue(this.value),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"});break;case"width":(0,A.V7)(this.inputWrapper.container,{width:this.setWidth(e.width)}),this.containerStyle=this.inputWrapper.container.getBoundingClientRect(),tD.I.calculateWidth(this.inputElement,this.inputWrapper.container),(0,A.le)(this.inputWrapper.buttons[0])||(0,A.le)(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])||"Never"===this.floatLabelType||this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon");break;case"format":this.setProperties({format:e.format},!0),this.checkTimeFormat(),this.setValue(this.value),this.enableMask&&(this.createMask(),this.value||this.updateInputValue(this.maskedDateValue));break;case"value":this.invalidValueString=null,this.checkInvalidValue(e.value),e.value=this.value,this.invalidValueString?(this.updateInputValue(this.invalidValueString),this.checkErrorState(this.invalidValueString)):("string"==typeof e.value?(this.setProperties({value:this.checkDateValue(new Date(e.value))},!0),e.value=this.value):(e.value&&+new Date(+e.value).setMilliseconds(0))!==+this.value&&(e.value=this.checkDateValue(new Date(""+e.value))),this.initValue=e.value,e.value=this.compareFormatChange(this.checkValue(e.value))),this.enableMask&&(0,A.le)(e.value)&&(this.updateInputValue(this.maskedDateValue),this.checkErrorState(this.maskedDateValue)),this.checkValueChange(null,!1),this.isPopupOpen()&&this.setScrollPosition(),this.isAngular&&this.preventChange&&(this.preventChange=!1),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"});break;case"floatLabelType":this.floatLabelType=e.floatLabelType,tD.I.removeFloating(this.inputWrapper),tD.I.addFloating(this.inputElement,this.floatLabelType,this.placeholder),(0,A.le)(this.inputWrapper.buttons[0])||(0,A.le)(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])||"Never"===this.floatLabelType||this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon");break;case"strictMode":this.invalidValueString=null,e.strictMode&&this.checkErrorState(null),this.setProperties({strictMode:e.strictMode},!0),this.checkValue(this.inputElement.value),this.checkValueChange(null,!1);break;case"scrollTo":this.checkDateValue(new Date(this.checkInValue(e.scrollTo)))?(this.popupWrapper&&this.setScrollTo(),this.setProperties({scrollTo:this.checkDateValue(new Date(this.checkInValue(e.scrollTo)))},!0)):this.setProperties({scrollTo:null},!0);break;case"enableMask":this.enableMask?(this.notify("createMask",{module:"MaskedDateTime"}),this.updateInputValue(this.maskedDateValue)):this.inputElement.value===this.maskedDateValue&&this.updateInputValue("")}}},t.prototype.checkInValue=function(e){return e instanceof Date?e.toUTCString():""+e},t2([(0,A.Z9)(null)],t.prototype,"width",void 0),t2([(0,A.Z9)(null)],t.prototype,"cssClass",void 0),t2([(0,A.Z9)(!1)],t.prototype,"strictMode",void 0),t2([(0,A.Z9)(null)],t.prototype,"keyConfigs",void 0),t2([(0,A.Z9)(null)],t.prototype,"format",void 0),t2([(0,A.Z9)(!0)],t.prototype,"enabled",void 0),t2([(0,A.Z9)(!1)],t.prototype,"fullScreenMode",void 0),t2([(0,A.Z9)(!1)],t.prototype,"readonly",void 0),t2([(0,A.Z9)({})],t.prototype,"htmlAttributes",void 0),t2([(0,A.Z9)("Never")],t.prototype,"floatLabelType",void 0),t2([(0,A.Z9)(null)],t.prototype,"placeholder",void 0),t2([(0,A.Z9)(1e3)],t.prototype,"zIndex",void 0),t2([(0,A.Z9)(!1)],t.prototype,"enablePersistence",void 0),t2([(0,A.Z9)(!0)],t.prototype,"showClearButton",void 0),t2([(0,A.Z9)(30)],t.prototype,"step",void 0),t2([(0,A.Z9)(null)],t.prototype,"scrollTo",void 0),t2([(0,A.Z9)(null)],t.prototype,"value",void 0),t2([(0,A.Z9)(null)],t.prototype,"min",void 0),t2([(0,A.Z9)(null)],t.prototype,"max",void 0),t2([(0,A.Z9)(!0)],t.prototype,"allowEdit",void 0),t2([(0,A.Z9)(!1)],t.prototype,"openOnFocus",void 0),t2([(0,A.Z9)(!1)],t.prototype,"enableMask",void 0),t2([(0,A.Z9)({day:"day",month:"month",year:"year",hour:"hour",minute:"minute",second:"second",dayOfTheWeek:"day of the week"})],t.prototype,"maskPlaceholder",void 0),t2([(0,A.Z9)(null)],t.prototype,"serverTimezoneOffset",void 0),t2([(0,A.ju)()],t.prototype,"change",void 0),t2([(0,A.ju)()],t.prototype,"created",void 0),t2([(0,A.ju)()],t.prototype,"destroyed",void 0),t2([(0,A.ju)()],t.prototype,"open",void 0),t2([(0,A.ju)()],t.prototype,"itemRender",void 0),t2([(0,A.ju)()],t.prototype,"close",void 0),t2([(0,A.ju)()],t.prototype,"cleared",void 0),t2([(0,A.ju)()],t.prototype,"blur",void 0),t2([(0,A.ju)()],t.prototype,"focus",void 0),t=t2([A.Zl],t)}(A.wA);var ic=(c=function(e,t){return(c=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),iu=function(e,t,i,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},id=new Date().getDate(),im=new Date().getMonth(),iv=new Date().getFullYear(),ig=new Date().getHours(),iy=new Date().getMinutes(),ib=new Date().getSeconds(),iT=new Date().getMilliseconds(),iD="e-datetimepicker",iw="e-datetimepopup-wrapper",iC="e-popup",iS="e-input-focus",iE="250px",ik="e-icon-anim",iA="e-disabled",iV="e-error",iM="e-active",ix="e-hover",iI="e-list-item",iO="e-time-overflow",iR=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.valueWithMinutes=null,n.scrollInvoked=!1,n.moduleName=n.getModuleName(),n.dateTimeOptions=t,n}return ic(t,e),t.prototype.focusHandler=function(){this.enabled&&(0,A.cn)([this.inputWrapper.container],iS)},t.prototype.focusIn=function(){e.prototype.focusIn.call(this)},t.prototype.focusOut=function(){document.activeElement===this.inputElement&&(this.inputElement.blur(),(0,A.IV)([this.inputWrapper.container],[iS]))},t.prototype.blurHandler=function(e){if(this.enabled){if(this.isTimePopupOpen()&&this.isPreventBlur){this.inputElement.focus();return}(0,A.IV)([this.inputWrapper.container],iS),this.isTimePopupOpen()&&this.hide(e),this.trigger("blur",{model:this})}},t.prototype.destroy=function(){this.popupObject&&this.popupObject.element.classList.contains(iC)&&(this.popupObject.destroy(),(0,A.og)(this.dateTimeWrapper),this.dateTimeWrapper=void 0,this.liCollections=this.timeCollections=[],(0,A.le)(this.rippleFn)||this.rippleFn()),this.inputElement&&tD.I.removeAttributes({"aria-live":"assertive","aria-atomic":"true","aria-invalid":"false",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-expanded":"false",role:"combobox",autocomplete:"off"},this.inputElement),this.isCalendar()&&(this.popupWrapper&&(0,A.og)(this.popupWrapper),this.popupObject=this.popupWrapper=null,this.keyboardHandler.destroy()),this.unBindInputEvents(),this.liCollections=null,this.rippleFn=null,this.selectedElement=null,this.listTag=null,this.timeIcon=null,this.popupObject=null,this.preventArgs=null,this.keyboardModule=null,e.prototype.destroy.call(this)},t.prototype.render=function(){this.timekeyConfigure={enter:"enter",escape:"escape",end:"end",tab:"tab",home:"home",down:"downarrow",up:"uparrow",left:"leftarrow",right:"rightarrow",open:"alt+downarrow",close:"alt+uparrow"},this.valueWithMinutes=null,this.previousDateTime=null,this.isPreventBlur=!1,this.cloneElement=this.element.cloneNode(!0),this.dateTimeFormat=this.cldrDateTimeFormat(),this.initValue=this.value,!(0,A.le)((0,A.oq)(this.element,"fieldset"))&&(0,A.oq)(this.element,"fieldset").disabled&&(this.enabled=!1),e.prototype.updateHtmlAttributeToElement.call(this),this.checkAttributes(!1);var t={placeholder:this.placeholder};this.l10n=new A.E7("datetimepicker",t,this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),e.prototype.render.call(this),this.createInputElement(),e.prototype.updateHtmlAttributeToWrapper.call(this),this.bindInputEvents(),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"}),this.setValue(!0),!this.enableMask||this.value||!this.maskedDateValue||"Always"!==this.floatLabelType&&this.floatLabelType&&this.placeholder||tD.I.setValue(this.maskedDateValue,this.inputElement,this.floatLabelType,this.showClearButton),this.setProperties({scrollTo:this.checkDateValue(new Date(this.checkValue(this.scrollTo)))},!0),this.previousDateTime=this.value&&new Date(+this.value),"EJS-DATETIMEPICKER"!==this.element.tagName||(this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),this.enabled||(this.inputElement.tabIndex=-1)),"Auto"===this.floatLabelType&&tD.I.calculateWidth(this.inputElement,this.inputWrapper.container),(0,A.le)(this.inputWrapper.buttons[0])||(0,A.le)(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])||"Never"===this.floatLabelType||this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-date-time-icon"),this.renderComplete()},t.prototype.setValue=function(t){if(void 0===t&&(t=!1),this.initValue=this.validateMinMaxRange(this.value),!this.strictMode&&this.isDateObject(this.initValue)){var i=this.validateMinMaxRange(this.initValue);tD.I.setValue(this.getFormattedValue(i),this.inputElement,this.floatLabelType,this.showClearButton),this.setProperties({value:i},!0)}else(0,A.le)(this.value)&&(this.initValue=null,this.setProperties({value:null},!0));this.valueWithMinutes=this.value,e.prototype.updateInput.call(this,t)},t.prototype.validateMinMaxRange=function(e){var t=e;return this.isDateObject(e)?t=this.validateValue(e):+this.min>+this.max&&this.disablePopupButton(!0),this.checkValidState(t),t},t.prototype.checkValidState=function(e){this.isValidState=!0,!this.strictMode&&(+e>+this.max||+e<+this.min)&&(this.isValidState=!1),this.checkErrorState()},t.prototype.checkErrorState=function(){this.isValidState?(0,A.IV)([this.inputWrapper.container],iV):(0,A.cn)([this.inputWrapper.container],iV),(0,A.Y4)(this.inputElement,{"aria-invalid":this.isValidState?"false":"true"})},t.prototype.validateValue=function(e){var t=e;return this.strictMode?+this.min>+this.max?(this.disablePopupButton(!0),t=this.max):+e<+this.min?t=this.min:+e>+this.max&&(t=this.max):+this.min>+this.max&&(this.disablePopupButton(!0),t=e),t},t.prototype.disablePopupButton=function(e){e?((0,A.cn)([this.inputWrapper.buttons[0],this.timeIcon],iA),this.hide()):(0,A.IV)([this.inputWrapper.buttons[0],this.timeIcon],iA)},t.prototype.getFormattedValue=function(e){var t;return(0,A.le)(e)?null:(t="Gregorian"===this.calendarMode?{format:this.cldrDateTimeFormat(),type:"dateTime",skeleton:"yMd"}:{format:this.cldrDateTimeFormat(),type:"dateTime",skeleton:"yMd",calendar:"islamic"},this.globalize.formatDate(e,t))},t.prototype.isDateObject=function(e){return!((0,A.le)(e)||isNaN(+e))},t.prototype.createInputElement=function(){(0,A.IV)([this.inputElement],"e-datepicker"),(0,A.IV)([this.inputWrapper.container],"e-date-wrapper"),(0,A.cn)([this.inputWrapper.container],"e-datetime-wrapper"),(0,A.cn)([this.inputElement],iD),this.renderTimeIcon()},t.prototype.renderTimeIcon=function(){this.timeIcon=tD.I.appendSpan("e-input-group-icon e-time-icon e-icons",this.inputWrapper.container)},t.prototype.bindInputEvents=function(){A.bi.add(this.timeIcon,"mousedown",this.timeHandler,this),A.bi.add(this.inputWrapper.buttons[0],"mousedown",this.dateHandler,this),A.bi.add(this.inputElement,"blur",this.blurHandler,this),A.bi.add(this.inputElement,"focus",this.focusHandler,this),this.defaultKeyConfigs=(0,A.l7)(this.defaultKeyConfigs,this.keyConfigs),this.keyboardHandler=new A.nv(this.inputElement,{eventName:"keydown",keyAction:this.inputKeyAction.bind(this),keyConfigs:this.defaultKeyConfigs})},t.prototype.unBindInputEvents=function(){A.bi.remove(this.timeIcon,"mousedown touchstart",this.timeHandler),A.bi.remove(this.inputWrapper.buttons[0],"mousedown touchstart",this.dateHandler),this.inputElement&&(A.bi.remove(this.inputElement,"blur",this.blurHandler),A.bi.remove(this.inputElement,"focus",this.focusHandler)),this.keyboardHandler&&this.keyboardHandler.destroy()},t.prototype.cldrTimeFormat=function(){return this.isNullOrEmpty(this.timeFormat)?"en"===this.locale||"en-US"===this.locale?(0,A.NA)("timeFormats.short",(0,A.bD)()):this.getCultureTimeObject(A.qV,""+this.locale):this.timeFormat},t.prototype.cldrDateTimeFormat=function(){var e=new A.eC(this.locale).getDatePattern({skeleton:"yMd"});return this.isNullOrEmpty(this.formatString)?e+" "+this.getCldrFormat("time"):this.formatString},t.prototype.getCldrFormat=function(e){return"en"===this.locale||"en-US"===this.locale?(0,A.NA)("timeFormats.short",(0,A.bD)()):this.getCultureTimeObject(A.qV,""+this.locale)},t.prototype.isNullOrEmpty=function(e){return!!(0,A.le)(e)||"string"==typeof e&&""===e.trim()},t.prototype.getCultureTimeObject=function(e,t){return"Gregorian"===this.calendarMode?(0,A.NA)("main."+this.locale+".dates.calendars.gregorian.timeFormats.short",e):(0,A.NA)("main."+this.locale+".dates.calendars.islamic.timeFormats.short",e)},t.prototype.timeHandler=function(t){this.enabled&&(this.isIconClicked=!0,A.AR.isDevice&&this.inputElement.setAttribute("readonly",""),t.currentTarget===this.timeIcon&&t.preventDefault(),this.enabled&&!this.readonly&&(this.isDatePopupOpen()&&e.prototype.hide.call(this,t),this.isTimePopupOpen()?this.closePopup(t):(this.inputElement.focus(),this.popupCreation("time",t),(0,A.cn)([this.inputWrapper.container],[iS]))),this.isIconClicked=!1)},t.prototype.dateHandler=function(e){this.enabled&&(e.currentTarget===this.inputWrapper.buttons[0]&&e.preventDefault(),!this.enabled||this.readonly||(this.isTimePopupOpen()&&this.closePopup(e),(0,A.le)(this.popupWrapper)||this.popupCreation("date",e)))},t.prototype.show=function(t,i){(!this.enabled||!this.readonly)&&this.enabled&&("time"!==t||this.dateTimeWrapper?this.popupObj||(this.isTimePopupOpen()&&this.hide(i),e.prototype.show.call(this),this.popupCreation("date",i)):(this.isDatePopupOpen()&&this.hide(i),this.popupCreation("time",i)))},t.prototype.toggle=function(t){this.isDatePopupOpen()?(e.prototype.hide.call(this,t),this.show("time",null)):this.isTimePopupOpen()?(this.hide(t),e.prototype.show.call(this,null,t),this.popupCreation("date",null)):this.show(null,t)},t.prototype.listCreation=function(){e="Gregorian"===this.calendarMode?this.globalize.parseDate(this.inputElement.value,{format:this.cldrDateTimeFormat(),type:"datetime"}):this.globalize.parseDate(this.inputElement.value,{format:this.cldrDateTimeFormat(),type:"datetime",calendar:"islamic"});var e,t=(0,A.le)(this.value)?""!==this.inputElement.value?e:new Date:this.value;this.valueWithMinutes=t,this.listWrapper=(0,A.az)("div",{className:"e-content",attrs:{tabindex:"0"}});var i=this.startTime(t),n=this.endTime(t),r=E.createListItems(this.createElement,i,n,this.globalize,this.cldrTimeFormat(),this.step);this.timeCollections=r.collection,this.listTag=r.list,(0,A.Y4)(this.listTag,{role:"listbox","aria-hidden":"false",id:this.element.id+"_options"}),(0,A.R3)([r.list],this.listWrapper),this.wireTimeListEvents(),this.rippleFn=(0,A.qx)(this.listWrapper,{duration:300,selector:"."+iI}),this.liCollections=this.listWrapper.querySelectorAll("."+iI)},t.prototype.popupCreation=function(e,t){A.AR.isDevice&&this.element.setAttribute("readonly","readonly"),"date"===e?!this.readonly&&this.popupWrapper&&((0,A.cn)([this.popupWrapper],iw),(0,A.Y4)(this.popupWrapper,{id:this.element.id+"_datepopup"})):!this.readonly&&(this.dateTimeWrapper=(0,A.az)("div",{className:iD+" "+iC,attrs:{id:this.element.id+"_timepopup",style:"visibility:hidden ; display:block"}}),(0,A.le)(this.cssClass)||(this.dateTimeWrapper.className+=" "+this.cssClass),!(0,A.le)(this.step)&&this.step>0&&(this.listCreation(),(0,A.R3)([this.listWrapper],this.dateTimeWrapper)),document.body.appendChild(this.dateTimeWrapper),this.addTimeSelection(),this.renderPopup(),this.setTimeScrollPosition(),this.openPopup(t),A.AR.isDevice&&(!A.AR.isDevice||this.fullScreenMode)||this.popupObject.refreshPosition(this.inputElement),A.AR.isDevice&&this.fullScreenMode&&(this.dateTimeWrapper.style.left="0px"))},t.prototype.openPopup=function(e){var t=this;this.preventArgs={cancel:!1,popup:this.popupObject,event:e||null};var i=this.preventArgs;this.trigger("open",i,function(e){if(t.preventArgs=e,!t.preventArgs.cancel&&!t.readonly){var i={name:"FadeIn",duration:100};1e3===t.zIndex?t.popupObject.show(new A.fw(i),t.element):t.popupObject.show(new A.fw(i),null),(0,A.cn)([t.inputWrapper.container],[ik]),(0,A.Y4)(t.inputElement,{"aria-expanded":"true"}),(0,A.Y4)(t.inputElement,{"aria-owns":t.inputElement.id+"_options"}),A.bi.add(document,"mousedown touchstart",t.documentClickHandler,t)}})},t.prototype.documentClickHandler=function(e){var t=e.target;!(0,A.le)(this.popupObject)&&(this.inputWrapper.container.contains(t)&&"mousedown"!==e.type||this.popupObject.element&&this.popupObject.element.contains(t))&&"touchstart"!==e.type&&e.preventDefault(),(0,A.oq)(t,'[id="'+(this.popupObject&&this.popupObject.element.id+'"]'))||t===this.inputElement||t===this.timeIcon||(0,A.le)(this.inputWrapper)||t===this.inputWrapper.container?t===this.inputElement||A.AR.isDevice||(this.isPreventBlur=document.activeElement===this.inputElement&&(A.AR.isIE||"edge"===A.AR.info.name)&&t===this.popupObject.element):this.isTimePopupOpen()&&(this.hide(e),this.focusOut())},t.prototype.isTimePopupOpen=function(){return!!(this.dateTimeWrapper&&this.dateTimeWrapper.classList.contains(""+iD))},t.prototype.isDatePopupOpen=function(){return!!(this.popupWrapper&&this.popupWrapper.classList.contains(""+iw))},t.prototype.renderPopup=function(){var e=this;if(this.containerStyle=this.inputWrapper.container.getBoundingClientRect(),A.AR.isDevice&&(this.timeModal=(0,A.az)("div"),this.timeModal.className=""+iD+" e-time-modal",document.body.className+=" "+iO,this.timeModal.style.display="block",document.body.appendChild(this.timeModal)),this.popupObject=new M.GI(this.dateTimeWrapper,{width:this.setPopupWidth(),zIndex:this.zIndex,targetType:"container",collision:A.AR.isDevice?{X:"fit",Y:"fit"}:{X:"flip",Y:"flip"},relateTo:A.AR.isDevice?document.body:this.inputWrapper.container,position:A.AR.isDevice?{X:"center",Y:"center"}:{X:"left",Y:"bottom"},enableRtl:this.enableRtl,offsetY:4,open:function(){e.dateTimeWrapper.style.visibility="visible",(0,A.cn)([e.timeIcon],iM),A.AR.isDevice||(e.timekeyConfigure=(0,A.l7)(e.timekeyConfigure,e.keyConfigs),e.inputEvent=new A.nv(e.inputWrapper.container,{keyAction:e.timeKeyActionHandle.bind(e),keyConfigs:e.timekeyConfigure,eventName:"keydown"}))},close:function(){(0,A.IV)([e.timeIcon],iM),e.unWireTimeListEvents(),e.inputElement.removeAttribute("aria-activedescendant"),(0,A.Od)(e.popupObject.element),e.popupObject.destroy(),e.dateTimeWrapper.innerHTML="",e.listWrapper=e.dateTimeWrapper=void 0,e.inputEvent&&e.inputEvent.destroy()},targetExitViewport:function(){A.AR.isDevice||e.hide()}}),A.AR.isDevice&&this.fullScreenMode?(this.popupObject.element.style.display="flex",this.popupObject.element.style.maxHeight="100%",this.popupObject.element.style.width="100%"):this.popupObject.element.style.maxHeight=iE,A.AR.isDevice&&this.fullScreenMode){var t=(0,A.az)("div",{className:"e-datetime-mob-popup-wrap"}),i=this.createElement("div",{className:"e-model-header"}),n=this.createElement("span",{className:"e-model-title"});n.textContent="Select time";var r=this.createElement("span",{className:"e-popup-close"});A.bi.add(r,"mousedown touchstart",this.dateTimeCloseHandler,this);var a=this.dateTimeWrapper.querySelector(".e-content");i.appendChild(r),i.appendChild(n),t.appendChild(i),t.appendChild(a),this.dateTimeWrapper.insertBefore(t,this.dateTimeWrapper.firstElementChild)}},t.prototype.dateTimeCloseHandler=function(e){this.hide()},t.prototype.setDimension=function(e){return"number"==typeof e?e=(0,A.Ac)(e):"string"==typeof e||(e="100%"),e},t.prototype.setPopupWidth=function(){var e=this.setDimension(this.width);return e.indexOf("%")>-1&&(e=(this.containerStyle.width*parseFloat(e)/100).toString()+"px"),e},t.prototype.wireTimeListEvents=function(){A.bi.add(this.listWrapper,"click",this.onMouseClick,this),A.AR.isDevice||(A.bi.add(this.listWrapper,"mouseover",this.onMouseOver,this),A.bi.add(this.listWrapper,"mouseout",this.onMouseLeave,this))},t.prototype.unWireTimeListEvents=function(){this.listWrapper&&(A.bi.remove(this.listWrapper,"click",this.onMouseClick),A.bi.remove(document,"mousedown touchstart",this.documentClickHandler),A.AR.isDevice||(A.bi.add(this.listWrapper,"mouseover",this.onMouseOver,this),A.bi.add(this.listWrapper,"mouseout",this.onMouseLeave,this)))},t.prototype.onMouseOver=function(e){var t=(0,A.oq)(e.target,"."+iI);this.setTimeHover(t,ix)},t.prototype.onMouseLeave=function(){this.removeTimeHover(ix)},t.prototype.setTimeHover=function(e,t){this.enabled&&this.isValidLI(e)&&!e.classList.contains(t)&&(this.removeTimeHover(t),(0,A.cn)([e],t))},t.prototype.getPopupHeight=function(){var e=parseInt(iE,10),t=this.dateTimeWrapper.getBoundingClientRect().height;return A.AR.isDevice&&this.fullScreenMode?t:t>e?e:t},t.prototype.changeEvent=function(t){e.prototype.changeEvent.call(this,t),(this.value&&this.value.valueOf())!==(this.previousDateTime&&+this.previousDateTime.valueOf())&&(this.valueWithMinutes=this.value,this.setInputValue("date"),this.previousDateTime=this.value&&new Date(+this.value))},t.prototype.updateValue=function(e){this.setInputValue("time"),+this.previousDateTime!=+this.value&&(this.changedArgs={value:this.value,event:e||null,isInteracted:!(0,A.le)(e),element:this.element},this.addTimeSelection(),this.trigger("change",this.changedArgs),this.previousDateTime=this.previousDate=this.value)},t.prototype.setTimeScrollPosition=function(){var e=this.selectedElement;(0,A.le)(e)?this.dateTimeWrapper&&this.checkDateValue(this.scrollTo)&&this.setScrollTo():this.findScrollTop(e)},t.prototype.findScrollTop=function(e){var t=this.getPopupHeight(),i=e.nextElementSibling,n=i?i.offsetTop:e.offsetTop,r=e.getBoundingClientRect().height;n+e.offsetTop>t?A.AR.isDevice&&this.fullScreenMode?this.dateTimeWrapper.querySelector(".e-content").scrollTop=i?n-(t/2+r/2):n:this.dateTimeWrapper.scrollTop=i?n-(t/2+r/2):n:this.dateTimeWrapper.scrollTop=0},t.prototype.setScrollTo=function(){var e,t=this.dateTimeWrapper.querySelectorAll("."+iI);if(t.length>=0){this.scrollInvoked=!0;var i=this.timeCollections[0];e=t[Math.round((this.getDateObject(this.checkDateValue(this.scrollTo)).getTime()-i)/(6e4*this.step))]}else this.dateTimeWrapper.scrollTop=0;(0,A.le)(e)?this.dateTimeWrapper.scrollTop=0:this.findScrollTop(e)},t.prototype.setInputValue=function(e){if("date"===e)this.inputElement.value=this.previousElementValue=this.getFormattedValue(this.getFullDateTime()),this.setProperties({value:this.getFullDateTime()},!0);else{var t=this.getFormattedValue(new Date(this.timeCollections[this.activeIndex]));tD.I.setValue(t,this.inputElement,this.floatLabelType,this.showClearButton),this.previousElementValue=this.inputElement.value,this.setProperties({value:new Date(this.timeCollections[this.activeIndex])},!0),this.enableMask&&this.createMask()}this.updateIconState()},t.prototype.getFullDateTime=function(){var e=null;return e=this.isDateObject(this.valueWithMinutes)?this.combineDateTime(this.valueWithMinutes):this.previousDate,this.validateMinMaxRange(e)},t.prototype.createMask=function(){this.notify("createMask",{module:"MaskedDateTime"})},t.prototype.combineDateTime=function(e){if(!this.isDateObject(e))return this.previousDate;var t=this.previousDate.getDate(),i=this.previousDate.getMonth(),n=this.previousDate.getFullYear(),r=e.getHours(),a=e.getMinutes(),s=e.getSeconds();return new Date(n,i,t,r,a,s)},t.prototype.onMouseClick=function(e){var t=e.target,i=this.selectedElement=(0,A.oq)(t,"."+iI);i&&i.classList.contains(iI)&&(this.timeValue=i.getAttribute("data-value"),this.hide(e)),this.setSelection(i,e)},t.prototype.setSelection=function(e,t){if(this.isValidLI(e)&&!e.classList.contains(iM)){this.selectedElement=e;var i=Array.prototype.slice.call(this.liCollections).indexOf(e);this.activeIndex=i,this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),(0,A.cn)([this.selectedElement],iM),this.selectedElement.setAttribute("aria-selected","true"),this.updateValue(t)}},t.prototype.setTimeActiveClass=function(){var e=(0,A.le)(this.dateTimeWrapper)?this.listWrapper:this.dateTimeWrapper;if(!(0,A.le)(e)){var t=e.querySelectorAll("."+iI);if(t.length){for(var i=0;i<t.length;i++)if(this.timeCollections[i]===+this.valueWithMinutes){t[i].setAttribute("aria-selected","true"),this.selectedElement=t[i],this.activeIndex=i,this.setTimeActiveDescendant();break}}}},t.prototype.setTimeActiveDescendant=function(){!(0,A.le)(this.selectedElement)&&this.value?(0,A.Y4)(this.inputElement,{"aria-activedescendant":this.selectedElement.getAttribute("id")}):this.inputElement.removeAttribute("aria-activedescendant")},t.prototype.addTimeSelection=function(){this.selectedElement=null,this.removeTimeSelection(),this.setTimeActiveClass(),(0,A.le)(this.selectedElement)||((0,A.cn)([this.selectedElement],iM),this.selectedElement.setAttribute("aria-selected","true"))},t.prototype.removeTimeSelection=function(){if(this.removeTimeHover(ix),!(0,A.le)(this.dateTimeWrapper)){var e=this.dateTimeWrapper.querySelectorAll("."+iM);e.length&&((0,A.IV)(e,iM),e[0].removeAttribute("aria-selected"))}},t.prototype.removeTimeHover=function(e){var t=this.getTimeHoverItem(e);t&&t.length&&(0,A.IV)(t,e)},t.prototype.getTimeHoverItem=function(e){var t,i=(0,A.le)(this.dateTimeWrapper)?this.listWrapper:this.dateTimeWrapper;return(0,A.le)(i)||(t=i.querySelectorAll("."+e)),t},t.prototype.isValidLI=function(e){return e&&e.classList.contains(iI)&&!e.classList.contains(iA)},t.prototype.calculateStartEnd=function(e,t,i){var n=e.getDate(),r=e.getMonth(),a=e.getFullYear(),s=e.getHours(),o=e.getMinutes(),l=e.getSeconds(),h=e.getMilliseconds();return t?"starttime"===i?new Date(a,r,n,0,0,0):new Date(a,r,n,23,59,59):new Date(a,r,n,s,o,l,h)},t.prototype.startTime=function(e){var t,i,n=this.min,r=null===e?new Date:e;return+r.getDate()==+n.getDate()&&+r.getMonth()==+n.getMonth()&&+r.getFullYear()==+n.getFullYear()||+new Date(r.getFullYear(),r.getMonth(),r.getDate())<=+new Date(n.getFullYear(),n.getMonth(),n.getDate())?(i=!1,t=this.min):+r<+this.max&&+r>+this.min?(i=!0,t=r):+r>=+this.max&&(i=!0,t=this.max),this.calculateStartEnd(t,i,"starttime")},t.prototype.endTime=function(e){var t,i,n=this.max,r=null===e?new Date:e;return+r.getDate()==+n.getDate()&&+r.getMonth()==+n.getMonth()&&+r.getFullYear()==+n.getFullYear()||+new Date(r.getUTCFullYear(),r.getMonth(),r.getDate())>=+new Date(n.getFullYear(),n.getMonth(),n.getDate())?(i=!1,t=this.max):+r<+this.max&&+r>+this.min?(i=!0,t=r):+r<=+this.min&&(i=!0,t=this.min),this.calculateStartEnd(t,i,"endtime")},t.prototype.hide=function(e){var t=this;if(this.popupObj||this.dateTimeWrapper){this.preventArgs={cancel:!1,popup:this.popupObj||this.popupObject,event:e||null};var i=this.preventArgs;(0,A.le)(this.popupObj)?this.trigger("close",i,function(i){t.dateTimeCloseEventCallback(e,i)}):this.dateTimeCloseEventCallback(e,i)}else A.AR.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit()},t.prototype.dateTimeCloseEventCallback=function(t,i){this.preventArgs=i,!this.preventArgs.cancel&&(this.isDatePopupOpen()?e.prototype.hide.call(this,t):this.isTimePopupOpen()&&(this.closePopup(t),(0,A.IV)([document.body],iO),A.AR.isDevice&&this.timeModal&&(this.timeModal.style.display="none",this.timeModal.outerHTML="",this.timeModal=null),this.setTimeActiveDescendant())),A.AR.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit()},t.prototype.closePopup=function(e){this.isTimePopupOpen()&&this.popupObject&&(this.popupObject.hide(new A.fw({name:"FadeOut",duration:100,delay:0})),this.inputWrapper.container.classList.remove(ik),(0,A.Y4)(this.inputElement,{"aria-expanded":"false"}),this.inputElement.removeAttribute("aria-owns"),A.bi.remove(document,"mousedown touchstart",this.documentClickHandler))},t.prototype.preRender=function(){this.checkFormat(),this.dateTimeFormat=this.cldrDateTimeFormat(),e.prototype.preRender.call(this),(0,A.IV)([this.inputElementCopy],[iD])},t.prototype.getProperty=function(e,t){"min"===t?this.setProperties({min:this.validateValue(e.min)},!0):this.setProperties({max:this.validateValue(e.max)},!0)},t.prototype.checkAttributes=function(e){for(var t,i=e?(0,A.le)(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["style","name","step","disabled","readonly","value","min","max","placeholder","type"],n=0;n<i.length;n++){var r=i[n];if(!(0,A.le)(this.inputElement.getAttribute(r)))switch(r){case"name":this.inputElement.setAttribute("name",this.inputElement.getAttribute(r));break;case"step":this.step=parseInt(this.inputElement.getAttribute(r),10);break;case"readonly":if((0,A.le)(this.dateTimeOptions)||void 0===this.dateTimeOptions.readonly||e){var a="disabled"===this.inputElement.getAttribute(r)||""===this.inputElement.getAttribute(r)||"true"===this.inputElement.getAttribute(r);this.setProperties({readonly:a},!e)}break;case"placeholder":((0,A.le)(this.dateTimeOptions)||void 0===this.dateTimeOptions.placeholder||e)&&this.setProperties({placeholder:this.inputElement.getAttribute(r)},!e);break;case"min":((0,A.le)(this.dateTimeOptions)||void 0===this.dateTimeOptions.min||e)&&(t=new Date(this.inputElement.getAttribute(r)),this.isNullOrEmpty(t)||isNaN(+t)||this.setProperties({min:t},!e));break;case"disabled":if((0,A.le)(this.dateTimeOptions)||void 0===this.dateTimeOptions.enabled||e){var s="disabled"!==this.inputElement.getAttribute(r)&&"true"!==this.inputElement.getAttribute(r)&&""!==this.inputElement.getAttribute(r);this.setProperties({enabled:s},!e)}break;case"value":((0,A.le)(this.dateTimeOptions)||void 0===this.dateTimeOptions.value||e)&&(t=new Date(this.inputElement.getAttribute(r)),this.isNullOrEmpty(t)||isNaN(+t)||this.setProperties({value:t},!e));break;case"max":((0,A.le)(this.dateTimeOptions)||void 0===this.dateTimeOptions.max||e)&&(t=new Date(this.inputElement.getAttribute(r)),this.isNullOrEmpty(t)||isNaN(+t)||this.setProperties({max:t},!e))}}},t.prototype.requiredModules=function(){var e=[];return this&&e.push({args:[this],member:"islamic"}),this.enableMask&&e.push(this.maskedDateModule()),e},t.prototype.maskedDateModule=function(){return{args:[this],member:"MaskedDateTime"}},t.prototype.getTimeActiveElement=function(){return(0,A.le)(this.dateTimeWrapper)?null:this.dateTimeWrapper.querySelectorAll("."+iM)},t.prototype.createDateObj=function(e){return e instanceof Date?e:null},t.prototype.getDateObject=function(e){if(!this.isNullOrEmpty(e)){var t=this.createDateObj(e),i=this.valueWithMinutes,n=!(0,A.le)(i);if(this.checkDateValue(t)){var r=n?i.getDate():id,a=n?i.getMonth():im,s=n?i.getFullYear():iv,o=n?i.getHours():ig,l=n?i.getMinutes():iy,h=n?i.getSeconds():ib,p=n?i.getMilliseconds():iT;return this.scrollInvoked?(this.scrollInvoked=!1,new Date(s,a,r,t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())):new Date(s,a,r,o,l,h,p)}}return null},t.prototype.findNextTimeElement=function(e){var t=this.inputElement.value,i=(0,A.le)(this.valueWithMinutes)?this.createDateObj(t):this.getDateObject(this.valueWithMinutes),n=null,r=this.liCollections.length;if(!(0,A.le)(this.activeIndex)||!(0,A.le)(this.checkDateValue(i))){if("home"===e.action)n=+this.createDateObj(new Date(this.timeCollections[0])),this.activeIndex=0;else if("end"===e.action)n=+this.createDateObj(new Date(this.timeCollections[this.timeCollections.length-1])),this.activeIndex=this.timeCollections.length-1;else if("down"===e.action){for(var a=0;a<r;a++)if(+i<this.timeCollections[a]){n=+this.createDateObj(new Date(this.timeCollections[a])),this.activeIndex=a;break}}else for(var a=r-1;a>=0;a--)if(+i>this.timeCollections[a]){n=+this.createDateObj(new Date(this.timeCollections[a])),this.activeIndex=a;break}this.selectedElement=this.liCollections[this.activeIndex],this.timeElementValue((0,A.le)(n)?null:new Date(n))}},t.prototype.setTimeValue=function(e,t){var i,n,r=this.validateMinMaxRange(t),a=this.createDateObj(r);return this.getFormattedValue(a)!==((0,A.le)(this.value)?null:this.getFormattedValue(this.value))?this.valueWithMinutes=(0,A.le)(a)?null:a:(this.strictMode&&(e=a),this.valueWithMinutes=this.checkDateValue(e)),n=new Date(+this.valueWithMinutes),i="Gregorian"===this.calendarMode?this.globalize.formatDate(n,{format:(0,A.le)(this.formatString)?this.cldrDateTimeFormat():this.formatString,type:"dateTime",skeleton:"yMd"}):this.globalize.formatDate(n,{format:(0,A.le)(this.formatString)?this.cldrDateTimeFormat():this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}),this.strictMode||(0,A.le)(n),tD.I.setValue(i,this.inputElement,this.floatLabelType,this.showClearButton),n},t.prototype.timeElementValue=function(e){if(!(0,A.le)(this.checkDateValue(e))&&!this.isNullOrEmpty(e)){var t=e instanceof Date?e:this.getDateObject(e);return this.setTimeValue(t,e)}return null},t.prototype.timeKeyHandler=function(e){if(!(0,A.le)(this.step)&&!(this.step<=0)){var t=this.timeCollections.length;if((0,A.le)(this.getTimeActiveElement())||0===this.getTimeActiveElement().length)this.liCollections.length>0&&((0,A.le)(this.value)&&(0,A.le)(this.activeIndex)?(this.activeIndex=0,this.selectedElement=this.liCollections[0],this.timeElementValue(new Date(this.timeCollections[0]))):this.findNextTimeElement(e));else{var i=void 0;if(e.keyCode>=37&&e.keyCode<=40){var n=40===e.keyCode||39===e.keyCode?++this.activeIndex:--this.activeIndex;this.activeIndex=n=this.activeIndex===t?0:this.activeIndex,this.activeIndex=n=this.activeIndex<0?t-1:this.activeIndex,i=(0,A.le)(this.timeCollections[n])?this.timeCollections[0]:this.timeCollections[n]}else"home"===e.action?(this.activeIndex=0,i=this.timeCollections[0]):"end"===e.action&&(this.activeIndex=t-1,i=this.timeCollections[t-1]);this.selectedElement=this.liCollections[this.activeIndex],this.timeElementValue(new Date(i))}this.isNavigate=!0,this.setTimeHover(this.selectedElement,"e-navigation"),this.setTimeActiveDescendant(),this.isTimePopupOpen()&&null!==this.selectedElement&&(!e||"click"!==e.type)&&this.setTimeScrollPosition()}},t.prototype.timeKeyActionHandle=function(e){if(this.enabled)switch("right"!==e.action&&"left"!==e.action&&"tab"!==e.action&&e.preventDefault(),e.action){case"up":case"down":case"home":case"end":this.timeKeyHandler(e);break;case"enter":this.isNavigate?(this.selectedElement=this.liCollections[this.activeIndex],this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),this.setInputValue("time"),+this.previousDateTime!=+this.value&&(this.changedArgs.value=this.value,this.addTimeSelection(),this.previousDateTime=this.value)):this.updateValue(e),this.hide(e),(0,A.cn)([this.inputWrapper.container],iS),this.isNavigate=!1,e.stopPropagation();break;case"escape":this.hide(e);break;default:this.isNavigate=!1}},t.prototype.inputKeyAction=function(e){"altDownArrow"===e.action&&(this.strictModeUpdate(),this.updateInput(),this.toggle(e))},t.prototype.onPropertyChanged=function(t,i){for(var n=0,r=Object.keys(t);n<r.length;n++){var a=r[n];switch(a){case"value":this.isDynamicValueChanged=!0,this.invalidValueString=null,this.checkInvalidValue(t.value),t.value=this.value,t.value=this.validateValue(t.value),this.enableMask?tD.I.setValue(this.maskedDateValue,this.inputElement,this.floatLabelType,this.showClearButton):tD.I.setValue(this.getFormattedValue(t.value),this.inputElement,this.floatLabelType,this.showClearButton),this.valueWithMinutes=t.value,this.setProperties({value:t.value},!0),this.popupObj&&this.popupUpdate(),this.previousDateTime=new Date(this.inputElement.value),this.updateInput(),this.changeTrigger(null),this.preventChange=this.isAngular&&this.preventChange?!this.preventChange:this.preventChange,this.enableMask&&this.value&&this.notify("createMask",{module:"MaskedDateTime"});break;case"min":case"max":this.getProperty(t,a),this.updateInput();break;case"enableRtl":tD.I.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"cssClass":(0,A.le)(i.cssClass)||(i.cssClass=i.cssClass.replace(/\s+/g," ").trim()),(0,A.le)(t.cssClass)||(t.cssClass=t.cssClass.replace(/\s+/g," ").trim()),tD.I.setCssClass(t.cssClass,[this.inputWrapper.container],i.cssClass),this.dateTimeWrapper&&tD.I.setCssClass(t.cssClass,[this.dateTimeWrapper],i.cssClass);break;case"locale":this.globalize=new A.eC(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),tD.I.setPlaceholder(this.l10n.getConstant("placeholder"),this.inputElement),this.dateTimeFormat=this.cldrDateTimeFormat(),e.prototype.updateInput.call(this);break;case"htmlAttributes":this.updateHtmlAttributeToElement(),this.updateHtmlAttributeToWrapper(),this.checkAttributes(!0);break;case"format":this.setProperties({format:t.format},!0),this.checkFormat(),this.dateTimeFormat=this.formatString,this.setValue(),this.enableMask&&(this.notify("createMask",{module:"MaskedDateTime"}),this.value||tD.I.setValue(this.maskedDateValue,this.inputElement,this.floatLabelType,this.showClearButton));break;case"placeholder":tD.I.setPlaceholder(t.placeholder,this.inputElement);break;case"enabled":tD.I.setEnabled(this.enabled,this.inputElement),this.enabled||(this.inputElement.tabIndex=-1);break;case"strictMode":this.invalidValueString=null,this.updateInput();break;case"width":this.setWidth(t.width),tD.I.calculateWidth(this.inputElement,this.inputWrapper.container),(0,A.le)(this.inputWrapper.buttons[0])||(0,A.le)(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])||"Never"===this.floatLabelType||this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-date-time-icon");break;case"readonly":tD.I.setReadonly(this.readonly,this.inputElement);break;case"floatLabelType":this.floatLabelType=t.floatLabelType,tD.I.removeFloating(this.inputWrapper),tD.I.addFloating(this.inputElement,this.floatLabelType,this.placeholder),(0,A.le)(this.inputWrapper.buttons[0])||(0,A.le)(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])||"Never"===this.floatLabelType||this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-date-time-icon");break;case"scrollTo":this.checkDateValue(new Date(this.checkValue(t.scrollTo)))?(this.dateTimeWrapper&&this.setScrollTo(),this.setProperties({scrollTo:this.checkDateValue(new Date(this.checkValue(t.scrollTo)))},!0)):this.setProperties({scrollTo:null},!0);break;case"enableMask":this.enableMask?(this.notify("createMask",{module:"MaskedDateTime"}),tD.I.setValue(this.maskedDateValue,this.inputElement,this.floatLabelType,this.showClearButton)):this.inputElement.value===this.maskedDateValue&&(this.maskedDateValue="",tD.I.setValue(this.maskedDateValue,this.inputElement,this.floatLabelType,this.showClearButton));break;default:e.prototype.onPropertyChanged.call(this,t,i)}this.isDynamicValueChanged||this.hide(null),this.isDynamicValueChanged=!1}},t.prototype.getModuleName=function(){return"datetimepicker"},t.prototype.restoreValue=function(){this.previousDateTime=this.previousDate,this.currentDate=this.value?this.value:new Date,this.valueWithMinutes=this.value,this.previousDate=this.value,this.previousElementValue=this.previousElementValue=(0,A.le)(this.inputValueCopy)?"":this.getFormattedValue(this.inputValueCopy)},iu([(0,A.Z9)(null)],t.prototype,"timeFormat",void 0),iu([(0,A.Z9)(30)],t.prototype,"step",void 0),iu([(0,A.Z9)(null)],t.prototype,"scrollTo",void 0),iu([(0,A.Z9)(1e3)],t.prototype,"zIndex",void 0),iu([(0,A.Z9)(null)],t.prototype,"value",void 0),iu([(0,A.Z9)(null)],t.prototype,"keyConfigs",void 0),iu([(0,A.Z9)({})],t.prototype,"htmlAttributes",void 0),iu([(0,A.Z9)(!1)],t.prototype,"enablePersistence",void 0),iu([(0,A.Z9)(!0)],t.prototype,"allowEdit",void 0),iu([(0,A.Z9)(!1)],t.prototype,"isMultiSelection",void 0),iu([(0,A.Z9)(null)],t.prototype,"values",void 0),iu([(0,A.Z9)(!0)],t.prototype,"showClearButton",void 0),iu([(0,A.Z9)(null)],t.prototype,"placeholder",void 0),iu([(0,A.Z9)(!1)],t.prototype,"strictMode",void 0),iu([(0,A.Z9)(!1)],t.prototype,"fullScreenMode",void 0),iu([(0,A.Z9)(null)],t.prototype,"serverTimezoneOffset",void 0),iu([(0,A.Z9)(new Date(1900,0,1))],t.prototype,"min",void 0),iu([(0,A.Z9)(new Date(2099,11,31))],t.prototype,"max",void 0),iu([(0,A.Z9)(null)],t.prototype,"firstDayOfWeek",void 0),iu([(0,A.Z9)("Gregorian")],t.prototype,"calendarMode",void 0),iu([(0,A.Z9)("Month")],t.prototype,"start",void 0),iu([(0,A.Z9)("Month")],t.prototype,"depth",void 0),iu([(0,A.Z9)(!1)],t.prototype,"weekNumber",void 0),iu([(0,A.Z9)(!0)],t.prototype,"showTodayButton",void 0),iu([(0,A.Z9)("Short")],t.prototype,"dayHeaderFormat",void 0),iu([(0,A.Z9)(!1)],t.prototype,"openOnFocus",void 0),iu([(0,A.Z9)(!1)],t.prototype,"enableMask",void 0),iu([(0,A.Z9)({day:"day",month:"month",year:"year",hour:"hour",minute:"minute",second:"second",dayOfTheWeek:"day of the week"})],t.prototype,"maskPlaceholder",void 0),iu([(0,A.ju)()],t.prototype,"open",void 0),iu([(0,A.ju)()],t.prototype,"close",void 0),iu([(0,A.ju)()],t.prototype,"cleared",void 0),iu([(0,A.ju)()],t.prototype,"blur",void 0),iu([(0,A.ju)()],t.prototype,"focus",void 0),iu([(0,A.ju)()],t.prototype,"created",void 0),iu([(0,A.ju)()],t.prototype,"destroyed",void 0),t=iu([A.Zl],t)}(t1),iP=i(81616),iH=(u=function(e,t){return(u=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),iL=function(e,t,i,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},iq="e-label",iF="e-ripple-container",iW="e-rtl",iz="e-radio-wrapper",iB=["title","class","style","disabled","readonly","name","value"],ij=function(e){var t;function i(t,i){var n=e.call(this,t,i)||this;return n.isFocused=!1,n}return iH(i,e),t=i,i.prototype.changeHandler=function(e){this.checked=!0,this.dataBind();var t=this.element.getAttribute("value");t=this.isVue&&t?this.element.value:this.value;var i=typeof this.value;this.isVue&&"boolean"===i&&(t="true"===t),this.trigger("change",{value:t,event:e}),this.isAngular&&e.stopPropagation()},i.prototype.updateChange=function(){for(var e,i,n=this.getRadioGroup(),r=0;r<n.length;r++)(e=n[r])!==this.element&&((i=(0,A.s8)(e,t)).checked=!1,"EJS-RADIOBUTTON"===this.tagName&&(i.angularValue=this.value))},i.prototype.destroy=function(){var t=this,i=this.wrapper;e.prototype.destroy.call(this),i&&(this.disabled||this.unWireEvents(),"INPUT"===this.tagName?(i.parentNode&&i.parentNode.insertBefore(this.element,i),(0,A.og)(i),this.element.checked=!1,["name","value","disabled"].forEach(function(e){t.element.removeAttribute(e)})):(["role","aria-checked","class"].forEach(function(e){i.removeAttribute(e)}),i.innerHTML=""))},i.prototype.focusHandler=function(){this.isFocused=!0},i.prototype.focusOutHandler=function(){var e=this.getLabel();e&&e.classList.remove("e-focus")},i.prototype.getModuleName=function(){return"radio"},i.prototype.getSelectedValue=function(){for(var e,t=this.getRadioGroup(),i=0,n=t.length;i<n;i++)if((e=t[i]).checked)return e.value;return""},i.prototype.getRadioGroup=function(){return document.querySelectorAll('input.e-radio[name="'+this.element.getAttribute("name")+'"]')},i.prototype.getPersistData=function(){return this.addOnPersist(["checked"])},i.prototype.getWrapper=function(){return this.element?this.element.parentElement:null},i.prototype.getLabel=function(){return this.element?this.element.nextElementSibling:null},i.prototype.initialize=function(){(0,A.le)(this.initialCheckedValue)&&(this.initialCheckedValue=this.checked),this.initWrapper(),this.updateHtmlAttribute(),this.name&&this.element.setAttribute("name",this.name);var e=this.element.getAttribute("value"),t=typeof this.value;this.isVue&&"boolean"===t&&(e="true"===e),(this.isVue?this.value&&"boolean"!==t&&!e:this.value)&&this.element.setAttribute("value",this.value),this.checked&&(this.element.checked=!0),this.disabled&&this.setDisabled()},i.prototype.initWrapper=function(){var e,t=this.element.parentElement;t.classList.contains(iz)||(t=this.createElement("div",{className:iz}),this.element.parentNode.insertBefore(t,this.element));var i=this.createElement("label",{attrs:{for:this.element.id}});t.appendChild(this.element),t.appendChild(i),A.re&&(e=this.createElement("span",{className:iF}),i.appendChild(e),(0,A.qx)(e,{duration:400,isCenterRipple:!0})),t.classList.add("e-wrapper"),this.enableRtl&&i.classList.add(iW),this.cssClass&&(0,A.cn)([t],this.cssClass.replace(/\s+/g," ").trim().split(" ")),this.label&&this.setText(this.label)},i.prototype.keyUpHandler=function(){this.isFocused&&this.getLabel().classList.add("e-focus")},i.prototype.labelMouseDownHandler=function(e){var t=this.getLabel().getElementsByClassName(iF)[0];(0,tA.sg)(e,t)},i.prototype.labelMouseLeaveHandler=function(e){var t=this.getLabel().getElementsByClassName(iF)[0];if(t){for(var i=t.querySelectorAll(".e-ripple-element"),n=i.length-1;n>0;n--)t.removeChild(t.childNodes[n]);(0,tA.sg)(e,t)}},i.prototype.labelMouseUpHandler=function(e){var t=this.getLabel().getElementsByClassName(iF)[0];if(t){for(var i=t.querySelectorAll(".e-ripple-element"),n=i.length-1;n>0;n--)t.removeChild(t.childNodes[n]);(0,tA.sg)(e,t)}},i.prototype.formResetHandler=function(){this.checked=this.initialCheckedValue,this.initialCheckedValue&&(0,A.Y4)(this.element,{checked:"true"})},i.prototype.onPropertyChanged=function(e,t){for(var i=this.getWrapper(),n=this.getLabel(),r=0,a=Object.keys(e);r<a.length;r++)switch(a[r]){case"checked":e.checked&&this.updateChange(),this.element.checked=e.checked;break;case"disabled":e.disabled?(this.setDisabled(),this.unWireEvents()):(this.element.disabled=!1,this.wireEvents());break;case"cssClass":t.cssClass&&(0,A.IV)([i],t.cssClass.split(" ")),e.cssClass&&(0,A.cn)([i],e.cssClass.replace(/\s+/g," ").trim().split(" "));break;case"enableRtl":e.enableRtl?n.classList.add(iW):n.classList.remove(iW);break;case"label":this.setText(e.label);break;case"labelPosition":"Before"===e.labelPosition?n.classList.add("e-right"):n.classList.remove("e-right");break;case"name":this.element.setAttribute("name",e.name);break;case"value":var s=typeof this.htmlAttributes.value;if(!(0,A.le)(this.htmlAttributes)&&(this.htmlAttributes.value||"boolean"===s&&!this.htmlAttributes.value))break;this.element.setAttribute("value",e.value);break;case"htmlAttributes":this.updateHtmlAttribute()}},i.prototype.preRender=function(){var e=this.element;if(this.formElement=(0,A.oq)(this.element,"form"),this.tagName=this.element.tagName,e=(0,tA.Rm)(this.createElement,"EJS-RADIOBUTTON","radio",e,iz,"radio"),this.element=e,"radio"!==this.element.getAttribute("type")&&this.element.setAttribute("type","radio"),this.element.id||(this.element.id=(0,A.QI)("e-"+this.getModuleName())),"EJS-RADIOBUTTON"===this.tagName){var t=this.element.getAttribute("formcontrolname");t&&(this.setProperties({name:t},!0),this.element.setAttribute("name",t))}},i.prototype.render=function(){this.initialize(),this.disabled||this.wireEvents(),this.renderComplete(),this.wrapper=this.getWrapper()},i.prototype.setDisabled=function(){this.element.disabled=!0},i.prototype.setText=function(e){var t=this.getLabel(),i=t.getElementsByClassName(iq)[0];i?i.textContent=e:(e=this.enableHtmlSanitizer?A.pJ.sanitize(e):e,i=this.createElement("span",{className:iq,innerHTML:e}),t.appendChild(i)),"Before"===this.labelPosition?this.getLabel().classList.add("e-right"):this.getLabel().classList.remove("e-right")},i.prototype.updateHtmlAttribute=function(){if(!(0,A.le)(this.htmlAttributes))for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var i=t[e];if(iB.indexOf(i)>-1){var n=this.element.parentElement;"class"===i?(0,A.cn)([n],this.htmlAttributes[""+i].replace(/\s+/g," ").trim().split(" ")):"title"===i||"style"===i?n.setAttribute(i,this.htmlAttributes[""+i]):this.element.setAttribute(i,this.htmlAttributes[""+i])}}},i.prototype.unWireEvents=function(){var e=this.wrapper;A.bi.remove(this.element,"change",this.changeHandler),A.bi.remove(this.element,"focus",this.focusHandler),A.bi.remove(this.element,"focusout",this.focusOutHandler),A.bi.remove(this.element,"keyup",this.keyUpHandler);var t=e.getElementsByTagName("label")[0];t&&(A.bi.remove(t,"mousedown",this.labelMouseDownHandler),A.bi.remove(t,"mouseup",this.labelMouseUpHandler),A.bi.remove(t,"mouseleave",this.labelMouseLeaveHandler)),this.formElement&&A.bi.remove(this.formElement,"reset",this.formResetHandler)},i.prototype.wireEvents=function(){var e=this.getLabel();A.bi.add(this.element,"change",this.changeHandler,this),A.bi.add(this.element,"keyup",this.keyUpHandler,this),A.bi.add(this.element,"focus",this.focusHandler,this),A.bi.add(this.element,"focusout",this.focusOutHandler,this);var t=e.getElementsByClassName(iq)[0];t&&(A.bi.add(t,"mousedown",this.labelMouseDownHandler,this),A.bi.add(t,"mouseup",this.labelMouseUpHandler,this),A.bi.add(t,"mouseleave",this.labelMouseLeaveHandler,this)),this.formElement&&A.bi.add(this.formElement,"reset",this.formResetHandler,this)},i.prototype.click=function(){this.element.click()},i.prototype.focusIn=function(){this.element.focus()},iL([(0,A.ju)()],i.prototype,"change",void 0),iL([(0,A.ju)()],i.prototype,"created",void 0),iL([(0,A.Z9)(!1)],i.prototype,"checked",void 0),iL([(0,A.Z9)("")],i.prototype,"cssClass",void 0),iL([(0,A.Z9)(!1)],i.prototype,"disabled",void 0),iL([(0,A.Z9)("")],i.prototype,"label",void 0),iL([(0,A.Z9)("After")],i.prototype,"labelPosition",void 0),iL([(0,A.Z9)("")],i.prototype,"name",void 0),iL([(0,A.Z9)("")],i.prototype,"value",void 0),iL([(0,A.Z9)(!1)],i.prototype,"enableHtmlSanitizer",void 0),iL([(0,A.Z9)({})],i.prototype,"htmlAttributes",void 0),i=t=iL([A.Zl],i)}(A.wA),iN=i(68515),iU=(d=function(e,t){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}d(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),iY=function(e,t,i,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},i_="e-input-wrapper",iZ="e-input-wrapper-side",iK="e-repeat-element",iG="e-repeat-interval",iQ="e-interval",iX="e-days",i$="e-non-week",iJ="e-year-expander",i0="e-year-expander-element",i1="e-month-expander",i9="e-month-expander-element",i3="e-month-expander-checkbox-wrapper",i2="e-form-left",i4="e-form-right",i7="e-month-day",i6="e-month-expander-wrapper",i5="e-month-pos",i8="e-month-week",ne="e-end-on",nt="e-end-on-element",ni="e-end-on-date",nn="e-until-date",nr="e-end-on-count",na="e-recurrence-count",ns="e-hide-recurrence-element",no="e-rtl",nl="e-primary",nh="e-active",np="e-recurrence-table",nc="e-repeat-content",nu="none",nd="daily",nm="weekly",nv="monthly",ng="yearly",nf="never",ny="until",nb="count",nT="text",nD="value",nw="repeat",nC="BYDAY",nS="DAILY",nE="WEEKLY",nk="MONTHLY",nA="YEARLY",nV={none:"",daily:"days",weekly:"weeks",monthly:"months",yearly:"years"},nM={sun:"SU",mon:"MO",tue:"TU",wed:"WE",thu:"TH",fri:"FR",sat:"SA"},nx=[iX,i$,ne,iQ,iJ,i1],nI=[i$],nO=[iX,iJ],nR=[iX],nP=[iX,i$,iJ,i1],nH=[ni,nr],nL=[ni],nq=[nr],nF=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.defaultLocale={none:"None",daily:"Daily",weekly:"Weekly",monthly:"Monthly",month:"Month",yearly:"Yearly",never:"Never",until:"Until",count:"Count",first:"First",second:"Second",third:"Third",fourth:"Fourth",last:"Last",repeat:"Repeat",repeatEvery:"Repeat every",on:"Repeat On",end:"End",onDay:"Day",days:"Day(s)",weeks:"Week(s)",months:"Month(s)",years:"Year(s)",every:"every",summaryTimes:"time(s)",summaryOn:"on",summaryUntil:"until",summaryRepeat:"Repeats",summaryDay:"day(s)",summaryWeek:"week(s)",summaryMonth:"month(s)",summaryYear:"year(s)",monthWeek:"Month Week",monthPosition:"Month Position",monthExpander:"Month Expander",yearExpander:"Year Expander",repeatInterval:"Repeat Interval"},n.renderStatus=!1,n.dayButtons=[],n.monthButtons=[],n}return iU(t,e),t.prototype.startState=function(e,t,i){this.showFormElement(),this.updateForm(e),this.freshOnEndForm(),this.updateEndOnForm(t),this.selectMonthDay(i),this.updateUntilDate(i),this.onMonthDay.setProperties({checked:!0})},t.prototype.preRender=function(){this.localeObj=new A.E7(this.getModuleName(),this.defaultLocale,this.locale),this.calendarUtil=(0,iN.Si)(this.calendarMode)},t.prototype.applyCustomClass=function(e){e&&(0,A.cn)([this.element],e.split(" "))},t.prototype.initialize=function(){(0,A.cn)([this.element],"e-"+this.getModuleName()),this.renderComponent(),(0,A.le)(this.value)||""===this.value?((0,A.le)(this.repeatType.value)||(this.startState(this.repeatType.value.toString().toUpperCase(),this.endTypes[0],this.startDate),this.updateForm(this.repeatType.value.toString())),this.selectedType>0&&this.setProperties({value:this.getRecurrenceRule()},!1)):this.setRecurrenceRule(this.value),this.applyCustomClass(this.cssClass)},t.prototype.triggerChangeEvent=function(){var e=this;if(this.renderStatus){var t=this.getRecurrenceRule();this.trigger("change",{value:t},function(t){return e.setProperties({value:t.value},!1)})}},t.prototype.resetDayButton=function(){[].slice.call(this.element.querySelectorAll("."+iX+" button")).forEach(function(e){return(0,A.IV)([e],[nh,nl])})},t.prototype.daySelection=function(e){this.resetDayButton();var t=[0,1,2,3,4,5,6];this.rotateArray(t,this.firstDayOfWeek);var i=this.element.querySelector("."+iX+' button[data-index="'+t.indexOf(e)+'"]');i&&(0,A.cn)([i],[nh,nl])},t.prototype.rtlClass=function(e){e?(0,A.cn)([this.element],no):(0,A.IV)([this.element],no)},t.prototype.updateUntilDate=function(e){var t=new Date(e.getTime());t.setDate(t.getDate()+60),this.untilDateObj.setProperties({value:t})},t.prototype.selectMonthDay=function(e){this.monthDate.setProperties({value:this.calendarUtil.getDate(e)}),this.monthWeekDays.setProperties({value:nM[["sun","mon","tue","wed","thu","fri","sat"][e.getDay()]]}),this.monthValue.setProperties({value:""+this.calendarUtil.getMonth(e)}),this.monthWeekPos.setProperties({value:this.getDayPosition(e)}),this.daySelection(e.getDay())},t.prototype.updateForm=function(e){var t=this;this.repeatType.setProperties({value:e});var i=this.element.querySelector("."+ne);switch(e===nd?(0,A.s1)(i,[i2],[i4]):(0,A.s1)(i,[i4],[i2]),e){case nu:nx.forEach(function(e){return(0,A.cn)([t.element.querySelector("."+e)],ns)});break;case nm:nI.forEach(function(e){return(0,A.cn)([t.element.querySelector("."+e)],ns)});break;case nv:nO.forEach(function(e){return(0,A.cn)([t.element.querySelector("."+e)],ns)});break;case ng:nR.forEach(function(e){return(0,A.cn)([t.element.querySelector("."+e)],ns)});break;case nd:nP.forEach(function(e){return(0,A.cn)([t.element.querySelector("."+e)],ns)})}},t.prototype.updateEndOnForm=function(e){var t=this;switch(this.endType.setProperties({value:e}),e){case nf:nH.forEach(function(e){return(0,A.cn)([t.element.querySelector("."+e)],ns)});break;case ny:nq.forEach(function(e){return(0,A.cn)([t.element.querySelector("."+e)],ns)});break;case nb:nL.forEach(function(e){return(0,A.cn)([t.element.querySelector("."+e)],ns)})}},t.prototype.freshOnEndForm=function(){var e=this;nH.forEach(function(t){var i=e.element.querySelector("."+t);i&&(0,A.IV)([i],ns)})},t.prototype.showFormElement=function(){var e=this;nx.forEach(function(t){var i=e.element.querySelector("."+t);i&&(0,A.IV)([i],ns)})},t.prototype.renderDropdowns=function(){var e=this,t=this;this.repeatType=new tN.N({dataSource:this.getRepeatData(),floatLabelType:"Always",enableRtl:this.enableRtl,index:this.selectedType,fields:{text:nT,value:nD},placeholder:this.localeObj.getConstant(nw),htmlAttributes:{title:this.localeObj.getConstant(nw)},change:function(i){t.setProperties({selectedType:e.frequencies.indexOf(i.value)},!1),t.element.querySelector("."+nc).innerHTML=t.localeObj.getConstant(nV[i.value]),t.showFormElement(),t.updateForm(i.value),t.resetFormValues(),t.triggerChangeEvent()}}),this.repeatType.appendTo(this.element.querySelector("."+iK)),this.endType=new tN.N({dataSource:this.getEndData(),popupWidth:this.getPopupWidth(),enableRtl:this.enableRtl,index:1,fields:{text:nT,value:nD},change:function(e){t.freshOnEndForm(),t.updateEndOnForm(e.value),t.resetFormValues(),t.triggerChangeEvent()}}),this.endType.appendTo(this.element.querySelector("."+nt));var i=function(i){return new tN.N({dataSource:i,popupWidth:e.getPopupWidth(),enableRtl:e.enableRtl,fields:{text:nT,value:nD},index:1,change:function(e){t.onWeekDay.setProperties({checked:!0}),t.resetFormValues(),t.triggerChangeEvent()}})};this.monthWeekPos=i(this.getMonthPosData()),this.monthWeekPos.appendTo(this.element.querySelector("."+i5)),this.monthWeekDays=i(this.getDayData("wide")),this.monthWeekDays.appendTo(this.element.querySelector("."+i8)),this.monthValue=new tN.N({dataSource:this.getMonthData(),fields:{text:nT,value:nD},enableRtl:this.enableRtl,index:7,change:function(e){t.resetFormValues(),t.triggerChangeEvent()}}),this.monthValue.appendTo(this.element.querySelector("."+i0))},t.prototype.setDefaultValue=function(){for(var e=[].slice.call(this.element.querySelectorAll(".e-control .e-numerictextbox")),t=0;t<e.length;t++){var i=e[t].ej2_instances[0];i.element.classList.contains(iG)?(i.value=1,i.dataBind()):i.element.classList.contains(na)&&(i.value=10,i.dataBind())}},t.prototype.resetFormValues=function(){for(var e=[].slice.call(this.element.querySelectorAll('.e-control [type="text"]')),t=0;t<e.length;t++){var i=e[t],n=void 0;if(i.classList.contains("e-datepicker"))(n=i.ej2_instances[0]).value?(n.value=n.value,n.dataBind()):this.updateUntilDate(this.startDate);else if(i.classList.contains("e-dropdownlist"))(n=i.ej2_instances[0]).index=n.index||0,n.dataBind();else if(i.classList.contains("e-numerictextbox")){n=i.ej2_instances[0];var r=void 0;r=n.element.classList.contains(iG)?1:n.element.classList.contains(na)?10:this.startDate.getDate(),n.value=n.value||r,n.dataBind()}}},t.prototype.getPopupWidth=function(){return A.AR.isDevice?"100%":"auto"},t.prototype.renderDatePickers=function(){var e=this;this.untilDateObj=new t1({firstDayOfWeek:this.firstDayOfWeek,enableRtl:this.enableRtl,locale:this.locale,min:this.minDate,max:this.maxDate,format:(0,A.le)(this.dateFormat)?this.getFormat("dateFormats"):this.dateFormat,change:function(t){t.value&&e.triggerChangeEvent()}}),this.untilDateObj.appendTo(this.element.querySelector("."+nn))},t.prototype.getFormat=function(e){return"en"===this.locale||"en-US"===this.locale?(0,A.NA)(e+".short",(0,A.bD)(this.getCalendarMode())):(0,A.NA)("main."+this.locale+".dates.calendars."+this.getCalendarMode()+"."+e+".short",A.qV)},t.prototype.dayButtonRender=function(){for(var e=this,t=[].slice.call(this.element.querySelectorAll("."+iX+" button")),i=this,n=0;n<t.length;n++){var r=t[n],a=new I.zx({isToggle:!0,enableRtl:this.enableRtl},r);this.dayButtons.push(a),A.bi.add(r,"click",function(t){var n=[].slice.call(e.element.querySelectorAll("."+iX+" button."+nl)),r=t.target;r.classList.contains(nl)?n.length>1&&((0,A.IV)([r],nl),i.triggerChangeEvent()):((0,A.cn)([r],nl),i.triggerChangeEvent())})}},t.prototype.radioButtonRender=function(){var e=this;this.onMonthDay=new ij({label:this.localeObj.getConstant("onDay"),enableRtl:this.enableRtl,name:"monthType",value:"day",change:function(){e.resetFormValues(),e.triggerChangeEvent()}}),this.onMonthDay.appendTo(this.element.querySelector("."+i9)),this.monthButtons.push(this.onMonthDay),this.onWeekDay=new ij({label:this.localeObj.getConstant("monthExpander"),cssClass:"e-month-type",name:"monthType",enableRtl:this.enableRtl,value:"daypos",change:function(){e.resetFormValues(),e.triggerChangeEvent()}}),this.onWeekDay.appendTo(this.element.querySelector("."+i6)),this.monthButtons.push(this.onWeekDay)},t.prototype.numericTextboxRender=function(){var e=this;this.recurrenceCount=new iP.N({value:10,format:"#",enableRtl:this.enableRtl,min:1,max:999,change:function(){e.triggerChangeEvent()}}),this.recurrenceCount.appendTo(this.element.querySelector("."+na)),this.monthDate=new iP.N({value:1,format:"#",enableRtl:this.enableRtl,min:1,max:31,change:function(){e.onMonthDay.setProperties({checked:!0}),e.triggerChangeEvent()}}),this.monthDate.appendTo(this.element.querySelector("."+i7)),this.repeatInterval=new iP.N({value:1,format:"#",min:1,max:999,enableRtl:this.enableRtl,floatLabelType:"Always",placeholder:this.localeObj.getConstant("repeatEvery"),change:function(){e.triggerChangeEvent()}}),this.repeatInterval.appendTo(this.element.querySelector("."+iG))},t.prototype.renderComponent=function(){this.setTemplate(),this.renderDropdowns(),this.renderDatePickers(),this.dayButtonRender(),this.radioButtonRender(),this.numericTextboxRender()},t.prototype.rotateArray=function(e,t){for(var i,n=0;n<t;n++)i=e.shift(),e.push(i)},t.prototype.getEndData=function(){var e=this,t=[];return this.endTypes.forEach(function(i){t.push({text:e.localeObj.getConstant(i),value:i})}),t},t.prototype.getDayPosition=function(e){var t=new Date(e.getTime()),i=new Date(e.getTime()),n=e.getDay(),r=[];for(t=this.calendarUtil.getMonthStartDate(t),i=this.calendarUtil.getMonthEndDate(i);t<i;)t.getDay()===n&&r.push(t.getTime()),t.setDate(t.getDate()+1);return r.indexOf(e.getTime())===r.length-1?-1:r.indexOf(e.getTime())+1},t.prototype.getRepeatData=function(){var e=[],t=this;return this.frequencies.forEach(function(i){var n=i===nu?nf:i;e.push({text:t.localeObj.getConstant(n),value:i})}),e},t.prototype.getMonthPosData=function(){var e={first:1,second:2,third:3,fourth:4,last:-1},t=this,i=[];return["first","second","third","fourth","last"].forEach(function(n){i.push({text:t.localeObj.getConstant(n),value:e[""+n]})}),i},t.prototype.getDayData=function(e){var t,i=["sun","mon","tue","wed","thu","fri","sat"],n=[];if(this.rotateArray(i,this.firstDayOfWeek),"en"===this.locale||"en-US"===this.locale){var r="days.stand-alone.";t=(0,A.NA)(r+e,(0,A.bD)(this.getCalendarMode()))}else{var r="main."+this.locale+".dates.calendars."+this.getCalendarMode()+".days.stand-alone."+e;t=(0,A.NA)(r,A.qV)}for(var a=0;a<i.length;a++){var s=i[a],o=(0,A.NA)(s,t);n.push({text:"narrow"===e?o:(0,tr.hz)(o,"single"),value:nM[""+s]})}return n},t.prototype.getMonthData=function(){var e,t=[];if("en"===this.locale||"en-US"===this.locale){var i="months.stand-alone.wide";e=(0,A.NA)(i,(0,A.bD)(this.getCalendarMode()))}else{var i="main."+this.locale+".dates.calendars."+this.getCalendarMode()+".months.stand-alone.wide";e=(0,A.NA)(i,A.qV)}for(var n=0,r=Object.keys(e);n<r.length;n++){var a=r[n];t.push({text:(0,tr.hz)((0,A.NA)(a,e),"single"),value:a})}return t},t.prototype.setTemplate=function(){var e=this.getDayData("narrow"),t=this.getDayData("wide");this.element.innerHTML='<div class="e-editor"><div class="'+i_+" "+i2+'"><input type="text" tabindex="0" class="'+iK+'"label="'+iK.substr(2)+'" /></div><div class="'+i_+" "+iQ+" "+i4+'"><table  class="'+np+' e-repeat-content-wrapper"  role="none"><tr><td><input type="text" tabindex="0" id="'+this.element.id+"_"+iG+'" class="'+iG+'"title="'+this.localeObj.getConstant("repeatEvery")+'" /></td><td><span class="'+nc+'"></span></td></tr></table></div><div class="'+iZ+" "+iX+" "+i2+'"><div class=e-week-expander-label>'+this.localeObj.getConstant("on")+'</div><button type="button" class="e-round" data-index="0" title="'+t[0].text+'">'+e[0].text+'</button><button type="button" class="e-round" data-index="1" title="'+t[1].text+'">'+e[1].text+'</button><button type="button" class="e-round" data-index="2" title="'+t[2].text+'">'+e[2].text+'</button><button type="button" class="e-round" data-index="3" title="'+t[3].text+'">'+e[3].text+'</button><button type="button" class="e-round" data-index="4" title="'+t[4].text+'">'+e[4].text+'</button><button type="button" class="e-round" data-index="5" title="'+t[5].text+'">'+e[5].text+'</button><button type="button" class="e-round" data-index="6" title="'+t[6].text+'">'+e[6].text+'</button></div><div class="'+iZ+" "+i$+" "+i2+'"><div class=e-month-expander-label>'+this.localeObj.getConstant("on")+'</div><div class="'+iJ+'"><input class="'+i0+'" type="text" tabindex="0" title="'+this.localeObj.getConstant("yearExpander")+'"/></div><div class="'+i1+'"><table class="'+np+' e-month-expand-wrapper" role="none"><tr><td><div class="'+i_+" "+i3+'"><input class="'+i9+'"title="'+this.localeObj.getConstant("monthExpander")+'" type="radio"></div></td><td colspan="2"><div class="'+i_+' e-monthday-element"><input type="text" tabindex="0" id="'+this.element.id+"_"+i7+'" class="'+i7+'"title="'+this.localeObj.getConstant("on")+'" /></div></td></tr><tr><td><div class="'+i_+" "+i3+'" style="min-width: 30px;margin-bottom:18px;"><input class="'+i6+'"title="'+this.localeObj.getConstant("monthExpander")+'" type="radio"></div></td><td><div class="'+i_+' e-week-position" ><input type="text" tabindex="0" class="'+i5+'"title="'+this.localeObj.getConstant("monthPosition")+'" /></div></td><td><div class="'+i_+' e-day-position"><input type="text" tabindex="0" class="'+i8+'"title="'+this.localeObj.getConstant("monthWeek")+'" /></div></td></tr></table></div></div><div class="'+iZ+" "+ne+" "+i4+'"><div class=e-end-on-label>'+this.localeObj.getConstant("end")+'</div><div class="'+i_+' e-end-on-left"><input type="text" tabindex="0" class="'+nt+'"title="'+this.localeObj.getConstant("end")+'" /></div><div class="'+i_+" "+ni+'" ><input type="text" tabindex="0" class="'+nn+'"title="'+this.localeObj.getConstant(ny)+'" /></div><div class="'+i_+" "+nr+'"><input type="text" tabindex="0" id="'+this.element.id+"_"+na+'" class="'+na+'"title="'+this.localeObj.getConstant(nb)+'" /></div></div></div></div>'},t.prototype.getSelectedDaysData=function(){var e=nC+"=",t=[].slice.call(this.element.querySelectorAll("."+iX+" button."+nl)),i=["SU","MO","TU","WE","TH","FR","SA"];this.rotateArray(i,this.firstDayOfWeek);for(var n=0;n<t.length;n++)e+=i[parseInt(t[parseInt(n.toString(),10)].getAttribute("data-index"),10)]+(n===t.length-1?"":",");return e+";"},t.prototype.getSelectedMonthData=function(){return this.onWeekDay.checked?nC+"="+this.monthWeekDays.value+";BYSETPOS="+this.monthWeekPos.value+";":"BYMONTHDAY="+this.monthDate.value+";"},t.prototype.getIntervalData=function(){return"INTERVAL="+this.repeatInterval.value+";"},t.prototype.getEndOnCount=function(){return"COUNT="+this.recurrenceCount.value+";"},t.prototype.getYearMonthRuleData=function(){return"BYMONTH="+this.monthValue.value+";"},t.prototype.updateWeekButton=function(e){var t=["SU","MO","TU","WE","TH","FR","SA"];this.rotateArray(t,this.firstDayOfWeek);for(var i=0,n=this.dayButtons;i<n.length;i++){var r=n[i],a=parseInt(r.element.getAttribute("data-index"),10);-1!==e.indexOf(t[parseInt(a.toString(),10)])?r.setProperties({isPrimary:!0}):r.setProperties({isPrimary:!1})}},t.prototype.updateMonthUI=function(){if(this.ruleObject.monthDay.length)this.monthDate.setProperties({value:this.ruleObject.monthDay[0]}),this.onMonthDay.setProperties({checked:!0});else{this.onWeekDay.setProperties({checked:!0}),this.monthWeekPos.setProperties({value:this.ruleObject.setPosition});for(var e=0,t=Object.keys(nM);e<t.length;e++)if(nM[""+t[e]]===this.ruleObject.day[0]){this.monthWeekDays.setProperties({value:this.ruleObject.day[0]});break}}},t.prototype.updateUI=function(e,t){switch(this.repeatInterval.setProperties({value:this.ruleObject.interval}),t){case ny:this.untilDateObj.setProperties({value:this.ruleObject.until});break;case nb:this.recurrenceCount.setProperties({value:this.ruleObject.count})}switch(e){case nm:this.updateWeekButton(this.ruleObject.day);break;case ng:this.monthValue.setProperties({index:this.ruleObject.month[0]-1}),this.updateMonthUI();break;case nv:this.updateMonthUI()}},t.prototype.getUntilData=function(){return this.untilDateObj.value?"UNTIL="+(0,iN.K_)(this.untilDateObj.value)+";":""},t.prototype.destroyComponents=function(){this.recurrenceCount.isDestroyed||(this.recurrenceCount.destroy(),this.recurrenceCount=null),this.monthDate.isDestroyed||(this.monthDate.destroy(),this.monthDate=null),this.repeatInterval.isDestroyed||(this.repeatInterval.destroy(),this.repeatInterval=null),this.untilDateObj.isDestroyed||(this.untilDateObj.destroy(),this.untilDateObj=null),this.repeatType.isDestroyed||(this.repeatType.destroy(),this.repeatType=null),this.endType.isDestroyed||(this.endType.destroy(),this.endType=null),this.monthWeekPos.isDestroyed||(this.monthWeekPos.destroy(),this.monthWeekPos=null),this.monthWeekDays.isDestroyed||(this.monthWeekDays.destroy(),this.monthWeekDays=null),this.monthValue.isDestroyed||(this.monthValue.destroy(),this.monthValue=null),this.onMonthDay.isDestroyed||(this.onMonthDay.destroy(),this.onMonthDay=null),this.onWeekDay.isDestroyed||(this.onWeekDay.destroy(),this.onWeekDay=null),this.dayButtons.forEach(function(e){e.isDestroyed||e.destroy()}),this.dayButtons=[],this.monthButtons.forEach(function(e){e.isDestroyed||e.destroy()}),this.monthButtons=[]},t.prototype.resetFields=function(){this.startState(nu,this.endTypes[0],this.startDate),this.setDefaultValue()},t.prototype.updateRuleUntilDate=function(e){if(this.untilDateObj.value&&e){var t=this.untilDateObj.value,i=new Date(t.getFullYear(),t.getMonth(),t.getDate(),e.getHours(),e.getMinutes(),e.getMilliseconds());this.untilDateObj.setProperties({value:i})}},t.prototype.getCalendarMode=function(){return this.calendarMode.toLowerCase()},t.prototype.getRuleSummary=function(e){return void 0===e&&(e=this.getRecurrenceRule()),(0,iN.h8)(e,this.localeObj,this.locale,this.calendarMode)},t.prototype.getRecurrenceDates=function(e,t,i,n,r){return r=(0,A.le)(r)?this.startDate:r,(0,iN.R_)(e,t,i,this.firstDayOfWeek,n,r,this.calendarMode)},t.prototype.getRecurrenceRule=function(){var e="FREQ=";switch(this.repeatType.value){case nd:e+=nS+";";break;case nm:e+=nE+";"+this.getSelectedDaysData();break;case nv:e+=nk+";"+this.getSelectedMonthData();break;case ng:e+=nA+";"+this.getSelectedMonthData()+this.getYearMonthRuleData();break;case nu:return""}switch(e+=this.getIntervalData(),this.endType.value){case ny:e+=this.getUntilData();break;case nb:e+=this.getEndOnCount()}return e},t.prototype.setRecurrenceRule=function(e,t){if(void 0===t&&(t=this.startDate),!e){this.repeatType.setProperties({value:nu});return}this.renderStatus=!1,this.ruleObject=(0,iN.ap)(e);var i=this.ruleObject.count?nb:this.ruleObject.until?ny:nf;switch(this.ruleObject.freq){case nS:this.startState(nd,i,t),this.updateUI(nd,i);break;case nE:this.startState(nm,i,t),this.updateUI(nm,i);break;case nk:this.startState(nv,i,t),this.updateUI(nv,i);break;case nA:this.startState(ng,i,t),this.updateUI(ng,i)}this.renderStatus=!0,this.triggerChangeEvent()},t.prototype.detachInputs=function(){for(var e=[].slice.call(this.element.querySelectorAll("input")),t=0;t<e.length;t++){var i=e[t];(0,A.og)(i)}},t.prototype.destroy=function(){if(!this.isDestroyed){this.destroyComponents(),e.prototype.destroy.call(this);var t=["e-"+this.getModuleName()];for(this.cssClass&&(t=t.concat(this.cssClass.split(" "))),(0,A.IV)([this.element],t),this.detachInputs();this.element.firstElementChild;)this.element.removeChild(this.element.firstElementChild)}},t.prototype.getModuleName=function(){return"recurrenceeditor"},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.render=function(){this.initialize(),this.rtlClass(this.enableRtl),this.renderStatus=!0,this.renderComplete()},t.prototype.onPropertyChanged=function(e,t){for(var i=0,n=Object.keys(e);i<n.length;i++)switch(n[i]){case"startDate":this.selectMonthDay(e.startDate),this.updateUntilDate(e.startDate),this.endType.setProperties({index:0});break;case"enableRtl":this.rtlClass(e.enableRtl);break;case"cssClass":t.cssClass&&(0,A.IV)([this.element],t.cssClass.split(" ")),e.cssClass&&(0,A.cn)([this.element],e.cssClass.split(" "));break;case"selectedType":this.repeatType.setProperties({index:this.selectedType});break;case"minDate":this.untilDateObj.setProperties({minDate:this.minDate});break;case"maxDate":this.untilDateObj.setProperties({maxDate:this.maxDate});break;case"value":this.getRecurrenceRule()!==this.value&&this.setRecurrenceRule(this.value);break;case"calendarMode":this.calendarMode=e.calendarMode,this.calendarUtil=(0,iN.Si)(e.calendarMode);break;case"locale":case"frequencies":case"firstDayOfWeek":case"endTypes":this.refresh();break;case"dateFormat":this.untilDateObj.setProperties({format:e.dateFormat})}},iY([(0,A.Z9)(["none","daily","weekly","monthly","yearly"])],t.prototype,"frequencies",void 0),iY([(0,A.Z9)(["never","until","count"])],t.prototype,"endTypes",void 0),iY([(0,A.Z9)(0)],t.prototype,"firstDayOfWeek",void 0),iY([(0,A.Z9)(new Date)],t.prototype,"startDate",void 0),iY([(0,A.Z9)()],t.prototype,"dateFormat",void 0),iY([(0,A.Z9)("Gregorian")],t.prototype,"calendarMode",void 0),iY([(0,A.Z9)()],t.prototype,"cssClass",void 0),iY([(0,A.Z9)()],t.prototype,"value",void 0),iY([(0,A.Z9)(new Date(1900,0,1))],t.prototype,"minDate",void 0),iY([(0,A.Z9)(new Date(2099,11,31))],t.prototype,"maxDate",void 0),iY([(0,A.Z9)(0)],t.prototype,"selectedType",void 0),iY([(0,A.ju)()],t.prototype,"change",void 0),t=iY([A.Zl],t)}(A.wA),nW="e-field",nz="e-recurrence-container",nB="e-hide",nj=function(){function e(e){this.parent=e,this.l10n=this.parent.localeObj,this.fields=this.parent.eventFields,this.eventWindowTime={startTime:new Date,endTime:new Date},this.renderEventWindow()}return e.prototype.renderEventWindow=function(){this.element=(0,A.az)("div",{id:this.parent.element.id+"_dialog_wrapper"}),this.parent.element.appendChild(this.element);var e={animationSettings:{effect:"Zoom"},content:this.getEventWindowContent(),cssClass:ta.M8e,enableRtl:this.parent.enableRtl,enableHtmlSanitizer:this.parent.enableHtmlSanitizer,height:this.parent.isAdaptive?"100%":"auto",minHeight:"300px",isModal:!0,showCloseIcon:!this.parent.isAdaptive,target:document.body,visible:!1,width:"500px",beforeOpen:this.onBeforeOpen.bind(this),beforeClose:this.onBeforeClose.bind(this)};this.parent.isAdaptive?(e.cssClass=ta.M8e+" "+ta.Kx5,this.parent.editorHeaderTemplate||(e.header='<div class="e-title-header"><div class="e-back-icon e-icons"></div><div class="e-title-text">'+this.l10n.getConstant("newEvent")+'</div><div class="e-save-icon e-icons"></div></div>')):(this.parent.editorFooterTemplate||this.renderDialogButtons(e),this.parent.editorHeaderTemplate||(e.header='<div class="e-title-text">'+this.l10n.getConstant("newEvent")+"</div>")),this.dialogObject=new tb.Vq(e,this.element),this.dialogObject.element.querySelector(".e-dlg-closeicon-btn")&&this.dialogObject.element.querySelector(".e-dlg-closeicon-btn").setAttribute("title",this.l10n.getConstant("close")),this.addEventHandlers(),(0,A.cn)([this.element.parentElement],ta.M8e+"-container"),A.bi.add(this.dialogObject.element,"keydown",this.preventEventSave,this),this.applyFormValidation()},e.prototype.renderDialogButtons=function(e){e.buttons=[{buttonModel:{content:this.l10n.getConstant("deleteButton"),cssClass:ta.sgF,disabled:!this.parent.eventSettings.allowDeleting||this.parent.readonly},click:this.eventDelete.bind(this)},{buttonModel:{content:this.l10n.getConstant("saveButton"),cssClass:"e-primary "+ta.xL4,isPrimary:!0,disabled:!this.parent.eventSettings.allowAdding||this.parent.readonly},click:this.eventSave.bind(this)},{buttonModel:{cssClass:ta.RFU,content:this.l10n.getConstant("cancelButton")},click:this.dialogClose.bind(this)}]},e.prototype.addEventHandlers=function(){var e=this.element.querySelector("."+ta.o$$),t=this.element.querySelector("."+ta.mx1);!this.parent.isAdaptive||(0,A.le)(e)||(0,A.le)(t)||(A.bi.add(e,"click",this.dialogClose,this),A.bi.add(t,"click",this.eventSave,this))},e.prototype.refresh=function(){this.destroy(!0),this.renderEventWindow()},e.prototype.refreshRecurrenceEditor=function(){if(this.recurrenceEditor){var e=this.recurrenceEditor.element;this.recurrenceEditor.destroy(),this.createRecurrenceEditor(e)}},e.prototype.setRecurrenceEditor=function(e){this.parent.editorTemplate&&(this.recurrenceEditor=e)},e.prototype.openEditor=function(e,t,i,n){if(this.parent.currentAction=t,this.parent.removeNewEventElement(),this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide(!0),this.parent.inlineModule.removeInlineAppointmentElement(),"Add"===t){var r={};this.cellClickAction=!i,this.parent.activeCellsData=e;var a=e;this.cellClickAction?this.convertToEventData(a,r):(this.parent.activeCellsData={startTime:a.startTime||a[this.fields.startTime],endTime:a.endTime||a[this.fields.endTime],isAllDay:a.isAllDay||a[this.fields.isAllDay],element:a.element,groupIndex:a.groupIndex},r=a),e=r}switch((0,A.le)(this.parent.editorHeaderTemplate)||(this.parent.resetTemplates(["editorHeaderTemplate"]),this.parent.isAdaptive&&!this.parent.editorFooterTemplate?this.dialogObject.header=this.createAdaptiveHeaderElement(e):this.dialogObject.header=this.getDialogHeader(e)),(0,A.le)(this.parent.editorFooterTemplate)||(this.parent.resetTemplates(["editorFooterTemplate"]),this.dialogObject.footerTemplate=this.getDialogFooter(e)),(0,A.le)(this.parent.editorHeaderTemplate)&&(0,A.le)(this.parent.editorFooterTemplate)||(this.dialogObject.dataBind(),this.addEventHandlers()),(0,A.le)(this.parent.editorTemplate)||this.renderFormElements(this.element.querySelector(".e-schedule-form"),e),!this.parent.isAdaptive&&(0,A.le)(this.parent.editorTemplate)&&(0,A.IV)([this.dialogObject.element.querySelector(".e-recurrenceeditor")],ta.cSX),this.recurrenceEditor&&(this.recurrenceEditor.firstDayOfWeek=this.parent.activeViewOptions.firstDayOfWeek),t){case"Add":this.onCellDetailsUpdate(e,n);break;case"Save":case"EditOccurrence":case"EditSeries":case"EditFollowingEvents":"EditOccurrence"===t&&!this.parent.isAdaptive&&(0,A.le)(this.parent.editorTemplate)&&(0,A.cn)([this.dialogObject.element.querySelector(".e-recurrenceeditor")],ta.cSX),this.cellClickAction=!1,this.onEventDetailsUpdate(e)}},e.prototype.setDialogContent=function(){this.dialogObject.content=this.getEventWindowContent(),this.dialogObject.dataBind(),this.applyFormValidation()},e.prototype.setDialogHeader=function(){(0,A.le)(this.parent.editorHeaderTemplate)?this.parent.isAdaptive?this.dialogObject.header='<div class="e-title-header"><div class="e-back-icon e-icons"></div><div class="e-title-text">'+this.l10n.getConstant("newEvent")+'</div><div class="e-save-icon e-icons"></div></div>':this.dialogObject.header='<div class="e-title-text">'+this.l10n.getConstant("newEvent")+"</div>":(this.parent.resetTemplates(["editorHeaderTemplate"]),this.parent.isAdaptive&&!this.parent.editorFooterTemplate?this.dialogObject.header=this.createAdaptiveHeaderElement():this.dialogObject.header=this.getDialogHeader()),this.dialogObject.dataBind(),this.addEventHandlers()},e.prototype.setDialogFooter=function(){(0,A.le)(this.parent.editorFooterTemplate)?!this.parent.isAdaptive&&(0,A.le)(this.parent.editorFooterTemplate)?this.renderDialogButtons(this.dialogObject):this.parent.isAdaptive&&(0,A.le)(this.parent.editorFooterTemplate)&&(this.dialogObject.footerTemplate=null):(this.parent.resetTemplates(["editorFooterTemplate"]),this.dialogObject.footerTemplate=this.getDialogFooter()),this.dialogObject.dataBind()},e.prototype.createAdaptiveHeaderElement=function(e){var t=(0,A.az)("div",{className:"e-title-header"}),i=(0,A.az)("div",{className:"e-back-icon e-icons"});t.appendChild(i);var n=this.getDialogHeader(e);t.appendChild(n);var r=(0,A.az)("div",{className:"e-save-icon e-icons"});return t.appendChild(r),t},e.prototype.getDialogHeader=function(e){var t=[],i=this.parent.element.id+"_editorHeaderTemplate",n=document.createElement("div");return t=[].slice.call(this.parent.getEditorHeaderTemplate()(e||{},this.parent,"editorHeaderTemplate",i,!1)),(0,A.R3)(t,n),n},e.prototype.getDialogFooter=function(e){var t=[],i=this.parent.element.id+"_editorFooterTemplate",n=document.createElement("div");return t=[].slice.call(this.parent.getEditorFooterTemplate()(e||{},this.parent,"editorFooterTemplate",i,!1)),(0,A.R3)(t,n),n},e.prototype.preventEventSave=function(e){this.parent&&!this.parent.allowKeyboardInteraction&&"Enter"===e.code&&(this.isEnterKey=!0)},e.prototype.onBeforeOpen=function(e){var t=this,i=this.eventData[this.fields.endTime].getTime(),n={type:"Editor",data:this.eventData,cancel:!1,element:this.element,target:this.cellClickAction?this.parent.activeCellsData.element:this.parent.activeEventData.element};this.cellClickAction&&(n.duration=this.getSlotDuration());var r=this.getInstance(ta.xL4);r&&(r.disabled=!(this.cellClickAction?this.parent.eventSettings.allowAdding:this.parent.eventSettings.allowEditing),r.dataBind());var a=this.getInstance(ta.sgF);a&&(a.disabled=!this.parent.eventSettings.allowDeleting,a.dataBind());var s=new tp.B;return this.parent.trigger(tn.$b,n,function(n){if(e.cancel=n.cancel,t.duration=t.cellClickAction?n.duration:null,t.eventData[t.fields.endTime].getTime()!==i||t.cellClickAction||0!==t.eventData[t.fields.endTime].getHours()||0!==t.eventData[t.fields.endTime].getMinutes()||(t.eventData=(0,A.l7)({},t.eventData,null,!0),t.trimAllDay(t.eventData)),t.refreshDateTimePicker(t.duration),t.cellClickAction&&n.duration!==t.getSlotDuration()&&(0,A.le)(t.parent.editorTemplate)){var r=t.getInstance(ta.vcd),a=t.getInstance(ta.wGR);a.value=new Date(r.value.getTime()+tr.X$*n.duration),a.dataBind()}t.parent.editorTemplate&&t.element.querySelector(".e-recurrenceeditor")&&!t.recurrenceEditor&&(t.recurrenceEditor=t.getInstance("e-recurrenceeditor")),s.resolve(e)}),s},e.prototype.onBeforeClose=function(e){var t=this;e.isInteracted&&(this.isCrudAction=!1);var i={type:"Editor",event:e.event||this.dialogEvent,data:this.eventCrudData,cancel:!1,element:this.element,target:this.cellClickAction?this.parent.activeCellsData.element:this.parent.activeEventData.element},n=new tp.B;return this.parent.trigger(tn.u_,i,function(i){e.cancel=i.cancel,i.cancel||(t.isCrudAction&&(e.cancel=t.processCrudActions(i.data),t.isCrudAction=e.cancel),t.isCrudAction||(t.resetForm(),t.parent.eventBase.focusElement(!0),t.eventCrudData=null)),n.resolve(e)}),n},e.prototype.getEventWindowContent=function(){var e=(0,A.az)("div",{className:ta.hzb}),t=(0,A.az)("form",{id:this.parent.element.id+"EditForm",className:ta.BYE,attrs:{onsubmit:"return false;"}});return this.renderFormElements(t),e.appendChild(t),e},e.prototype.renderFormElements=function(e,t){var i=this;if((0,A.le)(this.parent.editorTemplate))e.appendChild(this.getDefaultEventWindowContent());else{if(t){this.fieldValidator&&(this.fieldValidator.destroy(),this.fieldValidator=null),this.recurrenceEditor&&(this.recurrenceEditor.destroy(),this.recurrenceEditor=null),this.destroyComponents();for(var n=[].slice.call(e.children),r=0;r<n.length;r++){var a=n[r];(0,A.Od)(a)}this.parent.resetTemplates(["editorTemplate"])}var s=this.parent.element.id+"_editorTemplate",o=[].slice.call(this.parent.getEditorTemplate()(t||{},this.parent,"editorTemplate",s,!1));(0,A.R3)(o,e),this.parent.renderTemplates(function(){i.element&&i.applyFormValidation()})}},e.prototype.getDefaultEventWindowContent=function(){var e=this.createDivElement(ta.pT$),t=this.createDivElement(ta.wyP);e.appendChild(t),t.appendChild(this.renderTextBox(ta.jaK)),t.querySelector("."+ta.jaK).setAttribute("title",this.parent.editorTitles.subject),t.appendChild(this.renderTextBox(ta.mwb)),t.querySelector("."+ta.mwb).setAttribute("title",this.parent.editorTitles.location);var i=this.createDivElement(ta.Zt5);e.appendChild(i),i.appendChild(this.renderDateTimePicker(ta.vcd,this.onTimeChange.bind(this))),i.querySelector("."+ta.vcd).setAttribute("title",this.parent.editorTitles.startTime),i.appendChild(this.renderDateTimePicker(ta.wGR)),i.querySelector("."+ta.wGR).setAttribute("title",this.parent.editorTitles.endTime);var n=this.createDivElement(ta.eA9);e.appendChild(n),n.appendChild(this.renderCheckBox(ta.vXb)),n.appendChild(this.renderCheckBox(ta.k$u));var r=this.createDivElement(ta.hGV);e.appendChild(r),r.appendChild(this.renderDropDown(ta.R0k)),r.appendChild(this.renderDropDown(ta.tbt));var a=this.createDivElement(ta.rqP);e.appendChild(a);var s=this.renderCheckBox(ta.oFb),o=(0,A.az)("span",{className:nz}),l=(0,A.az)("button",{className:"e-recurrence-edit-button",attrs:{type:"button",title:this.l10n.getConstant("editRecurrence")}});if(this.buttonObj=new I.zx({iconCss:"e-recurrence-edit e-icons",cssClass:"e-medium "+this.parent.cssClass}),o.appendChild(l),this.buttonObj.appendTo(l),s.appendChild(o),a.appendChild(s),this.parent.isAdaptive?A.bi.add(l,"click",this.loadRecurrenceEditor,this):this.createRecurrenceEditor(e),this.parent.resourceCollection.length>0){for(var h=this.createDivElement(ta.oCw),p=0,c=this.parent.resourceBase.resourceCollection;p<c.length;p++){var u=c[p];h.appendChild(this.renderResourceDetails(u))}e.appendChild(h)}var d=this.createDivElement(ta.Tko+"-row");d.appendChild(this.renderTextBox(ta.Tko)),d.querySelector("."+ta.Tko).setAttribute("title",this.parent.editorTitles.description),e.appendChild(d);var m=(0,A.az)("button",{attrs:{type:"hidden",title:"submit",style:"display:none"}});return e.appendChild(m),e},e.prototype.createRecurrenceEditor=function(e){var t=(0,A.az)("div",{id:this.parent.element.id+"_recurrence_editor"});e.appendChild(t),this.recurrenceEditor=this.renderRecurrenceEditor(),this.recurrenceEditor.appendTo(t),this.updateMinMaxDateToEditor()},e.prototype.createDivElement=function(e){return(0,A.az)("div",{className:e})},e.prototype.createInputElement=function(e,t,i){return(0,A.az)(i||"input",{className:e,attrs:{type:"text",name:t,value:"",id:t,title:""===this.l10n.getConstant(t.charAt(0).toLowerCase()+t.slice(1))?t:this.l10n.getConstant(t.charAt(0).toLowerCase()+t.slice(1))}})},e.prototype.getSlotDuration=function(){return this.parent.activeViewOptions.timeScale.interval/this.parent.activeViewOptions.timeScale.slotCount},e.prototype.renderDateTimePicker=function(e,t){var i=this.createDivElement(e+"-container"),n=this.getFieldName(e),r=this.createInputElement(e+" "+nW,n);return i.appendChild(r),new iR({change:t,firstDayOfWeek:this.parent.activeViewOptions.firstDayOfWeek,calendarMode:this.parent.calendarMode,min:this.parent.minDate,max:new Date(new Date(+this.parent.maxDate).setHours(23,59,59)),cssClass:this.parent.cssClass,enableRtl:this.parent.enableRtl,locale:this.parent.locale,floatLabelType:"Always",timeFormat:this.parent.activeViewOptions.timeFormat,format:((0,A.le)(this.parent.dateFormat)?this.getFormat("dateFormats"):this.parent.dateFormat)+" "+this.parent.activeViewOptions.timeFormat,placeholder:this.getFieldLabel(e),step:this.getSlotDuration(),width:"100%"}).appendTo(r),i},e.prototype.refreshDateTimePicker=function(e){for(var t="."+ta.vcd+",."+ta.wGR,i=[].slice.call(this.element.querySelectorAll(t)),n=0;n<i.length;n++){var r=i[n].ej2_instances[0];r.firstDayOfWeek=this.parent.activeViewOptions.firstDayOfWeek,r.timeFormat=this.parent.activeViewOptions.timeFormat,r.step=e||this.getSlotDuration(),r.dataBind()}},e.prototype.onTimeChange=function(){var e=this.getInstance(ta.vcd);if(e.element.parentElement.classList.contains("e-input-focus")){var t=this.getInstance(ta.wGR),i=0;this.cellClickAction?(i=tr.X$*this.duration,this.eventWindowTime.startTime=e.value):i=this.eventData[this.fields.endTime].getTime()-this.eventData[this.fields.startTime].getTime();var n=(0,A.le)(e.value)?null:new Date(e.value.getTime()+i);this.cellClickAction&&(this.eventWindowTime.endTime=n),t.value=n,t.dataBind()}this.recurrenceEditor&&this.recurrenceEditor.updateRuleUntilDate(this.eventWindowTime.startTime)},e.prototype.renderResourceDetails=function(e){var t=e.field,i="e-"+t,n=e.title,r=this.createDivElement(i+"-container e-resources"),a=this.createInputElement(i+" "+nW,t);r.appendChild(a);var s=function(t){return'<div class="e-resource-template"><div class="e-resource-color" style="background-color:'+t[e.colorField]+'"></div><div class="e-resource-text">'+t[e.textField]+"</div></div>"};return(0,A.rN)(s,e),e.allowMultiple?new tj.N({enableRtl:this.parent.enableRtl,enableHtmlSanitizer:this.parent.enableHtmlSanitizer,cssClass:this.parent.cssClass||"",dataSource:e.dataSource,change:this.onMultiselectResourceChange.bind(this),itemTemplate:s,fields:{text:e.textField,value:e.idField},htmlAttributes:{title:n,name:t},floatLabelType:"Always",placeholder:n,popupHeight:"230px",popupWidth:"447px",mode:"Box"}).appendTo(a):new tN.N({cssClass:this.parent.cssClass||"",change:this.onDropdownResourceChange.bind(this),dataSource:e.dataSource,enableRtl:this.parent.enableRtl,fields:{text:e.textField,value:e.idField},htmlAttributes:{title:n,name:t},floatLabelType:"Always",placeholder:n,popupHeight:"230px",popupWidth:"447px",itemTemplate:s}).appendTo(a),r},e.prototype.renderDropDown=function(e){var t=this,i=this.getFieldName(e),n=this.createDivElement(e+"-container"),r=this.createInputElement(e+" "+nW,i);return n.appendChild(r),new tN.N({allowFiltering:!0,change:this.onTimezoneChange.bind(this),cssClass:this.parent.cssClass||"",dataSource:this.parent.timezoneDataSource,enableRtl:this.parent.enableRtl,fields:{text:"Text",value:"Value"},filterBarPlaceholder:this.parent.localeObj.getConstant("searchTimezone"),noRecordsTemplate:this.parent.localeObj.getConstant("noRecords"),filtering:function(e){var i=new tc.A;i=""!==e.text?i.where("Text","contains",e.text,!0):i,e.updateData(t.parent.timezoneDataSource,i)},htmlAttributes:{title:this.getFieldLabel(e),name:i},floatLabelType:"Always",placeholder:this.getFieldLabel(e),popupHeight:"230px"}).appendTo(r),n},e.prototype.onMultiselectResourceChange=function(e){if(e.value&&this.parent.activeViewOptions.group.byGroupID&&!(this.parent.resourceCollection.length<=1)){for(var t=this.parent.resourceBase.resourceCollection,i=e.element.getAttribute("name")||this.getColumnName(e.element),n=0;n<t.length;n++)if(t[parseInt(n.toString(),10)].field===i&&n<t.length-1){for(var r=this.createInstance(n),a=[],s=function(i){var r=t[n+1],s=r.dataSource.filter(function(t){return t[r.groupIDField]===e.value[parseInt(i.toString(),10)]})[0],l=(0,A.le)(s)?null:s[t[n+1].groupIDField],h=o.filterDatasource(n,l);a=a.concat(h)},o=this,l=0;l<e.value.length;l++)s(l);r.dataSource=a,r.dataBind()}}},e.prototype.createInstance=function(e){var t=this.parent.resourceBase.resourceCollection[e+1],i=this.element.querySelector(".e-"+t.field).ej2_instances[0];return i.clear(),i},e.prototype.onDropdownResourceChange=function(e){if(e.value&&!(this.parent.resourceCollection.length<=1)&&this.parent.activeViewOptions.group.byGroupID){for(var t=e.element.getAttribute("name")||this.getColumnName(e.element),i=this.parent.resourceBase.resourceCollection,n=0;n<i.length;n++)if(n<i.length-1&&i[parseInt(n.toString(),10)].field===t){var r=this.createInstance(n),a=e.itemData[i[parseInt(n.toString(),10)].idField];r.dataSource=this.filterDatasource(n,a),r.dataBind();var s=r.dataSource.length>0?r.dataSource[0][i[n+1].idField]:null;r.value=i[n+1].allowMultiple?[s]:s,r.dataBind()}}},e.prototype.filterDatasource=function(e,t){var i=this.parent.resourceBase.resourceCollection[e+1];return i.dataSource.filter(function(e){return e[i.groupIDField]===t})},e.prototype.onTimezoneChange=function(e){if((e.element.getAttribute("name")||this.getColumnName(e.element))===this.parent.eventFields.startTimezone){var t=this.getInstance(ta.R0k),i=this.getInstance(ta.tbt);i.value=t.value,i.dataBind()}},e.prototype.renderCheckBox=function(e){var t=this.createDivElement(e+"-container"),i=this.getFieldName(e),n=this.createInputElement(e+" "+nW,i);t.appendChild(n);var r=new tB({change:this.onChange.bind(this),cssClass:e+" "+this.parent.cssClass,enableRtl:this.parent.enableRtl,enableHtmlSanitizer:this.parent.enableHtmlSanitizer,label:this.getFieldLabel(e)});return r.appendTo(n),n.setAttribute("name",i),"Repeat"===i&&(this.repeatStatus=r),t},e.prototype.renderTextBox=function(e){var t=this.createDivElement(e+"-container"),i=this.getFieldName(e),n=e===ta.Tko?"textarea":"input",r=this.createInputElement(e+" "+nW,i,n);return t.appendChild(r),tD.I.createInput({element:r,floatLabelType:"Always",properties:{enableRtl:this.parent.enableRtl,placeholder:this.getFieldLabel(e)}}),t},e.prototype.getFieldName=function(e){var t="";switch(e){case ta.jaK:t=this.fields.subject;break;case ta.mwb:t=this.fields.location;break;case ta.vcd:t=this.fields.startTime;break;case ta.wGR:t=this.fields.endTime;break;case ta.Tko:t=this.fields.description;break;case ta.vXb:t=this.fields.isAllDay;break;case ta.R0k:t=this.fields.startTimezone;break;case ta.tbt:t=this.fields.endTimezone;break;case ta.k$u:t="Timezone";break;case ta.oFb:t="Repeat"}return t},e.prototype.getFieldLabel=function(e){var t="";switch(e){case ta.jaK:t=this.parent.editorTitles.subject;break;case ta.mwb:t=this.parent.editorTitles.location;break;case ta.Tko:t=this.parent.editorTitles.description;break;case ta.vcd:t=this.parent.editorTitles.startTime;break;case ta.wGR:t=this.parent.editorTitles.endTime;break;case ta.R0k:t=this.parent.editorTitles.startTimezone;break;case ta.tbt:t=this.parent.editorTitles.endTimezone;break;case ta.oFb:t=this.parent.editorTitles.recurrenceRule;break;case ta.vXb:t=this.parent.editorTitles.isAllDay;break;case ta.k$u:t=this.l10n.getConstant("timezone")}return t},e.prototype.onChange=function(e){if(e.event&&e.event.target){var t="."+ta.vXb+",."+ta.k$u+",."+ta.oFb,i=(0,A.oq)(e.event.target,t);i.classList.contains(ta.vXb)?this.onAllDayChange(e.checked):i.classList.contains(ta.k$u)?this.timezoneChangeStyle(e.checked):i.classList.contains(ta.oFb)&&this.onRepeatChange(e.checked)}},e.prototype.renderRepeatDialog=function(){var e=(0,A.az)("div");this.repeatDialogObject=new tb.Vq({header:this.l10n.getConstant("recurrence"),visible:!1,content:'<div class="e-rec-editor"></div>',closeOnEscape:!0,width:"90%",buttons:[{click:this.repeatSaveDialog.bind(this),buttonModel:{content:this.l10n.getConstant("save"),cssClass:"e-save",isPrimary:!0}},{click:this.repeatCancelDialog.bind(this),buttonModel:{cssClass:"e-cancel",content:this.l10n.getConstant("cancel")}}],target:this.element,animationSettings:{effect:"Zoom"},enableRtl:this.parent.enableRtl,enableHtmlSanitizer:this.parent.enableHtmlSanitizer,isModal:!0,cssClass:"e-recurrence-dialog",open:this.repeatOpenDialog.bind(this)}),this.element.appendChild(e),this.repeatDialogObject.appendTo(e),this.createRecurrenceEditor(this.repeatDialogObject.element.querySelector(".e-rec-editor"))},e.prototype.loadRecurrenceEditor=function(){this.repeatDialogObject.show(),this.recurrenceEditor&&this.repeatRule&&this.recurrenceEditor.setRecurrenceRule(this.repeatRule)},e.prototype.onRepeatChange=function(e){if(e)this.repeatDialogObject||this.renderRepeatDialog(),this.recurrenceEditor.setProperties({startDate:this.repeatStartDate,selectedType:0}),this.loadRecurrenceEditor();else{this.repeatDialogObject&&this.repeatDialogObject.hide(),this.repeatRule="",this.recurrenceEditor&&(this.recurrenceEditor.setRecurrenceRule(this.repeatRule),this.updateRepeatLabel(this.repeatRule));var t=this.element.querySelector("."+nz);(0,A.cn)([t],nB)}},e.prototype.repeatSaveDialog=function(){this.repeatRule=this.recurrenceEditor.getRecurrenceRule();var e=this.element.querySelector("."+nz);this.recurrenceEditor.getRecurrenceRule()?(0,A.IV)([e],nB):((0,A.cn)([e],nB),this.repeatStatus.setProperties({checked:!1})),this.updateRepeatLabel(this.repeatRule),this.closeRepeatDialog()},e.prototype.closeRepeatDialog=function(){this.repeatDialogObject.hide()},e.prototype.repeatCancelDialog=function(){this.closeRepeatDialog(),this.recurrenceEditor&&this.recurrenceEditor.setRecurrenceRule(this.repeatTempRule),this.repeatTempRule||this.repeatStatus.setProperties({checked:!1})},e.prototype.repeatOpenDialog=function(){this.repeatTempRule=this.recurrenceEditor.getRecurrenceRule()},e.prototype.onCellDetailsUpdate=function(e,t){if(this.parent.eventSettings.allowAdding){this.parent.isAdaptive&&t&&!this.repeatDialogObject&&this.renderRepeatDialog(),this.element.querySelector("."+ta.BYE).removeAttribute("data-id"),(0,A.le)(this.parent.editorHeaderTemplate)&&(this.element.querySelector("."+ta.CPx).innerHTML=this.l10n.getConstant("newEvent")),e.Timezone=!1,this.repeatStartDate=e[this.fields.startTime],this.repeatRule="",(0,A.le)(this.parent.eventSettings.fields.subject.default)||(e[this.fields.subject]=this.parent.eventSettings.fields.subject.default),(0,A.le)(this.parent.eventSettings.fields.location.default)||(e[this.fields.location]=this.parent.eventSettings.fields.location.default),(0,A.le)(this.parent.eventSettings.fields.description.default)||(e[this.fields.description]=this.parent.eventSettings.fields.description.default),this.showDetails(e),e[this.fields.recurrenceRule]&&this.recurrenceEditor&&(this.recurrenceEditor.setRecurrenceRule(e[this.fields.recurrenceRule],e[this.fields.startTime]),this.repeatRule=e[this.fields.recurrenceRule]);var i=this.element.querySelector("."+ta.sgF);if(i&&(0,A.cn)([i],ta.cSX),this.recurrenceEditor&&(this.recurrenceEditor.setProperties({startDate:e[this.fields.startTime],selectedType:(0,A.le)(t)?(0,A.le)(e[this.fields.recurrenceRule])?0:this.recurrenceEditor.selectedType:t}),this.repeatRule=this.recurrenceEditor.value),this.parent.isAdaptive&&(0,A.le)(this.parent.editorTemplate)){var n=this.element.querySelector("."+nz);e[this.fields.recurrenceRule]||t?((0,A.IV)([n],nB),this.repeatStatus.setProperties({checked:!0})):((0,A.cn)([n],nB),this.repeatStatus.setProperties({checked:!1})),this.updateRepeatLabel(this.repeatRule)}else{var r=this.element.querySelector("."+ta.xL4);this.disableButton(r,!1)}this.dialogObject.show()}},e.prototype.convertToEventData=function(e,t){e.subject&&(t[this.fields.subject]=e.subject),t[this.fields.startTime]=e.startTime,t[this.fields.endTime]=e.endTime,t[this.fields.isAllDay]=e.isAllDay,e.RecurrenceRule&&(t[this.fields.recurrenceRule]=e.RecurrenceRule),(this.parent.resourceCollection.length>0||this.parent.activeViewOptions.group.resources.length>0)&&this.parent.resourceBase.setResourceValues(t)},e.prototype.applyFormValidation=function(){var e=this.element.querySelector("."+ta.BYE);if(e){var t=function(e){return e&&Object.keys(e).length>0?e:void 0},i={},n=t(this.parent.eventSettings.fields.subject.validation);(0,A.le)(n)||(i[this.parent.eventSettings.fields.subject.name]=n);var r=t(this.parent.eventSettings.fields.location.validation);(0,A.le)(r)||(i[this.parent.eventSettings.fields.location.name]=r);var a=t(this.parent.eventSettings.fields.startTime.validation);(0,A.le)(a)||(i[this.parent.eventSettings.fields.startTime.name]=a);var s=t(this.parent.eventSettings.fields.endTime.validation);(0,A.le)(s)||(i[this.parent.eventSettings.fields.endTime.name]=s);var o=t(this.parent.eventSettings.fields.description.validation);(0,A.le)(o)||(i[this.parent.eventSettings.fields.description.name]=o),this.fieldValidator=new tC,this.fieldValidator.renderFormValidator(e,i,this.element,this.parent.locale)}},e.prototype.showDetails=function(e){this.eventData=e;var t=(0,A.l7)({},e,null,!0);this.cellClickAction&&(!this.cellClickAction||(0,A.le)(this.parent.editorTemplate))||0!==t[this.fields.endTime].getHours()||0!==t[this.fields.endTime].getMinutes()||this.trimAllDay(t);for(var i=this.getFormElements(ta.M8e),n=Object.keys(t),r=0;r<i.length;r++){var a=i[r],s=a.name||this.getColumnName(a);(0,A.le)(s)||""===s||(-1!==n.indexOf(s)?this.setValueToElement(a,t[""+s]):this.setDefaultValueToElement(a))}if((0,A.le)(this.parent.editorTemplate)){this.onAllDayChange(t[this.fields.isAllDay]);var o=this.getInstance(ta.k$u+"."+nW);(0,A.le)(t[this.fields.startTimezone])&&(0,A.le)(t[this.fields.endTimezone])||(o.checked=!0,o.dataBind()),this.timezoneChangeStyle(o.checked),delete t.Timezone}},e.prototype.getColumnName=function(e){var t=e.getAttribute("data-name")||"";if(""===t){var i=!1,n="";e.classList.contains("e-dropdownlist")?(n="e-ddl",i=!0):e.classList.contains("e-multiselect")?(n="e-multiselect",i=!0):e.classList.contains("e-datetimepicker")?n="e-datetimepicker":e.classList.contains("e-datepicker")?n="e-datepicker":e.classList.contains("e-checkbox")&&(n="e-checkbox");var r=i?"."+n+":not(.e-control)":"."+n,a=(0,A.oq)(e,r)||e.querySelector("."+n);if(a){var s=a.querySelector("[name]");s&&(t=s.name)}}return t},e.prototype.onAllDayChange=function(e){var t,i=this.getInstance(ta.vcd),n=this.getInstance(ta.wGR),r=this.element.querySelector(".e-time-zone-container");e?(t=(0,A.le)(this.parent.dateFormat)?this.getFormat("dateFormats"):this.parent.dateFormat,(0,A.cn)(this.element.querySelectorAll(".e-time-icon"),ta.f6t),(0,A.cn)([r],ta.cSX),this.element.querySelector("."+ta.hGV)&&(0,A.IV)([this.element.querySelector("."+ta.hGV)],ta.JiT)):(t=(0,A.le)(this.parent.dateFormat)?this.getFormat("dateFormats")+" "+this.parent.activeViewOptions.timeFormat:this.parent.dateFormat+" "+this.parent.activeViewOptions.timeFormat,(0,A.IV)(this.element.querySelectorAll(".e-time-icon"),ta.f6t),(0,A.IV)([r],ta.cSX),this.element.querySelector(".e-checkbox-wrapper .e-time-zone").checked&&(0,A.cn)([this.element.querySelector("."+ta.hGV)],ta.JiT)),i.format=n.format=t,this.cellClickAction&&this.updateDateTime(e,i,n),i.dataBind(),n.dataBind(),(0,A.le)(this.recurrenceEditor)||this.recurrenceEditor.updateRuleUntilDate(i.value)},e.prototype.updateDateTime=function(e,t,i){if(e){if(n=tr.zS(new Date(this.eventWindowTime.startTime.getTime())),this.parent.activeCellsData.isAllDay){var n,r,a=tr.E4(new Date(this.eventWindowTime.endTime.getTime()),-1).getTime();r=+this.eventWindowTime.startTime>a?this.eventWindowTime.endTime:new Date(a)}else r=tr.zS(new Date(this.eventWindowTime.endTime.getTime()))}else{var s=this.parent.activeCellsData.startTime;if((n=new Date(this.eventWindowTime.startTime.getTime())).setHours(s.getHours(),s.getMinutes(),s.getSeconds()),this.parent.activeCellsData.isAllDay){var o=this.parent.getStartEndTime(this.parent.workHours.start);n.setHours(o.getHours(),o.getMinutes(),o.getSeconds()),(r=new Date(n.getTime())).setMilliseconds(tr.X$*this.getSlotDuration())}else(r=new Date(n.getTime())).setMilliseconds(this.parent.activeCellsData.endTime.getTime()-this.parent.activeCellsData.startTime.getTime())}this.eventWindowTime={startTime:new Date(n.getTime()),endTime:new Date(r.getTime())},t.value=n,i.value=r,t.dataBind(),i.dataBind()},e.prototype.getFormat=function(e){return"en"===this.parent.locale||"en-US"===this.parent.locale?(0,A.NA)(e+".short",(0,A.bD)(this.parent.getCalendarMode())):(0,A.NA)("main."+this.parent.locale+".dates.calendars."+this.parent.getCalendarMode()+"."+e+".short",A.qV)},e.prototype.onEventDetailsUpdate=function(e){if(this.parent.eventSettings.allowEditing){if(!this.parent.isAdaptive&&(0,A.le)(this.parent.editorFooterTemplate)&&(0,A.IV)([this.element.querySelector("."+ta.sgF)],ta.cSX),(0,A.le)(this.parent.editorHeaderTemplate)&&(this.element.querySelector("."+ta.CPx).innerHTML=this.l10n.getConstant("editEvent")),this.element.querySelector("."+ta.BYE).setAttribute("data-id",e[this.fields.id].toString()),(0,A.le)(this.parent.editorTemplate)){e=(0,A.l7)({},e,null,!0);var t=this.getInstance(ta.k$u+"."+nW),i=void 0;e[this.fields.startTimezone]||e[this.fields.endTimezone]?(i=!0,this.parent.eventBase.timezoneConvert(e)):i=!1,e.Timezone=i,t.checked=i,t.dataBind()}if(this.showDetails(e),e[this.fields.recurrenceRule]&&this.recurrenceEditor?this.recurrenceEditor.setRecurrenceRule(e[this.fields.recurrenceRule],e[this.fields.startTime]):!this.parent.isAdaptive&&this.recurrenceEditor&&(this.recurrenceEditor.setProperties({startDate:e[this.fields.startTime]}),this.recurrenceEditor.setRecurrenceRule("")),this.repeatStartDate=e[this.fields.startTime],this.repeatRule="",e[this.fields.recurrenceRule]&&(this.recurrenceEditor&&this.recurrenceEditor.setRecurrenceRule(e[this.fields.recurrenceRule],e[this.fields.startTime]),this.repeatRule=e[this.fields.recurrenceRule]),this.parent.isAdaptive&&(0,A.le)(this.parent.editorTemplate)){var n=this.element.querySelector("."+nz);e[this.fields.recurrenceRule]?((0,A.IV)([n],nB),this.repeatStatus.setProperties({checked:!0})):((0,A.cn)([n],nB),this.repeatStatus.setProperties({checked:!1})),this.updateRepeatLabel(this.repeatRule)}var r=this.parent.readonly||e[this.fields.isReadonly];if(this.parent.isAdaptive){var a=this.element.querySelector("."+ta.mx1);a&&(r?(0,A.cn)([a],ta.Ev2):(0,A.IV)([a],ta.Ev2))}else{var s=this.element.querySelector("."+ta.xL4),o=this.element.querySelector("."+ta.sgF);this.disableButton(s,r),this.disableButton(o,r)}this.dialogObject.show()}},e.prototype.disableButton=function(e,t){e&&(e.ej2_instances[0].disabled=t)},e.prototype.renderRecurrenceEditor=function(){return new nF({calendarMode:this.parent.calendarMode,cssClass:this.parent.cssClass,dateFormat:this.parent.dateFormat,enableRtl:this.parent.enableRtl,firstDayOfWeek:this.parent.activeViewOptions.firstDayOfWeek,locale:this.parent.locale})},e.prototype.updateMinMaxDateToEditor=function(){var e=this.element.querySelector(".e-start"),t=this.element.querySelector(".e-end");if(e&&t){var i=e.ej2_instances[0],n=t.ej2_instances[0];i.min=this.parent.minDate,i.max=this.parent.maxDate,n.min=this.parent.minDate,n.max=this.parent.maxDate,i.dataBind(),n.dataBind()}if(this.recurrenceEditor){var r=this.recurrenceEditor.element.querySelector(".e-until-date");if(r){var a=r.ej2_instances[0];a.min=this.parent.minDate,a.max=this.parent.maxDate,a.dataBind()}}},e.prototype.updateRepeatLabel=function(e){this.parent.isAdaptive&&!this.repeatDialogObject&&this.renderRepeatDialog();var t=e?this.l10n.getConstant("repeats")+" "+this.recurrenceEditor.getRuleSummary(e):this.l10n.getConstant("repeat");this.repeatStatus.setProperties({label:t})},e.prototype.dialogClose=function(e){if(this.isEnterKey){this.isEnterKey=!1;return}this.dialogEvent=e,this.isCrudAction=!1,this.parent.activeEventData={event:void 0,element:void 0},this.parent.currentAction=null,this.dialogObject.hide()},e.prototype.resetForm=function(){this.fieldValidator.destroyToolTip(),this.resetFormFields(),this.parent.isAdaptive||!this.recurrenceEditor||this.recurrenceEditor.isDestroyed||this.recurrenceEditor.resetFields()},e.prototype.timezoneChangeStyle=function(e){var t=this.element.querySelector("."+ta.hGV),i=this.parent.tzModule.getLocalTimezoneName();if(e){(0,A.cn)([t],ta.JiT);var n=this.getInstance(ta.R0k),r=this.getInstance(ta.tbt),a=n.dataSource;n.value&&this.parent.timezone||a.some(function(e){return e.Value===i})||(a.push({Value:i,Text:i}),n.dataSource=a,r.dataSource=a,n.dataBind(),r.dataBind()),n.value=n.value||this.parent.timezone||i,r.value=r.value||this.parent.timezone||i,n.dataBind(),r.dataBind()}else(0,A.IV)([t],ta.JiT)},e.prototype.resetFormFields=function(){for(var e=this.getFormElements(ta.M8e),t=0;t<e.length;t++){var i=e[t],n=i.name||this.getColumnName(i);(0,A.le)(n)||""===n||this.setDefaultValueToElement(i)}},e.prototype.eventSave=function(e,t){if(this.isEnterKey){this.isEnterKey=!1;return}var i=this.element.querySelector("."+ta.BYE);if(!(i&&i.classList.contains("e-formvalidator"))||i.ej2_instances[0].validate()){var n=this.getEventDataFromEditor();this.processEventValidation(n.tempData,t)||(this.eventCrudData=n.eventData,this.dialogEvent=e,this.isCrudAction=!0,this.dialogObject.hide())}},e.prototype.getEventDataFromEditor=function(){var e=(0,A.l7)({},this.getObjectFromFormData(ta.M8e));e.Timezone||(e[this.fields.startTimezone]=null,e[this.fields.endTimezone]=null),delete e.Timezone,delete e.Repeat,this.setDefaultValueToObject(e),e[this.fields.recurrenceRule]=this.recurrenceEditor?this.recurrenceEditor.getRecurrenceRule()||null:void 0;var t=(0,A.l7)({},e,null,!0);return e[this.fields.isAllDay]&&(e[this.fields.startTime]=(0,A.le)(e[this.fields.startTime])?null:tr.zS(new Date(e[this.fields.startTime].getTime())),e[this.fields.endTime]=(0,A.le)(e[this.fields.endTime])?null:tr.E4(tr.zS(new Date(e[this.fields.endTime].getTime())),1)),{eventData:e,tempData:t}},e.prototype.processEventValidation=function(e,t){var i;if((0,A.le)(this.parent.editorTemplate)){if(!e[this.fields.startTime]||!e[this.fields.endTime])return this.parent.quickPopup.openValidationError("invalidDateError"),!0;if(e[this.fields.startTime]>e[this.fields.endTime])return this.parent.quickPopup.openValidationError("startEndError"),!0}if(this.recurrenceEditor&&this.recurrenceEditor.value&&""!==this.recurrenceEditor.value){"EditOccurrence"!==this.parent.currentAction&&(i=this.recurrenceValidation(e[this.fields.startTime],e[this.fields.endTime],t));var n=!0;if("seriesChangeAlert"===i&&this.parent.uiStateValues.isIgnoreOccurrence&&(n=!1),!(0,A.le)(i)&&n&&(!this.parent.enableRecurrenceValidation&&"wrongPattern"===i||this.parent.enableRecurrenceValidation))return this.parent.quickPopup.openRecurrenceValidationAlert(i),!0}return!1},e.prototype.processCrudActions=function(e){var t=this;this.parent.uiStateValues.isBlock=!1;var i=this.getResourceData(e),n=(this.parent.activeViewOptions.group.resources.length>0||this.parent.resourceCollection.length>0)&&!this.parent.activeViewOptions.group.allowGroupEdit&&!(0,A.le)(i),r=this.getEventIdFromForm();if((0,A.le)(r))this.parent.currentAction="Add",n?this.resourceSaveEvent(e,this.parent.currentAction):(e[this.fields.id]=this.parent.eventBase.getEventMaxID(),this.parent.addEvent(e));else{var a="string"===this.parent.eventBase.getEventIDType()?r:parseInt(r,10),s=this.parent.eventsData.filter(function(e){return e[t.fields.id]===a})[0];if((0,A.le)(s)&&(s=this.parent.blockData.filter(function(e){return e[t.fields.id]===a})[0]),(e=(0,A.l7)({},s,e))[this.fields.isReadonly])return!1;var o=void 0;if(!(0,A.le)(s[this.fields.recurrenceRule])){if(o=this.parent.currentAction,e.Guid=this.parent.activeEventData.event.Guid,"EditOccurrence"===this.parent.currentAction&&(e[this.fields.recurrenceID]?(a=e[this.fields.recurrenceID],o=null):(e[this.fields.id]=this.parent.eventBase.getEventMaxID(),e.Guid=this.parent.activeEventData.event.Guid),this.parent.enableRecurrenceValidation&&this.editOccurrenceValidation(a,e)))return!0;"EditSeries"===this.parent.currentAction||e[this.fields.id]!==s[this.fields.id]?e[this.fields.recurrenceID]=s[this.fields.id]:"EditFollowingEvents"===this.parent.currentAction&&(e[this.fields.id]=this.parent.eventBase.getEventMaxID(),e[this.fields.followingID]=s[this.fields.id])}n?this.resourceSaveEvent(e,"Save",o):this.parent.saveEvent(e,o)}return this.parent.uiStateValues.isBlock},e.prototype.getResourceData=function(e){var t=null;return(0,A.le)(this.parent.resourceBase)||(0,A.le)(this.parent.resourceBase.resourceCollection)||!(this.parent.resourceBase.resourceCollection.length>0)||(t=e[this.parent.resourceBase.resourceCollection.slice(-1)[0].field]),t},e.prototype.getObjectFromFormData=function(e){for(var t=this.getFormElements(e),i={},n=0;n<t.length;n++){var r=t[n],a=r.name||this.getColumnName(r);(0,A.le)(a)||""===a||(i[""+a]=this.getValueFromElement(r))}return i},e.prototype.setDefaultValueToObject=function(e){(0,A.le)(e[this.fields.subject])||(e[this.fields.subject]=e[this.fields.subject]||this.parent.eventSettings.fields.subject.default||this.l10n.getConstant("addTitle")),(0,A.le)(e[this.fields.location])||(e[this.fields.location]=e[this.fields.location]||this.parent.eventSettings.fields.location.default),(0,A.le)(e[this.fields.description])||(e[this.fields.description]=e[this.fields.description]||this.parent.eventSettings.fields.description.default)},e.prototype.recurrenceValidation=function(e,t,i){var n,r=this.recurrenceEditor,a=this.getInstance("e-repeat-interval.e-numerictextbox").value;if(i!==this.l10n.getConstant("ok")){var s=this.parent.activeEventData.event,o=[];if(("EditSeries"===this.parent.currentAction||"EditFollowingEvents"===this.parent.currentAction)&&!(0,A.le)(s)){var l=s[this.parent.eventFields.startTime],h=this.parent.eventBase.getSeriesEvents(this.eventData,l);if(h.length>0)o=this.parent.eventBase.getEditedOccurrences(h,l);else{var p=this.parent.eventBase.getEventById(s[this.parent.eventFields.id]);o=this.parent.eventBase.getEditedOccurrences([p],l)}"EditSeries"!==this.parent.currentAction||(0,A.le)(this.eventData[this.parent.eventFields.recurrenceException])||o.push(this.eventData)}if(o.length>0&&(n="seriesChangeAlert"),"until"===this.getInstance("e-end-on-left .e-ddl .e-dropdownlist").value&&this.getInstance("e-end-on-date .e-datepicker").value<e&&(n="wrongPattern"),(0,A.le)(n)){var c=r.value.split(";")[1].split("=")[1].split(","),u={SU:0,MO:1,TU:2,WE:3,TH:4,FR:5,SA:6},d=[],m=[],v=void 0;switch(r.value.split(";")[0].split("=")[1]){case"DAILY":(t.getTime()-e.getTime())/36e5>24*a&&(n="createError");break;case"WEEKLY":c=r.value.split(";")[1].split("=")[1].split(",");for(var g=0;g<c.length*(a+1);g++)d[parseInt(g.toString(),10)]=c.length>g?u[c[parseInt(g.toString(),10)]]:d[g-c.length]+7*a;v=d.sort(function(e,t){return e-t});for(var g=1;g<v.length;g++)m.push(v[parseInt(g.toString(),10)]-v[g-1]);((t.getTime()-e.getTime())/36e5>=24*Math.min.apply(Math,m)||(0,A.le)(a))&&(n="createError");break;case"MONTHLY":t.getTime()>=new Date(+e).setMonth(e.getMonth()+a)&&(n="createError");break;case"YEARLY":t.getTime()>=new Date(+e).setFullYear(e.getFullYear()+a)&&(n="createError")}}}else t.getTime()>=new Date(+e).setMonth(e.getMonth()+a)&&(n="createError"),(0,A.le)(n)&&this.parent.quickPopup.quickDialog.hide();return(0,A.le)(a)&&(n="createError"),n},e.prototype.getRecurrenceIndex=function(e,t){for(var i,n=0;n<e.length;n++)if(t[this.fields.startTime].valueOf()===e[parseInt(n.toString(),10)][this.fields.startTime].valueOf()){i=n;break}return i},e.prototype.trimAllDay=function(e){if(e[this.fields.isAllDay]){var t=tr.E4(new Date(+e[this.fields.endTime]),-1).getTime();e[this.fields.endTime]=+e[this.fields.startTime]>t?e[this.fields.endTime]:new Date(t)}},e.prototype.editOccurrenceValidation=function(e,t,i){var n,r,a=this;void 0===i&&(i=this.eventData);var s=this.parent.getOccurrencesByID(e);this.parent.eventsData.filter(function(t){return t[a.fields.recurrenceID]===e}).map(function(e){return s.push((0,A.l7)({},e))}),t=(0,A.l7)({},t),this.trimAllDay(t);for(var o=0;o<s.length;o++){var l=s[o];this.trimAllDay(l)}this.parent.eventBase.sortByTime(s);var h=this.getRecurrenceIndex(s,i);if((0,A.le)(h))return!1;var p=new Date(+t[this.fields.startTime]),c=new Date(+t[this.fields.endTime]);h!==s.length-1&&(n=new Date(+s[h+1][this.fields.startTime]),r=new Date(+s[h+1][this.fields.endTime]));var u=new Date(+s[s.length-1][this.fields.endTime]);if(0===h){if(!(0,A.le)(s[h+1])){if(!(n.getTime()>=c.getTime())&&tr.zS(u).getTime()>=tr.zS(p).getTime()||tr.zS(u).getTime()<tr.zS(p).getTime())return this.parent.quickPopup.openRecurrenceValidationAlert("occurrenceAlert"),!0;if(!(tr.zS(p).getTime()<tr.zS(n).getTime()))return this.parent.quickPopup.openRecurrenceValidationAlert("sameDayAlert"),!0}}else{var d=new Date(+s[h-1][this.fields.startTime]),m=new Date(+s[h-1][this.fields.endTime]);if(h===s.length-1){if(tr.zS(new Date(+s[s.length-1-h][this.fields.startTime])).getTime()>tr.zS(p).getTime())return this.parent.quickPopup.openRecurrenceValidationAlert("occurrenceAlert"),!0;if(!(m.getTime()<=p.getTime()&&tr.zS(p).getTime()>tr.zS(d).getTime()))return this.parent.quickPopup.openRecurrenceValidationAlert("sameDayAlert"),!0}else if(!((tr.zS(d).getTime()<tr.zS(p).getTime()||tr.zS(new Date(+s[0][this.fields.startTime])).getTime()>tr.zS(p).getTime())&&(tr.zS(n).getTime()>tr.zS(p).getTime()||u.getTime()<p.getTime())))return this.parent.quickPopup.openRecurrenceValidationAlert("sameDayAlert"),!0;else if(!(m.getTime()<=p.getTime()&&n.getTime()>=c.getTime())||tr.zS(r).getTime()<tr.zS(p).getTime()||tr.zS(d).getTime()>tr.zS(c).getTime()||!(tr.zS(p).getTime()<tr.zS(n).getTime()))return this.parent.quickPopup.openRecurrenceValidationAlert("occurrenceAlert"),!0}return!1},e.prototype.resourceSaveEvent=function(e,t,i){var n=this,r=this.parent.resourceBase.resourceCollection.slice(-1)[0],a=e[r.field];a=a instanceof Array?a.reverse():[a].reverse();for(var s=this.parent.resourceBase.lastResourceLevel,o=[],l=function(l){var p=(0,A.l7)({},e,null,!0);p[h.fields.id]=h.parent.eventBase.getEventMaxID();var c=[],u=function(){if("Save"===t&&l===a.length-1){if(c.length>0){c[0][n.fields.id]=e[n.fields.id];for(var r=1;r<c.length;r++)c[parseInt(r.toString(),10)][n.fields.id]=n.parent.eventBase.getEventMaxID(l),o.push(c[parseInt(r.toString(),10)]),n.parent.saveEvent(c[0],i)}else p[n.fields.id]=e[n.fields.id],n.parent.saveEvent(p,i)}else if(c.length>0)for(var s=0;s<c.length;s++)c[parseInt(s.toString(),10)][n.fields.id]=n.parent.eventBase.getEventMaxID(s),o.push(c[parseInt(s.toString(),10)]);else p[n.fields.id]=n.parent.eventBase.getEventMaxID(l),o.push(p)};if(h.parent.activeViewOptions.group.byGroupID&&!(0,A.le)(s)){var d=r.dataSource,m=h.parent.resourceCollection,v=void 0;if((v=m.length>1?tr.Zi(d,r.idField,a[parseInt(l.toString(),10)],p,m):tr.Zi(d,r.idField,a[parseInt(l.toString(),10)]))<0)return{value:void 0};for(var g=d[parseInt(v.toString(),10)][r.groupIDField],f=s.filter(function(e){return e.resourceData[r.idField]===a[parseInt(l.toString(),10)]}).filter(function(e){return e.resourceData[r.groupIDField]===g})[0].groupOrder,y=0;y<h.parent.resourceBase.resourceCollection.length;y++){var b=h.parent.resourceBase.resourceCollection[parseInt(y.toString(),10)].field;p[""+b]=f[parseInt(y.toString(),10)]instanceof Array?f[parseInt(y.toString(),10)][0]:f[parseInt(y.toString(),10)]}u()}else{for(var v=0;v<h.parent.resourceBase.resourceCollection.length-1;v++){var b=h.parent.resourceBase.resourceCollection[parseInt(v.toString(),10)].field;if(p[""+b]instanceof Array&&p[""+b].length>1)for(var T=0;T<p[""+b].length;T++){var D=(0,A.l7)({},p,null,!0);D[""+b]=e[""+b][parseInt(T.toString(),10)],D[r.field]=a[parseInt(l.toString(),10)],c.push(D)}else if(0===c.length)p[""+b]=e[""+b]instanceof Array?e[""+b][0]:e[""+b],p[r.field]=a[parseInt(l.toString(),10)];else for(var w=0;w<c.length;w++)c[parseInt(w.toString(),10)][""+b]=e[""+b]instanceof Array?e[""+b][0]:e[""+b]}p[r.field]=a[parseInt(l.toString(),10)],u()}},h=this,p=0;p<a.length;p++){var c=l(p);if("object"==typeof c)return c.value}if(o.length>0){for(var u=0;u<o.length;u++){var d=o[u];d[this.fields.recurrenceException]=null,d[this.fields.recurrenceID]=null}this.parent.addEvent(o)}},e.prototype.getEventIdFromForm=function(){return this.element.querySelector("."+ta.BYE).getAttribute("data-id")},e.prototype.getFormElements=function(e){return e===ta.M8e?[].slice.call(this.element.querySelectorAll("."+nW)):[].slice.call(this.parent.element.querySelectorAll("."+e+" ."+nW))},e.prototype.getValueFromElement=function(e){return e.classList.contains("e-datepicker")?e.ej2_instances[0].value:e.classList.contains("e-datetimepicker")?e.ej2_instances[0].value:e.classList.contains("e-dropdownlist")?e.ej2_instances[0].value:e.classList.contains("e-multiselect")?e.ej2_instances[0].value:e.classList.contains("e-checkbox")?e.ej2_instances[0].checked:"checkbox"===e.type?e.checked:this.parent.enableHtmlSanitizer?A.pJ.sanitize(e.value):e.value},e.prototype.setValueToElement=function(e,t){if(e.classList.contains("e-datepicker")){var i=e.ej2_instances[0];i.value=t,i.dataBind()}else if(e.classList.contains("e-datetimepicker")){var i=e.ej2_instances[0];i.element.classList.contains(ta.vcd)?this.eventWindowTime.startTime=new Date(""+t):this.eventWindowTime.endTime=new Date(""+t),i.value=t,i.dataBind()}else if(e.classList.contains("e-dropdownlist")){var i=e.ej2_instances[0];i.value=t,i.dataBind()}else if(e.classList.contains("e-multiselect")){var i=e.ej2_instances[0];i.value=[],i.value=t instanceof Array?t:[t],i.dataBind()}else if(e.classList.contains("e-checkbox")){var i=e.ej2_instances[0];i.checked=t,i.dataBind()}else"checkbox"!==e.type?e.value=t||"":e.checked=t},e.prototype.setDefaultValueToElement=function(e){if(e.classList.contains("e-datepicker")){var t=e.ej2_instances[0];t.value=this.parent.getCurrentTime(),t.dataBind()}else if(e.classList.contains("e-datetimepicker")){var t=e.ej2_instances[0],i=this.parent.getCurrentTime();this.eventWindowTime={startTime:i,endTime:i},t.value=i,t.dataBind()}else if(e.classList.contains("e-dropdownlist")){var t=e.ej2_instances[0];t.value=null,t.dataBind()}else if(e.classList.contains("e-multiselect")){var t=e.ej2_instances[0];t.value=[],t.dataBind()}else if(e.classList.contains("e-checkbox")){var t=e.ej2_instances[0];t.checked=!1,t.dataBind()}else"checkbox"===e.type?e.checked=!1:e.value=""},e.prototype.getInstance=function(e){var t=this.element.querySelector("."+e);return t?t.ej2_instances[0]:null},e.prototype.eventDelete=function(e){if(this.isEnterKey){this.isEnterKey=!1;return}switch(this.parent.currentAction){case"EditOccurrence":(0,A.le)(this.parent.activeEventData.event[this.parent.eventFields.recurrenceRule])?this.parent.currentAction="Delete":this.parent.currentAction="DeleteOccurrence";break;case"EditSeries":this.parent.currentAction="DeleteSeries";break;case"Save":this.parent.currentAction="Delete";break;case"EditFollowingEvents":(0,A.le)(this.parent.activeEventData.event[this.parent.eventFields.recurrenceRule])||(this.parent.currentAction="DeleteFollowingEvents")}this.dialogEvent=e,this.isCrudAction=!1,this.dialogObject.hide(),this.parent.quickPopup.openDeleteAlert()},e.prototype.getRecurrenceEditorInstance=function(){return this.parent.isAdaptive&&!this.repeatDialogObject&&this.renderRepeatDialog(),this.recurrenceEditor},e.prototype.destroyComponents=function(){for(var e=this.getFormElements(ta.M8e),t=0;t<e.length;t++){var i=e[t],n=void 0;i.classList.contains("e-datetimepicker")?n=i.ej2_instances:i.classList.contains("e-datepicker")?n=i.ej2_instances:i.classList.contains("e-checkbox")?n=i.ej2_instances:i.classList.contains("e-dropdownlist")?n=i.ej2_instances:i.classList.contains("e-multiselect")?n=i.ej2_instances:i.classList.contains("e-numerictextbox")&&(n=i.ej2_instances),n&&n[0]&&n[0].destroy()}this.buttonObj&&this.buttonObj.destroy()},e.prototype.detachComponents=function(){for(var e=this.getFormElements(ta.M8e),t=0;t<e.length;t++){var i=e[t];(0,A.og)(i)}},e.prototype.destroy=function(e){if(this.parent&&!this.parent.isDestroyed&&this.parent.resetTemplates(["editorTemplate","editorHeaderTemplate","editorFooterTemplate"]),this.destroyComponents(),this.recurrenceEditor&&(this.recurrenceEditor.destroy(),(0,A.og)(this.recurrenceEditor.element),this.recurrenceEditor=null),this.fieldValidator&&(this.fieldValidator.destroy(),this.fieldValidator=null),this.repeatDialogObject&&(this.repeatDialogObject.destroy(),this.repeatDialogObject=null),this.detachComponents(),this.dialogObject){if(this.dialogObject.element){var t=this.dialogObject.element.querySelector("form");tr.ep(t),(0,A.og)(t),A.bi.remove(this.dialogObject.element,"keydown",this.preventEventSave)}this.dialogObject.destroy(),this.dialogObject=null}this.element&&((0,A.Od)(this.element),this.element=null),e||(this.l10n=null,this.parent=null,this.fields=null,this.buttonObj=null,this.repeatStatus=null,this.eventWindowTime=null,this.dialogEvent=null)},e}(),nN=function(){function e(e){this.translateY=0,this.itemSize=60,this.bufferCount=3,this.renderedLength=0,this.averageRowHeight=0,this.startIndex=0,this.parent=e,this.addEventListener()}return e.prototype.addEventListener=function(){!this.parent||this.parent&&this.parent.isDestroyed||this.parent.on(tn.X6,this.virtualScrolling,this)},e.prototype.removeEventListener=function(){!this.parent||this.parent&&this.parent.isDestroyed||this.parent.off(tn.X6,this.virtualScrolling)},e.prototype.getRenderedCount=function(){this.setItemSize();var e=this.isHorizontalScroll?this.parent.element.clientWidth:this.parent.element.clientHeight;return this.renderedLength=Math.ceil(e/this.itemSize)+this.bufferCount,this.renderedLength},e.prototype.renderVirtualTrack=function(e){var t=(0,A.az)("div",{className:ta.ZSp});if(this.isHorizontalScroll){var i=this.parent.activeView.colLevels[this.parent.activeView.colLevels.length-1].length;t.style.width=i*this.itemSize+"px"}else t.style.height=this.parent.resourceBase.expandedResources.length*this.itemSize+"px";e.appendChild(t)},e.prototype.updateVirtualScrollHeight=function(){var e=this.parent.element.querySelector("."+ta.ZSp),t=this.parent.resourceBase.expandedResources[this.parent.resourceBase.expandedResources.length-1].groupIndex;if(this.parent.resourceBase.renderedResources[this.parent.resourceBase.renderedResources.length-1].groupIndex!==t){var i=this.parent.element.querySelector("."+ta.OzO);this.renderedLength=i.querySelector("tbody").children.length,e.style.height=i.offsetHeight+(this.parent.resourceBase.expandedResources.length-this.renderedLength)*i.offsetHeight/this.renderedLength+"px"}else e.style.height="";this.averageRowHeight=e.offsetHeight/this.parent.resourceBase.expandedResources.length},e.prototype.updateVirtualTrackHeight=function(e){var t=this.parent.resourceBase.renderedResources.length;if(t!==this.getRenderedCount()){e.style.height=this.parent.element.querySelector(".e-content-wrap").clientHeight+"px";var i=this.parent.element.querySelector("."+ta.OPv),n=this.parent.element.querySelector("."+ta.y0r),r=this.parent.element.querySelector("."+ta.XMQ);this.translateY=0,this.setTranslate(i,n,r)}else{var a=this.parent.resourceBase.renderedResources[t-1].groupIndex,s=t+(this.parent.resourceBase.expandedResources[this.parent.resourceBase.expandedResources.length-1].groupIndex-a);s=s>this.parent.resourceBase.expandedResources.length?this.parent.resourceBase.expandedResources.length:s,e.style.height=s*this.itemSize+"px"}},e.prototype.setItemSize=function(){this.isHorizontalScroll?this.itemSize=tr._$(this.parent.activeView.element,ta.bqQ)||this.itemSize:this.itemSize=tr.e8(this.parent.activeView.element,ta.bqQ)||this.itemSize},e.prototype.renderEvents=function(){this.setTabIndex();var e=this.triggerScrollEvent(tn.um);if(this.parent.activeViewOptions&&this.parent.activeViewOptions.enableLazyLoading&&this.parent.crudModule){if(e.length>0){this.parent.crudModule.refreshProcessedData(!0,e),this.parent.hideSpinner();return}this.parent.crudModule.refreshDataManager();return}this.parent.crudModule&&this.parent.crudModule.refreshProcessedData(!0),"Month"!==this.parent.currentView&&this.parent.notify(tn.GE,{}),this.parent.hideSpinner()},e.prototype.virtualScrolling=function(){var e=this;this.parent.quickPopup&&(this.parent.quickPopup.quickPopupHide(),this.parent.quickPopup.morePopup.hide());var t=this.parent.element.querySelector("."+ta.y0r);if(this.isHorizontalScroll)this.horizontalScrolling(t);else{var i=this.parent.element.querySelector("."+ta.OPv),n=this.parent.element.querySelector("."+ta.XMQ),r=this.parent.element.querySelector("."+ta.PQI),a=this.parent.element.querySelector("."+ta.OzO);(0,A.cn)([t],"e-transition"),this.renderedLength=i.querySelector("tbody").children.length;var s=parseInt(i.querySelector("tbody td").getAttribute("data-group-index"),10),o=this.parent.rowAutoHeight?a.offsetHeight-t.offsetHeight:this.bufferCount*this.itemSize,l=[];if(t.scrollTop-this.translateY<0?l=this.upScroll(t,s):t.scrollTop-this.translateY>o&&(l=this.downScroll(t,s)),!(0,A.le)(l)&&l.length>0){this.triggerScrollEvent(tn.II);var h=this.parent.getSelectedCells();this.focusedEle=h[h.length-1]||this.focusedEle,this.updateContent(i,t,n,l),this.setTranslate(i,t,n,r),this.parent.dragAndDropModule&&"drag"===this.parent.dragAndDropModule.actionObj.action&&this.parent.dragAndDropModule.navigationWrapper(),window.clearTimeout(this.timeValue),this.timeValue=window.setTimeout(function(){e.renderEvents()},250)}}},e.prototype.horizontalScrolling=function(e){var t=this,i=[],n=this.bufferCount*this.itemSize;if(Math.abs(e.scrollLeft)-Math.abs(this.translateY)<0?i=this.leftScroll(e):Math.abs(e.scrollLeft)-Math.abs(this.translateY)>n&&(i=this.rightScroll(e)),!(0,A.le)(i)&&i.length>0){if(this.parent.resourceBase.expandedResources.length!==i.length||this.parent.resourceBase.expandedResources[0]!==i[0]||this.parent.resourceBase.expandedResources[this.parent.resourceBase.expandedResources.length-1]!==i[i.length-1]){this.triggerScrollEvent(tn.II);var r=this.parent.activeView.colLevels.slice(0);this.updateHorizontalContent(e,i),(0,A.V7)(e.querySelector("table"),{transform:"translateX("+this.translateY+"px)"}),this.parent.activeView.colLevels=r,this.parent.dragAndDropModule&&"drag"===this.parent.dragAndDropModule.actionObj.action&&this.parent.dragAndDropModule.navigationWrapper()}window.clearTimeout(this.timeValue),this.timeValue=window.setTimeout(function(){t.renderEvents()},250)}},e.prototype.triggerScrollEvent=function(e){var t=this,i=[];if(!this.parent.activeView)return i;var n={startDate:this.parent.activeView.startDate(),endDate:this.parent.activeView.endDate(),startIndex:this.parent.resourceBase.renderedResources[0].groupIndex,endIndex:this.parent.resourceBase.renderedResources[this.parent.resourceBase.renderedResources.length-1].groupIndex,resourceData:this.parent.resourceBase.renderedResources.map(function(e){return e.resourceData}),name:e};return this.parent.trigger(e,n,function(n){e===tn.II?t.parent.showSpinner():e===tn.um&&!(0,A.le)(n.eventData)&&n.eventData.length>0&&(i=n.eventData)}),i},e.prototype.upScroll=function(e,t){var i=0;i=~~(e.scrollTop/this.itemSize)+Math.ceil(e.clientHeight/this.itemSize)-this.renderedLength,this.parent.rowAutoHeight&&(i=i>t?t-this.bufferCount:i),i=i>0?i:0;var n=this.getBufferCollection(i,i+this.renderedLength);if(this.parent.resourceBase.renderedResources=n,0===t)this.translateY=e.scrollTop;else{var r=this.parent.rowAutoHeight?this.averageRowHeight:this.itemSize;r=r>0?r:this.itemSize,this.translateY=e.scrollTop-this.bufferCount*r>0?e.scrollTop-this.bufferCount*r:0}return n},e.prototype.downScroll=function(e,t){if(this.parent.resourceBase.renderedResources[this.parent.resourceBase.renderedResources.length-1].groupIndex===this.parent.resourceBase.expandedResources[this.parent.resourceBase.expandedResources.length-1].groupIndex)return null;var i=0;i=~~(e.scrollTop/this.itemSize),this.parent.rowAutoHeight&&(i=(i=~~((e.scrollTop-this.translateY)/this.averageRowHeight)+t)>t+this.bufferCount?i:t+this.bufferCount);var n=i+this.renderedLength;n=n>this.parent.resourceBase.expandedResources.length?i+(this.parent.resourceBase.expandedResources.length-i):n;var r=this.getBufferCollection(n-this.renderedLength,n);return this.translateY=e.scrollTop,r},e.prototype.leftScroll=function(e){var t=0;return t=(t=~~(Math.abs(e.scrollLeft)/this.itemSize)+Math.ceil(e.clientWidth/this.itemSize)-this.renderedLength)>0?t:0,this.getCollection(t,t+this.renderedLength)},e.prototype.rightScroll=function(e){var t=this.parent.activeView.colLevels[this.parent.activeView.colLevels.length-1],i=~~(Math.abs(e.scrollLeft)/this.itemSize)+this.renderedLength;return i=i>t.length-1?t.length-1:i,this.getCollection(i-this.renderedLength,i)},e.prototype.getCollection=function(e,t){this.translateY=e*this.itemSize;var i=this.getResCollection(e,t);return this.parent.enableRtl&&(this.translateY=-this.translateY),i},e.prototype.getResCollection=function(e,t){var i=this.parent.activeView.colLevels[this.parent.activeView.colLevels.length-1],n=[],r={startIndex:0,endIndex:0};if(this.parent.activeViewOptions.group.byDate){if(i[parseInt(e.toString(),10)].date.getTime()===this.parent.resourceBase.expandedResources[0].date.getTime()&&i[parseInt(t.toString(),10)].date.getTime()===this.parent.resourceBase.expandedResources[this.parent.resourceBase.expandedResources.length-1].date.getTime())return this.parent.resourceBase.expandedResources;n=this.getByDateCollection(i[parseInt(e.toString(),10)],i[parseInt(t.toString(),10)],r),this.setRenderedDates(n)}else{if(i[parseInt(e.toString(),10)].groupIndex===this.parent.resourceBase.expandedResources[0].groupIndex&&i[parseInt(t.toString(),10)].groupIndex===this.parent.resourceBase.expandedResources[this.parent.resourceBase.expandedResources.length-1].groupIndex)return this.parent.resourceBase.expandedResources;n=this.getByIdCollection(i[parseInt(e.toString(),10)],i[parseInt(t.toString(),10)],r)}return"Month"!==this.parent.currentView&&(this.startIndex=r.startIndex,n=i.slice(r.startIndex,r.endIndex)),this.translateY=r.startIndex*this.itemSize,n},e.prototype.getByDateCollection=function(e,t,i){var n=this.parent.activeView.colLevels[0].filter(function(i){return e.date.getTime()<=i.date.getTime()&&i.date.getTime()<=t.date.getTime()});return this.setStartEndIndex(this.parent.activeView.colLevels[0],n[0],n[n.length-1],i),n},e.prototype.getByIdCollection=function(e,t,i){var n=this.parent.resourceBase.lastResourceLevel.filter(function(i){return e.groupIndex<=i.groupIndex&&i.groupIndex<=t.groupIndex});return this.parent.resourceBase.renderedResources=n,this.setStartEndIndex(this.parent.resourceBase.lastResourceLevel,n[0],n[n.length-1],i),n},e.prototype.setStartEndIndex=function(e,t,i,n){var r=0;e.filter(function(e){t===e?n.startIndex=r:i===e&&(n.endIndex=r+e.colSpan),r+=e.colSpan}),t===i&&(n.endIndex=n.startIndex+i.colSpan)},e.prototype.updateContent=function(e,t,i,n){var r=e.querySelector("tbody").children.length;document.activeElement&&document.activeElement.classList.contains(ta.tlV)&&(this.isResourceCell=!0,this.parent.element.focus());for(var a=0;a<r;a++)(0,A.Od)(e.querySelector("tbody tr")),(0,A.Od)(t.querySelector("tbody tr")),(0,A.Od)(i.querySelector("div"));this.parent.resourceBase.renderedResources=n;var s=this.parent.resourceBase.getContentRows(n,!0),o=this.parent.activeView.getContentRows(),l=this.parent.activeView.getEventRows(n.length);(0,A.R3)(s,e.querySelector("tbody")),(0,A.R3)(o,t.querySelector("tbody")),(0,A.R3)(l,i)},e.prototype.updateHorizontalContent=function(e,t){this.parent.resourceBase.expandedResources=t;var i=this.parent.getSelectedCells();this.focusedEle=i[i.length-1]||this.focusedEle;for(var n=e.querySelectorAll("tbody tr").length,r=0;r<n;r++)(0,A.Od)(e.querySelector("tbody tr"));if("Month"===this.parent.currentView){this.parent.activeViewOptions.group.byDate?this.parent.activeView.colLevels[0]=t:this.parent.activeView.colLevels[this.parent.activeView.colLevels.length-2]=t;var a=this.parent.activeView.getContentRows();(0,A.R3)(a,e.querySelector("tbody"))}else{for(var s=[].slice.call(e.querySelector("colgroup").children),r=0;r<s.length;r++)(0,A.Od)(s[parseInt(r.toString(),10)]);this.parent.activeView.colLevels[this.parent.activeView.colLevels.length-1]=t;var a=this.parent.activeView.getContentRows(),o=e.querySelector("table"),l=e.querySelector("thead"),h=e.querySelector("colgroup");t.forEach(function(){h.appendChild((0,A.az)("col"))}),l.appendChild(this.parent.eventBase.createEventWrapper("",this.startIndex>0?this.startIndex:0)),this.parent.activeViewOptions.timeScale.enable&&l.appendChild(this.parent.eventBase.createEventWrapper("timeIndicator")),(0,A.Ce)([l],o),(0,A.R3)(a,e.querySelector("tbody"))}},e.prototype.getBufferCollection=function(e,t){return this.parent.resourceBase.expandedResources.slice(e,t)},e.prototype.setTranslate=function(e,t,i,n){(0,A.V7)(e.querySelector("table"),{transform:"translateY("+this.translateY+"px)"}),(0,A.V7)(t.querySelector("table"),{transform:"translateY("+this.translateY+"px)"}),(0,A.V7)(i,{transform:"translateY("+this.translateY+"px)"}),(0,A.le)(n)||(0,A.V7)(n,{transform:"translateY("+this.translateY+"px)"})},e.prototype.updateFocusedWorkCell=function(){if(this.focusedEle){var e=parseInt(this.focusedEle.getAttribute("data-date"),10),t=parseInt(this.focusedEle.getAttribute("data-group-index"),10),i=this.parent.element.querySelector("."+ta.bqQ+'[data-date="'+e+'"][data-group-index="'+t+'"]');i&&this.parent.addSelectedClass([i],i,!0),this.focusedEle=null}},e.prototype.setRenderedDates=function(e){if("Month"!==this.parent.currentView){var t=e.map(function(e){return e.date});this.parent.resourceBase.renderedResources.forEach(function(e){return e.renderDates=t})}else{var i=e.map(function(e){return e.date.getDay()}),n=this.parent.activeView.renderDates.filter(function(e){return i.indexOf(e.getDay())>=0});this.parent.resourceBase.renderedResources.forEach(function(e){return e.renderDates=n})}},e.prototype.setTabIndex=function(){var e=this.parent.element.querySelector("."+ta.OPv),t=[].slice.call(this.parent.element.querySelectorAll("."+ta.tlV));t&&e&&t.forEach(function(t){t.getBoundingClientRect().top>=e.getBoundingClientRect().top&&t.setAttribute("tabindex","0")});var i=this.parent.element.querySelector("."+ta.tlV+'[tabindex="0"]');this.isResourceCell&&i&&(i.focus(),this.isResourceCell=!1)},e.prototype.destroy=function(){this.removeEventListener(),this.focusedEle=null},e}(),nU=function(){function e(e){this.parent=e}return e.prototype.render=function(e,t){void 0===t&&(t=!0),this.initializeLayout(e),this.parent.activeView&&t&&this.parent.crudModule.refreshDataManager()},e.prototype.initializeLayout=function(e){switch(this.parent.activeView&&(this.parent.resetTemplates(["cellTemplate","eventTemplate","tooltipTemplate","majorSlotTemplate","minorSlotTemplate","headerTooltipTemplate","dateHeaderTemplate","dayHeaderTemplate","monthHeaderTemplate","headerIndentTemplate","resourceHeaderTemplate","cellHeaderTemplate","dateRangeTemplate"]),this.parent.activeView.removeEventListener(),this.parent.activeView.destroy()),e){case"Day":this.parent.activeView=this.parent.dayModule;break;case"Week":this.parent.activeView=this.parent.weekModule;break;case"WorkWeek":this.parent.activeView=this.parent.workWeekModule;break;case"Month":this.parent.activeView=this.parent.monthModule;break;case"Year":this.parent.activeView=this.parent.yearModule;break;case"Agenda":this.parent.activeView=this.parent.agendaModule;break;case"MonthAgenda":this.parent.activeView=this.parent.monthAgendaModule;break;case"TimelineDay":this.parent.activeView=this.parent.timelineViewsModule,this.parent.activeView.viewClass="e-timeline-day-view";break;case"TimelineWorkWeek":this.parent.activeView=this.parent.timelineViewsModule,this.parent.activeView.viewClass="e-timeline-work-week-view";break;case"TimelineWeek":this.parent.activeView=this.parent.timelineViewsModule,this.parent.activeView.viewClass="e-timeline-week-view";break;case"TimelineMonth":this.parent.activeView=this.parent.timelineMonthModule;break;case"TimelineYear":this.parent.activeView=this.parent.timelineYearModule}if((0,A.le)(this.parent.activeView)){var t=this.parent.viewCollections[0].option;if(t)return this.parent.setProperties({currentView:t},!0),this.parent.headerModule&&(this.parent.headerModule.updateActiveView(),this.parent.headerModule.setCalendarView()),this.initializeLayout(t);throw Error("Inject required modules")}this.parent.activeView.viewIndex=this.parent.viewIndex,this.updateLabelText(e),this.parent.activeView.addEventListener(),this.parent.activeView.getRenderDates(),this.parent.uiStateValues.isGroupAdaptive=this.parent.activeViewOptions.group.resources.length>0&&(this.parent.enableAdaptiveUI&&!this.parent.isAdaptive||this.parent.isAdaptive&&this.parent.activeViewOptions.group.enableCompactView),this.parent.virtualScrollModule&&(this.parent.virtualScrollModule.destroy(),this.parent.virtualScrollModule=null),(-1===["Agenda","MonthAgenda","Year","TimelineYear"].indexOf(this.parent.currentView)||"TimelineYear"===this.parent.currentView&&"Vertical"===this.parent.activeViewOptions.orientation)&&this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&(this.parent.virtualScrollModule=new nN(this.parent),this.parent.activeView.isTimelineView()?this.parent.uiStateValues.top=0:(this.parent.virtualScrollModule.isHorizontalScroll=!0,this.parent.uiStateValues.left=0)),this.updateHeader(),this.parent.currentTimezoneDate=this.parent.getCurrentTime(),this.parent.activeView.renderLayout(ta.LCM),this.parent.renderTemplates(),this.parent.eventTooltip&&(this.parent.eventTooltip.destroy(),this.parent.eventTooltip=null),(this.parent.eventSettings.enableTooltip||this.parent.activeViewOptions.group.resources.length>0&&this.parent.activeViewOptions.group.headerTooltipTemplate)&&(this.parent.eventTooltip=new tk(this.parent))},e.prototype.updateHeader=function(){this.parent.headerModule&&(this.parent.headerModule.setDayOfWeek(this.parent.activeViewOptions.firstDayOfWeek),this.parent.activeViewOptions.readonly?(0,A.cn)([this.parent.element],ta.dr5):this.parent.element.classList.contains(ta.dr5)&&(0,A.IV)([this.parent.element],ta.dr5),this.parent.headerModule.updateDateRange(),this.parent.headerModule.updateHeaderItems("remove"))},e.prototype.updateLabelText=function(e){var t=this.parent.activeView.getLabelText(e);this.parent.element.setAttribute("role","main"),this.parent.element.setAttribute("aria-label",t)},e}(),nY=(m=function(e,t){return(m=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}m(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),n_=function(e,t,i,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},nZ=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nY(t,e),n_([(0,A.Z9)(!0)],t.prototype,"highlight",void 0),n_([(0,A.Z9)("09:00")],t.prototype,"start",void 0),n_([(0,A.Z9)("18:00")],t.prototype,"end",void 0),t}(A.rt),nK=(v=function(e,t){return(v=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}v(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),nG=function(e,t,i,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},nQ=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nK(t,e),nG([(0,A.Z9)(!0)],t.prototype,"enable",void 0),nG([(0,A.Z9)(60)],t.prototype,"interval",void 0),nG([(0,A.Z9)(2)],t.prototype,"slotCount",void 0),nG([(0,A.Z9)()],t.prototype,"minorSlotTemplate",void 0),nG([(0,A.Z9)()],t.prototype,"majorSlotTemplate",void 0),t}(A.rt),nX=(g=function(e,t){return(g=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}g(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),n$=function(e,t,i,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},nJ=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nX(t,e),n$([(0,A.Z9)("Both")],t.prototype,"templateType",void 0),n$([(0,A.Z9)()],t.prototype,"header",void 0),n$([(0,A.Z9)()],t.prototype,"content",void 0),n$([(0,A.Z9)()],t.prototype,"footer",void 0),t}(A.rt),n0=(f=function(e,t){return(f=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}f(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),n1=function(e,t,i,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},n9=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n0(t,e),n1([(0,A.Z9)()],t.prototype,"option",void 0),n1([(0,A.Z9)()],t.prototype,"template",void 0),t}(A.rt),n3=function(){function e(e){this.parent=e,this.crudObj={sourceEvent:null,targetEvent:null,isCrudAction:!1}}return e.prototype.getQuery=function(){var e=this.parent.activeView.startDate(),t=this.parent.activeView.endDate();return this.parent.dataModule.generateQuery(e,t)},e.prototype.getTable=function(){return this.parent.eventSettings.query?this.parent.eventSettings.query.clone().fromTable:null},e.prototype.refreshDataManager=function(){var e=this;if(this.parent.activeView){var t=this.parent.activeView.startDate(),i=this.parent.activeView.endDate();this.parent.dataModule.getData(this.parent.dataModule.generateQuery(t,i)).then(function(t){return e.dataManagerSuccess(t)}).catch(function(t){return e.dataManagerFailure(t)})}},e.prototype.dataManagerSuccess=function(e){var t=this;!this.parent||this.parent&&this.parent.isDestroyed||this.parent.trigger(tn.Bl,e,function(e){var i=(0,A.l7)([],e.result,null,!0);t.parent.eventsData=i.filter(function(e){return!e[t.parent.eventFields.isBlock]}),t.parent.blockData=i.filter(function(e){return e[t.parent.eventFields.isBlock]}),t.refreshProcessedData(),t.parent.dragAndDropModule&&"drag"===t.parent.dragAndDropModule.actionObj.action&&t.parent.dragAndDropModule.navigationWrapper(),t.parent.trigger(tn.ru,null,function(){t.parent.hideSpinner(),t.parent.isPrinting&&t.parent.notify(tn.S0,{})})})},e.prototype.dataManagerFailure=function(e){var t=this;!this.parent||this.parent&&this.parent.isDestroyed||this.parent.trigger(tn.Vt,{error:e},function(){return t.parent.hideSpinner()})},e.prototype.refreshProcessedData=function(e,t){if(void 0===e&&(e=!1),this.parent.dragAndDropModule&&(this.parent.dragAndDropModule.actionObj.action="",(0,A.IV)([this.parent.element],"e-event-action")),this.parent.activeViewOptions&&this.parent.activeViewOptions.eventTemplate){var i=["eventTemplate"];if(this.crudObj.isCrudAction&&-1===["Agenda","MonthAgenda","Year","TimelineYear"].indexOf(this.parent.currentView)){i=[];for(var n=0,r=this.crudObj.sourceEvent.length;n<r;n++)i.push("eventTemplate_"+this.crudObj.sourceEvent[parseInt(n.toString(),10)].groupIndex),this.crudObj.targetEvent[parseInt(n.toString(),10)]&&this.crudObj.sourceEvent[parseInt(n.toString(),10)].groupIndex!==this.crudObj.targetEvent[parseInt(n.toString(),10)].groupIndex&&i.push("eventTemplate_"+this.crudObj.targetEvent[parseInt(n.toString(),10)].groupIndex)}i.length>0&&this.parent.resetTemplates(i)}if(e){this.parent.notify(tn.mH,{processedData:t?this.parent.eventBase.processData(t):this.parent.eventsProcessed});return}var a=this.parent.eventsData||[],s=this.parent.blockData||[],o=a.concat(s);this.parent.notify(tn.mH,{processedData:this.parent.eventBase?this.parent.eventBase.processData(o):[]})},e.prototype.refreshData=function(e){var t=this,i={requestType:e.requestType,cancel:!1,data:e.data,addedRecords:e.editParams.addedRecords,changedRecords:e.editParams.changedRecords,deletedRecords:e.editParams.deletedRecords};if(this.parent.dragAndDropModule&&this.parent.dragAndDropModule.actionObj&&this.parent.dragAndDropModule.actionObj.element&&(this.parent.dragAndDropModule.actionObj.element.style.display="none"),this.parent.resizeModule&&this.parent.resizeModule.actionObj&&this.parent.resizeModule.actionObj.element&&(this.parent.resizeModule.actionObj.element.style.display="none"),this.parent.isSpecificResourceEvents()&&("eventCreated"===e.requestType||"eventRemoved"===e.requestType)){this.crudObj.isCrudAction=!0,this.crudObj.sourceEvent=[];for(var n=e.data instanceof Array?0===e.data.length&&"eventRemoved"===e.requestType?e.editParams.deletedRecords:e.data:("string"==typeof e.data||"number"==typeof e.data)&&"eventRemoved"===e.requestType?e.editParams.deletedRecords:[e.data],r=this,a=0;a<n.length;a++)!function(t){r.crudObj.isCrudAction=!("eventRemoved"===e.requestType&&!(0,A.le)(t.parent));var i=r.parent.eventBase.getGroupIndexFromEvent(t);i>-1&&0===r.parent.crudModule.crudObj.sourceEvent.filter(function(e){return e.groupIndex===i}).length&&r.crudObj.isCrudAction&&r.crudObj.sourceEvent.push(r.parent.resourceBase.lastResourceLevel[parseInt(i.toString(),10)])}(n[a]);this.crudObj.targetEvent=this.crudObj.sourceEvent}this.parent.dataModule.dataManager.dataSource.offline?this.parent.trigger(tn.i8,i,function(e){e.cancel||t.refreshDataManager()}):e.promise.then(function(){!t.parent||t.parent&&t.parent.isDestroyed||t.parent.trigger(tn.i8,i,function(e){e.cancel||t.refreshDataManager()})}).catch(function(e){!t.parent||t.parent&&t.parent.isDestroyed||t.parent.trigger(tn.Vt,{error:e})})},e.prototype.addEvent=function(e){var t=this;if(this.parent.eventSettings.allowAdding&&!this.parent.activeViewOptions.readonly){if(!this.isBlockEvent(e)&&this.parent.eventBase.isBlockRange(e)){this.parent.quickPopup.openValidationError("blockAlert",e);return}var i=e instanceof Array?e:[e];if(0===i.length)return;this.parent.trigger(tn.m2,{requestType:"eventCreate",cancel:!1,data:i,addedRecords:i,changedRecords:[],deletedRecords:[]},function(e){if(!e.cancel){var i=t.parent.eventFields,n={addedRecords:[],changedRecords:[],deletedRecords:[]},r=void 0;if(e.addedRecords instanceof Array){for(var a=0,s=e.addedRecords;a<s.length;a++){var o=s[a];o=t.parent.eventBase.updateEventDateTime(o);var l=(0,A.l7)({},t.parent.eventBase.processTimezone(o,!0),null,!0);n.addedRecords.push(l)}r=t.parent.dataModule.dataManager.saveChanges(n,i.id,t.getTable(),t.getQuery())}else{var h=t.parent.eventBase.processTimezone(e.addedRecords,!0);n.addedRecords.push(h),r=t.parent.dataModule.dataManager.insert(h,t.getTable(),t.getQuery())}var p={requestType:"eventCreated",cancel:!1,data:e.addedRecords,promise:r,editParams:n};t.refreshData(p)}})}},e.prototype.saveEvent=function(e,t){var i=this;if(this.parent.eventSettings.allowEditing&&!this.parent.activeViewOptions.readonly){if("EditFollowingEvents"!==this.parent.currentAction&&!this.isBlockEvent(e)&&this.parent.eventBase.isBlockRange(e)){this.parent.quickPopup.openValidationError("blockAlert",e),this.parent.crudModule.crudObj.isCrudAction=!1;return}var n=e instanceof Array?e:[e];if(0===n.length)return;if(this.parent.currentAction=t,t)switch(t){case"Save":this.processSave(e);break;case"EditOccurrence":this.processOccurrences(e,t);break;case"EditFollowingEvents":this.processFollowSeries(e,t);break;case"EditSeries":this.processEntireSeries(e,t)}else this.parent.trigger(tn.m2,{requestType:"eventChange",cancel:!1,data:e,addedRecords:[],changedRecords:n,deletedRecords:[]},function(e){if(!e.cancel){var t=void 0,n=i.parent.eventFields,r={addedRecords:[],changedRecords:[],deletedRecords:[]};if(e.changedRecords instanceof Array){for(var a=0,s=e.changedRecords;a<s.length;a++){var o=s[a];o=i.parent.eventBase.updateEventDateTime(o);var l=(0,A.l7)({},i.parent.eventBase.processTimezone(o,!0),null,!0);r.changedRecords.push(l)}t=i.parent.dataModule.dataManager.saveChanges(r,n.id,i.getTable(),i.getQuery())}else{var h=i.parent.eventBase.processTimezone(e.changedRecords,!0);r.changedRecords.push(h),t=i.parent.dataModule.dataManager.update(n.id,h,i.getTable(),i.getQuery())}var p=(0,A.l7)({},e.changedRecords[e.changedRecords.length-1],null,!0);i.parent.eventBase.selectWorkCellByTime([i.parent.eventBase.processTimezone(p)]);var c={requestType:"eventChanged",cancel:!1,data:e.changedRecords,promise:t,editParams:r};i.refreshData(c)}})}},e.prototype.deleteEvent=function(e,t){var i=this;if(this.parent.eventSettings.allowDeleting&&!this.parent.activeViewOptions.readonly){this.parent.currentAction=t;var n=[];if(0===(n="string"==typeof e||"number"==typeof e?this.parent.eventsData.filter(function(t){return t[i.parent.eventFields.id]===e}):e instanceof Array?e:[e]).length)return;if(t)switch(t){case"Delete":this.processDelete(n);break;case"DeleteOccurrence":this.processOccurrences(n,t);break;case"DeleteFollowingEvents":this.processFollowSeries(n,t);break;case"DeleteSeries":this.processEntireSeries(n,t)}else{var r={requestType:"eventRemove",cancel:!1,data:e,addedRecords:[],changedRecords:[],deletedRecords:n};this.parent.trigger(tn.m2,r,function(e){if(!e.cancel){var t=void 0,n=i.parent.eventFields,r={addedRecords:[],changedRecords:[],deletedRecords:[]};e.deletedRecords.length>1?(r.deletedRecords=r.deletedRecords.concat(e.deletedRecords),t=i.parent.dataModule.dataManager.saveChanges(r,n.id,i.getTable(),i.getQuery())):(r.deletedRecords.push(e.deletedRecords[0]),t=i.parent.dataModule.dataManager.remove(n.id,e.deletedRecords[0],i.getTable(),i.getQuery())),i.parent.eventBase.selectWorkCellByTime(e.deletedRecords);var a={requestType:"eventRemoved",cancel:!1,data:e.deletedRecords,promise:t,editParams:r};i.refreshData(a)}})}}},e.prototype.processOccurrences=function(e,t){var i=this,n=[],r=!1;if(e instanceof Array)for(var a=0;a<e.length;a++){var s=e[a];n.push({occurrence:s,parent:this.getParentEvent(s)})}else n={occurrence:e,parent:this.getParentEvent(e)};var o={requestType:"EditOccurrence"===t?"eventChange":"eventRemove",cancel:!1,addedRecords:[],changedRecords:e instanceof Array?e:[e],deletedRecords:[]};o.data=n,this.parent.trigger(tn.m2,o,function(e){if(!e.cancel){for(var a=i.parent.eventFields,s={addedRecords:[],changedRecords:[],deletedRecords:[]},o=n instanceof Array?n:[n],l=0,h=e.changedRecords.length;l<h;l++)!function(n,l){var h=e.changedRecords[parseInt(n.toString(),10)],p=o[parseInt(n.toString(),10)].parent,c=p[a.recurrenceException],u=void 0,d=void 0;switch(t){case"EditOccurrence":u=i.parent.eventsProcessed.filter(function(e){return e.Guid===h.Guid})[0],(d=i.excludeDateCheck(u[a.startTime],c))!==p[a.recurrenceException]?(p[a.recurrenceException]=d,h[a.recurrenceException]=(0,iN.K_)(u[a.startTime]),h[a.recurrenceID]=p[a.id],h[a.followingID]=null,s.changedRecords.push(i.parent.eventBase.processTimezone(p,!0)),s.addedRecords.push(i.parent.eventBase.processTimezone(h,!0))):s.changedRecords.push(i.parent.eventBase.processTimezone(h,!0));break;case"DeleteOccurrence":h[a.recurrenceException]||(p[a.recurrenceException]=i.excludeDateCheck(h[a.startTime],c),s.changedRecords.push(i.parent.eventBase.processTimezone(p,!0))),h[a.id]!==p[a.id]&&(s.deletedRecords.push(h),r=!0)}}(l,0);var p=i.parent.dataModule.dataManager.saveChanges(s,a.id,i.getTable(),i.getQuery()),c=(0,A.l7)({},e.changedRecords[e.changedRecords.length-1],null,!0);i.parent.eventBase.selectWorkCellByTime("EditOccurrence"===t?[i.parent.eventBase.processTimezone(c)]:[c]);var u={requestType:"EditOccurrence"===t?"eventChanged":"eventRemoved",cancel:!1,data:r?e.deletedRecords:e.changedRecords,promise:p,editParams:s};i.refreshData(u)}})},e.prototype.processFollowSeries=function(e,t){var i=this,n=[];if(e instanceof Array)for(var r=0;r<e.length;r++){var a=e[r];n.push({occurrence:a,parent:this.getParentEvent(a)})}else n={occurrence:e,parent:this.getParentEvent(e)};var s={requestType:"EditFollowingEvents"===t?"eventChange":"eventRemove",cancel:!1,addedRecords:[],changedRecords:e instanceof Array?e:[e],deletedRecords:[]};s.data=n,this.parent.trigger(tn.m2,s,function(e){if(!e.cancel){for(var r=i.parent.eventFields,a={addedRecords:[],changedRecords:[],deletedRecords:[]},s=n instanceof Array?n:[n],o=0,l=e.changedRecords.length;o<l;o++)!function(n,o){var l=e.changedRecords[parseInt(n.toString(),10)],h=s[parseInt(n.toString(),10)].parent,p=i.parent.eventBase.getEventCollections(h,l),c=void 0;switch(t){case"EditFollowingEvents":if(i.processRecurrenceRule(h,l),c=!i.parent.eventBase.isFollowingEvent(h,l),l[r.followingID]=c?null:h[r.id],l[r.recurrenceID]=null,a.addedRecords.push(i.parent.eventBase.processTimezone(l,!0)),a.changedRecords.push(i.parent.eventBase.processTimezone(h,!0)),!i.parent.uiStateValues.isIgnoreOccurrence){if(l[r.recurrenceException]=null,p.occurrence.length>0){var u=p.occurrence.slice(-1)[0][r.recurrenceRule];-1===u.indexOf("COUNT")&&(l[r.recurrenceRule]=u)}p.follow.length>0&&(l[r.recurrenceRule]=p.follow.slice(-1)[0][r.recurrenceRule],a.deletedRecords=a.deletedRecords.concat(p.follow)),c&&(p.occurrence=p.occurrence.filter(function(e){return e[r.recurrenceID]===h[r.id]})),a.deletedRecords=a.deletedRecords.concat(p.occurrence)}break;case"DeleteFollowingEvents":i.processRecurrenceRule(h,l[r.startTime]),a.changedRecords.push(i.parent.eventBase.processTimezone(h,!0)),a.deletedRecords=a.deletedRecords.concat(p.occurrence).concat(p.follow)}}(o,0);var h=i.parent.dataModule.dataManager.saveChanges(a,r.id,i.getTable(),i.getQuery()),p=(0,A.l7)({},e.changedRecords[e.changedRecords.length-1],null,!0);i.parent.eventBase.selectWorkCellByTime("EditFollowingEvents"===t?[i.parent.eventBase.processTimezone(p)]:[p]);var c={requestType:"EditFollowingEvents"===t?"eventChanged":"eventRemoved",cancel:!1,data:e.changedRecords,promise:h,editParams:a};i.refreshData(c)}})},e.prototype.processEntireSeries=function(e,t){var i=this,n=[],r=!1;if(e instanceof Array)for(var a=0;a<e.length;a++){var s=e[a];n.push(this.getParentEvent(s,!0))}else n=this.getParentEvent(e,!0);var o={requestType:"EditSeries"===t?"eventChange":"eventRemove",cancel:!1,addedRecords:[],changedRecords:e instanceof Array?e:[e],deletedRecords:[]};o.data=n,this.parent.trigger(tn.m2,o,function(e){if(!e.cancel){for(var a=i.parent.eventFields,s={addedRecords:[],changedRecords:[],deletedRecords:[]},o=n instanceof Array?n:[n],l=0,h=e.changedRecords.length;l<h;l++)!function(n,l){var h=e.changedRecords[parseInt(n.toString(),10)],p=o[parseInt(n.toString(),10)],c=i.parent.eventBase.getEventCollections(p),u=c.follow.concat(c.occurrence);switch(t){case"EditSeries":if(h[a.id]=p[a.id],h[a.recurrenceID]=null,h[a.followingID]=null,i.parent.uiStateValues.isIgnoreOccurrence&&h[a.recurrenceException]){var d=i.parent.eventsData.filter(function(e){return e[a.id]===h[a.id]});d.length>0&&(h[a.recurrenceRule]=d[0][a.recurrenceRule])}else h[a.recurrenceException]=null,s.deletedRecords=s.deletedRecords.concat(u);s.changedRecords.push(i.parent.eventBase.processTimezone(h,!0)),i.parent.uiStateValues.isIgnoreOccurrence=!1;break;case"DeleteSeries":s.deletedRecords=s.deletedRecords.concat(u.concat(p)),r=!0}}(l,0);var p=i.parent.dataModule.dataManager.saveChanges(s,a.id,i.getTable(),i.getQuery()),c=(0,A.l7)({},e.changedRecords[e.changedRecords.length-1],null,!0);i.parent.eventBase.selectWorkCellByTime("EditSeries"===t?[i.parent.eventBase.processTimezone(c)]:[c]);var u={requestType:"EditSeries"===t?"eventChanged":"eventRemoved",cancel:!1,data:r?e.deletedRecords:e.changedRecords,promise:p,editParams:s};i.refreshData(u)}})},e.prototype.processDelete=function(e){for(var t=this,i=[],n=0;n<e.length;n++){var r=e[n];r[this.parent.eventFields.recurrenceRule]?i.push({occurrence:r,parent:this.getParentEvent(r)}):i.push(r)}var a={requestType:"eventRemove",cancel:!1,addedRecords:[],changedRecords:[],deletedRecords:e};a.data=i,this.parent.trigger(tn.m2,a,function(e){if(!e.cancel){for(var n=t.parent.eventFields,r={addedRecords:[],changedRecords:[],deletedRecords:[]},a=0,s=e.deletedRecords.length;a<s;a++)!function(a,s){var o=(0,A.le)(e.deletedRecords[parseInt(a.toString(),10)][t.parent.eventFields.recurrenceRule]);if(!o){var l=i[parseInt(a.toString(),10)].parent,h=r.changedRecords.filter(function(e){return e[n.id]===l[n.id]}),p=e.deletedRecords[parseInt(a.toString(),10)][n.startTime];if(h.length>0){var c=h[0];c[n.recurrenceException]=t.excludeDateCheck(p,c[n.recurrenceException])}else l[n.recurrenceException]=t.excludeDateCheck(p,l[n.recurrenceException]);0===h.length&&r.changedRecords.push(t.parent.eventBase.processTimezone(l,!0)),o=e.deletedRecords[parseInt(a.toString(),10)][n.id]!==l[n.id]}o&&r.deletedRecords.push(e.deletedRecords[parseInt(a.toString(),10)])}(a,0);var o=t.parent.dataModule.dataManager.saveChanges(r,n.id,t.getTable(),t.getQuery());t.parent.eventBase.selectWorkCellByTime(e.deletedRecords);var l={requestType:"eventRemoved",cancel:!1,data:e.deletedRecords,promise:o,editParams:r};t.refreshData(l)}})},e.prototype.processSave=function(e){for(var t=this,i=e instanceof Array?e:[e],n=[],r=0;r<i.length;r++){var a=i[r];a[this.parent.eventFields.recurrenceRule]?n.push({occurrence:a,parent:this.getParentEvent(a)}):n.push(a)}var s={requestType:"eventChange",cancel:!1,addedRecords:[],changedRecords:i,deletedRecords:[]};s.data=n,this.parent.trigger(tn.m2,s,function(e){if(!e.cancel){for(var i=t.parent.eventFields,n={addedRecords:[],changedRecords:[],deletedRecords:[]},r=0,a=e.changedRecords;r<a.length;r++){var s=a[r];if(!(0,A.le)(s[i.recurrenceRule])&&(0,A.le)(s[i.recurrenceException])){var o=(0,iN.K_)(s[i.startTime]),l=t.getParentEvent(s);l[i.recurrenceException]=(0,A.le)(l[i.recurrenceException])?o:l[i.recurrenceException].concat(","+o),s[i.id]=t.parent.getEventMaxID(),s[i.recurrenceException]=o,n.addedRecords.push(t.parent.eventBase.processTimezone(s,!0)),n.changedRecords.push(t.parent.eventBase.processTimezone(l,!0))}else n.changedRecords.push(t.parent.eventBase.processTimezone(s,!0))}var h=t.parent.dataModule.dataManager.saveChanges(n,i.id,t.getTable(),t.getQuery()),p=(0,A.l7)({},e.changedRecords[e.changedRecords.length-1],null,!0);t.parent.eventBase.selectWorkCellByTime([t.parent.eventBase.processTimezone(p)]);var c={requestType:"eventChanged",cancel:!1,data:e.changedRecords,promise:h,editParams:n};t.refreshData(c)}})},e.prototype.getParentEvent=function(e,t){void 0===t&&(t=!1);var i=this.parent.eventBase.getParentEvent(e,t)||e;return(i[this.parent.eventFields.startTimezone]||i[this.parent.eventFields.endTimezone])&&this.parent.eventBase.timezoneConvert(i),i},e.prototype.excludeDateCheck=function(e,t){var i=this.parent.timezone||this.parent.tzModule.getLocalTimezoneName();i&&(e=this.parent.tzModule.remove(new Date(+e.getTime()),i));var n=(0,iN.K_)(e);return(0,A.le)(t)?t=n:-1===t.indexOf(n)&&(t=(0,A.le)(t)?n:t+","+n),t},e.prototype.processRecurrenceRule=function(e,t){var i,n=this.parent.eventFields,r=e[n.recurrenceRule];if(t instanceof Date)i=new Date(+t);else{i=new Date(+t[n.startTime]);var a=t[n.recurrenceRule];if(a){var s=e[n.startTime],o="DeleteFollowingEvents"===this.parent.currentAction?t[n.recurrenceException]:null,l=(0,iN.R_)(s,a,o,this.parent.activeViewOptions.firstDayOfWeek),h=new Date(l.slice(-1)[0]);h.setHours(i.getHours(),i.getMinutes(),i.getSeconds()),i.setHours(s.getHours(),s.getMinutes(),s.getSeconds()),t[n.recurrenceRule]=this.getUpdatedRecurrenceRule(a,new Date(+h),!1)}}e[n.recurrenceRule]=this.getUpdatedRecurrenceRule(r,tr.E4(new Date(i.getTime()),-1),!0)},e.prototype.getUpdatedRecurrenceRule=function(e,t,i){for(var n=e.split(";"),r="",a=0;a<n.length;a++){var s=n[a];if(""!==s){var o=s.split("=")[0],l=s.split("=")[1];("COUNT"===o||"UNTIL"===o)&&(l=(0,iN.K_)(t),s=s.replace(s,"UNTIL="+l)),r+=s+";"}}return i&&-1===r.indexOf("UNTIL")&&(r+="UNTIL="+(0,iN.K_)(t)),r},e.prototype.isBlockEvent=function(e){for(var t=e instanceof Array?e:[e],i=!1,n=0;n<t.length;n++)i=t[n][this.parent.eventFields.isBlock]||!1;return i},e.prototype.destroy=function(){this.crudObj=null,this.parent=null},e}(),n2=function(){function e(e){this.parent=e,A.bi.add(this.parent.element,"mouseover",this.onHover,this)}return e.prototype.cellMouseDown=function(e){this.isPreventAction(e)||this.parent.notify(tn.Ui,{event:e})},e.prototype.cellClick=function(e){var t=this;if(!this.isPreventAction(e)){var i="."+ta.bqQ+",."+ta.nqV+",."+ta.Tb6,n=(0,A.oq)(e.target,i);if(!(0,A.le)(n)){if(!(0,A.le)((0,A.oq)(e.target,"."+ta.Ux$))){this.parent.eventWindow.openEditor(this.parent.activeCellsData,"Add");return}var r=(0,A.oq)(e.target,"."+ta.DaF),a=this.parent.getNavigateView(),s=this.parent.currentView===a;if((0,A.le)(r)||s||(0,A.le)(this.parent.viewOptions[a.charAt(0).toLowerCase()+a.slice(1)])){if(this.parent.activeViewOptions.readonly&&"MonthAgenda"!==this.parent.currentView){this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide();return}if(this.parent.isAdaptive&&(e.target.classList.contains(ta.Fk6)||(0,A.oq)(e.target,"."+ta.Fk6)))return;var o=n.classList.contains(ta.bqQ)||n.classList.contains(ta.nqV);if(o&&e.shiftKey&&1===e.which&&this.parent.keyboardInteractionModule){this.parent.keyboardInteractionModule.onMouseSelection(e);return}this.parent.activeCellsData=this.parent.getCellDetails(n);var l=(0,A.l7)(this.parent.activeCellsData,{cancel:!1,event:e,name:"cellClick"});this.parent.trigger(tn.kj,l,function(e){if(e.cancel)t.parent.quickPopup&&t.parent.quickPopup.quickPopupHide();else if(o&&t.parent.selectCell(n),t.parent.allowInline){var i={element:e.element,groupIndex:e.groupIndex,type:"Cell"};t.parent.notify(tn.nI,i)}else t.parent.notify(tn.kj,e)})}else{var h=this.parent.getDateFromElement(n);!(0,A.le)(h)&&!this.parent.isAdaptive&&this.parent.isMinMaxDate(h)&&(this.parent.setProperties({selectedDate:h},!0),this.parent.changeView(this.parent.getNavigateView(),e))}}}},e.prototype.cellDblClick=function(e){var t=this,i="."+ta.bqQ+",."+ta.nqV+",."+ta.Tb6,n=(0,A.oq)(e.target,i);if(!(this.parent.activeViewOptions.readonly||this.isPreventAction(e)||(0,A.le)(n))){var r=(0,A.l7)(this.parent.activeCellsData,{cancel:!1,event:e,name:"cellDoubleClick"});this.parent.trigger(tn.wZ,r,function(e){var i=new Date(e.startTime.getTime());t.parent.isMinMaxDate(new Date(i.setHours(0,0,0,0)))&&(e.cancel||t.parent.eventWindow.openEditor(t.parent.activeCellsData,"Add"))})}},e.prototype.onHover=function(e){var t="."+ta.bqQ+",."+ta.re0+",."+ta.nqV+",."+ta.Tb6+",."+ta.tlV+",."+ta.MQu+",."+ta.Vbv+",."+ta._cW,i=(0,A.oq)(e.target,t);i&&this.parent.trigger(tn.Mr,{element:i,event:e})},e.prototype.isPreventAction=function(e){if((0,A.oq)(e.target,"."+ta.DaF))return!1;if((0,A.oq)(e.target,"."+ta.Q93)&&!(0,A.oq)(e.target,"."+ta.Fk6))return!0;var t=(0,A.oq)(e.target,"."+ta.MQu+",."+ta.usT);return!(0,A.le)(t)||(t=(0,A.oq)(e.target,"."+ta.Tb6),!!this.parent.activeView.isTimelineView()&&!(0,A.le)(t))},e.prototype.destroy=function(){A.bi.remove(this.parent.element,"mouseover",this.onHover)},e}(),n4=(y=function(e,t){return(y=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}y(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),n7=function(e,t,i,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},n6=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n4(t,e),n7([(0,A.Z9)()],t.prototype,"name",void 0),n7([(0,A.Z9)()],t.prototype,"default",void 0),n7([(0,A.Z9)()],t.prototype,"title",void 0),n7([(0,A.Z9)({})],t.prototype,"validation",void 0),t}(A.rt),n5=(b=function(e,t){return(b=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}b(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),n8=function(e,t,i,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},re=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n5(t,e),n8([(0,A.Z9)("Id")],t.prototype,"id",void 0),n8([(0,A.Z9)("IsBlock")],t.prototype,"isBlock",void 0),n8([(0,A.Zz)({name:"Subject"},n6)],t.prototype,"subject",void 0),n8([(0,A.Zz)({name:"StartTime"},n6)],t.prototype,"startTime",void 0),n8([(0,A.Zz)({name:"EndTime"},n6)],t.prototype,"endTime",void 0),n8([(0,A.Zz)({name:"StartTimezone"},n6)],t.prototype,"startTimezone",void 0),n8([(0,A.Zz)({name:"EndTimezone"},n6)],t.prototype,"endTimezone",void 0),n8([(0,A.Zz)({name:"Location"},n6)],t.prototype,"location",void 0),n8([(0,A.Zz)({name:"Description"},n6)],t.prototype,"description",void 0),n8([(0,A.Zz)({name:"IsAllDay"},n6)],t.prototype,"isAllDay",void 0),n8([(0,A.Zz)({name:"RecurrenceID"},n6)],t.prototype,"recurrenceID",void 0),n8([(0,A.Zz)({name:"RecurrenceRule"},n6)],t.prototype,"recurrenceRule",void 0),n8([(0,A.Zz)({name:"RecurrenceException"},n6)],t.prototype,"recurrenceException",void 0),n8([(0,A.Z9)("IsReadonly")],t.prototype,"isReadonly",void 0),n8([(0,A.Z9)("FollowingID")],t.prototype,"followingID",void 0),t}(A.rt),rt=(T=function(e,t){return(T=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}T(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),ri=function(e,t,i,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},rn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return rt(t,e),ri([(0,A.Z9)()],t.prototype,"template",void 0),ri([(0,A.Z9)([])],t.prototype,"dataSource",void 0),ri([(0,A.Z9)()],t.prototype,"query",void 0),ri([(0,A.Zz)({},re)],t.prototype,"fields",void 0),ri([(0,A.Z9)(!1)],t.prototype,"enableTooltip",void 0),ri([(0,A.Z9)("AllDayRow")],t.prototype,"spannedEventPlacement",void 0),ri([(0,A.Z9)(1)],t.prototype,"minimumEventDuration",void 0),ri([(0,A.Z9)()],t.prototype,"tooltipTemplate",void 0),ri([(0,A.Z9)()],t.prototype,"resourceColorField",void 0),ri([(0,A.Z9)(!1)],t.prototype,"editFollowingEvents",void 0),ri([(0,A.Z9)(!0)],t.prototype,"allowAdding",void 0),ri([(0,A.Z9)(!0)],t.prototype,"allowEditing",void 0),ri([(0,A.Z9)(!0)],t.prototype,"allowDeleting",void 0),ri([(0,A.Z9)(!1)],t.prototype,"enableMaxHeight",void 0),ri([(0,A.Z9)(!1)],t.prototype,"enableIndicator",void 0),ri([(0,A.Z9)(!1)],t.prototype,"ignoreWhitespace",void 0),ri([(0,A.Z9)()],t.prototype,"sortComparer",void 0),ri([(0,A.Z9)()],t.prototype,"includeFiltersInQuery",void 0),t}(A.rt),rr=(D=function(e,t){return(D=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}D(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),ra=function(e,t,i,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},rs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return rr(t,e),ra([(0,A.Z9)(!1)],t.prototype,"byDate",void 0),ra([(0,A.Z9)(!0)],t.prototype,"byGroupID",void 0),ra([(0,A.Z9)(!1)],t.prototype,"allowGroupEdit",void 0),ra([(0,A.Z9)([])],t.prototype,"resources",void 0),ra([(0,A.Z9)(!0)],t.prototype,"enableCompactView",void 0),ra([(0,A.Z9)()],t.prototype,"headerTooltipTemplate",void 0),ra([(0,A.Z9)(!1)],t.prototype,"hideNonWorkingDays",void 0),t}(A.rt),ro=(w=function(e,t){return(w=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}w(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),rl=function(e,t,i,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},rh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ro(t,e),rl([(0,A.Z9)()],t.prototype,"field",void 0),rl([(0,A.Z9)()],t.prototype,"title",void 0),rl([(0,A.Z9)()],t.prototype,"name",void 0),rl([(0,A.Z9)(!1)],t.prototype,"allowMultiple",void 0),rl([(0,A.Z9)([])],t.prototype,"dataSource",void 0),rl([(0,A.Z9)()],t.prototype,"query",void 0),rl([(0,A.Z9)("Id")],t.prototype,"idField",void 0),rl([(0,A.Z9)("Text")],t.prototype,"textField",void 0),rl([(0,A.Z9)("Expanded")],t.prototype,"expandedField",void 0),rl([(0,A.Z9)("GroupID")],t.prototype,"groupIDField",void 0),rl([(0,A.Z9)("Color")],t.prototype,"colorField",void 0),rl([(0,A.Z9)("StartHour")],t.prototype,"startHourField",void 0),rl([(0,A.Z9)("EndHour")],t.prototype,"endHourField",void 0),rl([(0,A.Z9)("WorkDays")],t.prototype,"workDaysField",void 0),rl([(0,A.Z9)("CssClass")],t.prototype,"cssClassField",void 0),t}(A.rt),rp=i(50173),rc=i(63872),ru=function(){function e(e){this.resourceCollection=[],this.leftPixel=25,this.resourceDateTree=[],this.parent=e}return e.prototype.renderResourceHeaderIndent=function(e){var t=(0,A.az)("td",{className:ta.ItD}),i=(0,A.az)("div",{className:ta.h_T});if(this.parent.activeViewOptions.headerIndentTemplate){var n={className:[t.className],type:"emptyCells"};this.parent.renderHeaderIndentTemplate(n,t)}else t.appendChild(i);this.parent.trigger(tn.cw,{elementType:"emptyCells",element:t}),e.appendChild(t)},e.prototype.hideResourceRows=function(e){if(!(this.resourceCollection.length<=1)&&!this.parent.virtualScrollModule)for(var t=this.lastResourceLevel.length,i=0;i<t;i++){var n=this.lastResourceLevel[parseInt(i.toString(),10)].resourceData,r=this.lastResourceLevel[parseInt(i.toString(),10)].resource;if(n.ClassName===ta.jKe&&!n[r.expandedField]&&!(0,A.le)(n[r.expandedField])){var a=[].slice.call(e.children).slice(i+1,i+(parseInt(n.Count,10)+1));(0,A.cn)(a,ta.V27)}}},e.prototype.createResourceColumn=function(){var e=this.resourceCollection,t=(0,A.az)("div",{className:ta.OPv}),i=this.parent.activeView.createTableLayout(ta.vXr);!this.parent.uiStateValues.isGroupAdaptive&&this.parent.rowAutoHeight&&this.parent.activeView.isTimelineView()&&this.parent.activeViewOptions.group.resources.length>0&&(0,A.cn)([i],ta.p2T);var n=i.querySelector("tbody"),r=this.generateTreeData(!0);if(this.countCalculation(e.slice(0,-2),e.slice(0,-1)),this.renderedResources=this.lastResourceLevel,this.parent.virtualScrollModule){var a=this.parent.virtualScrollModule.getRenderedCount();this.setExpandedResources(),r=this.expandedResources.slice(0,a),this.renderedResources=r}return(0,A.R3)(this.getContentRows(r),n),this.hideResourceRows(n),i.appendChild(n),t.appendChild(i),t},e.prototype.setRenderedResources=function(){var e=this.resourceCollection;this.generateTreeData(!0),this.countCalculation(e.slice(0,-2),e.slice(0,-1)),this.renderedResources=this.lastResourceLevel},e.prototype.setExpandedResources=function(){for(var e=[],t=0;t<this.lastResourceLevel.length;t++){var i=this.lastResourceLevel[parseInt(t.toString(),10)].resourceData,n=i.Count;e.push(this.lastResourceLevel[parseInt(t.toString(),10)]);var r=i[this.lastResourceLevel[parseInt(t.toString(),10)].resource.expandedField];(0,A.le)(r)||r||!(n>0)||(t+=n)}this.expandedResources=e},e.prototype.getContentRows=function(e,t){for(var i,n,r=[],a=this.resourceCollection,s=(0,A.az)("tr"),o=(0,A.az)("td",{attrs:{tabindex:t?"-1":"0"}}),l=0;l<e.length;l++){var h=o.cloneNode();if((n=tr.Zi(a,"name",e[parseInt(l.toString(),10)].resource.name))===a.length-1?((0,A.l7)(e[parseInt(l.toString(),10)].resourceData,{ClassName:ta.InQ}),this.renderedResources[parseInt(l.toString(),10)].className=[ta.InQ]):((0,A.l7)(e[parseInt(l.toString(),10)].resourceData,{ClassName:ta.jKe}),this.renderedResources[parseInt(l.toString(),10)].className=[ta.jKe]),i=n*this.leftPixel+"px",e[parseInt(l.toString(),10)].resourceData.ClassName===ta.jKe&&!(0,A.le)(e[parseInt(l.toString(),10)].resourceData.Count)&&e[parseInt(l.toString(),10)].resourceData.Count>0){var p=void 0;p=e[parseInt(l.toString(),10)].resourceData[a[parseInt(n.toString(),10)].expandedField]||(0,A.le)(e[parseInt(l.toString(),10)].resourceData[a[parseInt(n.toString(),10)].expandedField])?ta.Bue:ta.vkO;var c=(0,A.az)("div");(0,A.cn)([c],[ta.o_S,p]),this.setMargin(c,i),h.appendChild(c),this.resourceCollection.length>1&&A.bi.add(c,"click",this.onTreeIconClick,this)}this.parent.activeView.setResourceHeaderContent(h,e[parseInt(l.toString(),10)],ta.h_T),h.setAttribute("data-group-index",e[parseInt(l.toString(),10)].groupIndex.toString()),h.setAttribute("aria-label",e[parseInt(l.toString(),10)].resourceData[e[parseInt(l.toString(),10)].resource.textField]+" resource"),this.parent.activeViewOptions.resourceHeaderTemplate||this.setMargin(h.querySelector("."+ta.h_T),i);var u=[ta.tlV,e[parseInt(l.toString(),10)].resourceData.ClassName];(0,A.cn)([h],u);var d={elementType:"resourceHeader",element:h,groupIndex:e[parseInt(l.toString(),10)].groupIndex};this.parent.trigger(tn.cw,d);var m=s.cloneNode();m.appendChild(h),r.push(m)}return r},e.prototype.setMargin=function(e,t){this.parent.enableRtl?e.style.marginRight=t:e.style.marginLeft=t},e.prototype.countCalculation=function(e,t){for(var i,n=0;n<e.length;n++){for(var r=e[e.length-(n+1)].dataSource,a=0;a<r.length;a++){var s=0;if(this.parent.activeViewOptions.group.byGroupID){var o=new tc.A().where(t[t.length-1].groupIDField,"equal",r[parseInt(a.toString(),10)][e[e.length-(n+1)].idField]);i=new tp.h(t[t.length-1].dataSource).executeLocal(o)}else i=t[t.length-1].dataSource;for(var l=0;l<i.length;l++)s+=parseInt(i[parseInt(l.toString(),10)].Count,10);s+=parseInt(r[parseInt(a.toString(),10)].Count,10),(0,A.l7)(r[parseInt(a.toString(),10)],{Count:s})}t=t.slice(0,-1)}},e.prototype.onTreeIconClick=function(e){var t,i=this;this.parent.eventTooltip&&this.parent.eventTooltip.close();var n=e.target,r=parseInt((0,A.oq)(n,"."+ta.jKe).parentElement.children[0].getAttribute("data-group-index"),10),a={cancel:!1,event:e,groupIndex:r,requestType:n.classList.contains(ta.Bue)?"resourceCollapse":"resourceExpand"};this.parent.trigger(tn.m2,a,function(s){if(!s.cancel){n.classList.contains(ta.Bue)?((0,A.s1)(n,[ta.vkO],[ta.Bue]),t=!0):((0,A.s1)(n,[ta.Bue],[ta.vkO]),t=!1);for(var o=[].slice.call(i.parent.element.querySelectorAll("."+ta.MQu+",."+ta.Fk6)),l=0;l<o.length;l++){var h=o[l];(0,A.Od)(h)}i.parent.virtualScrollModule?i.updateVirtualContent(r,t,e,n):i.updateContent(r,t);var p={cssProperties:i.parent.getCssProperties(),module:"scroll"};i.parent.notify(tn.Cn,p),a={cancel:!1,event:e,groupIndex:r,requestType:n.classList.contains(ta.Bue)?"resourceExpanded":"resourceCollapsed"},i.parent.refreshEvents(!1),i.parent.trigger(tn.i8,a)}})},e.prototype.updateContent=function(e,t){for(var i,n=[],r=[],a=[],s=this.lastResourceLevel[parseInt(e.toString(),10)].resourceData,o=[].slice.call(this.parent.element.querySelectorAll("."+ta.OPv+" tr")),l=[].slice.call(this.parent.element.querySelectorAll("."+ta.y0r+" tbody tr")),h=[].slice.call(this.parent.element.querySelectorAll("."+ta.y0r+" ."+ta.eK$)),p=0;p<s.Count;p++)n.push(o[e+p+1]),r.push(l[e+p+1]),a.push(h[e+p+1]);for(var c=this.lastResourceLevel,u=0;u<n.length;u++){var d=!0;if(i=n[parseInt(u.toString(),10)].children[0].classList.contains(ta.jKe),c[parseInt(e.toString(),10)].resourceData[c[parseInt(e.toString(),10)].resource.expandedField]=!t,t){if(i){var m=n[parseInt(u.toString(),10)].querySelector("."+ta.o_S);m&&(0,A.s1)(m,[ta.vkO],[ta.Bue])}n[parseInt(u.toString(),10)].classList.contains(ta.V27)||(0,A.cn)([n[parseInt(u.toString(),10)],r[parseInt(u.toString(),10)],a[parseInt(u.toString(),10)]],ta.V27)}else{if(i){var v=n[parseInt(u.toString(),10)].rowIndex;if(c[parseInt(v.toString(),10)].resourceData[c[parseInt(v.toString(),10)].resource.expandedField]||(0,A.le)(c[parseInt(v.toString(),10)].resourceData[c[parseInt(v.toString(),10)].resource.expandedField])||(n.splice(u+1,parseInt(c[parseInt(v.toString(),10)].resourceData.Count,10)),r.splice(u+1,parseInt(c[parseInt(v.toString(),10)].resourceData.Count,10)),a.splice(u+1,parseInt(c[parseInt(v.toString(),10)].resourceData.Count,10)),d=!1),d){var m=n[parseInt(u.toString(),10)].querySelector("."+ta.o_S);m&&(0,A.s1)(m,[ta.Bue],[ta.vkO])}}n[parseInt(u.toString(),10)].classList.contains(ta.V27)&&(0,A.IV)([n[parseInt(u.toString(),10)],r[parseInt(u.toString(),10)],a[parseInt(u.toString(),10)]],ta.V27)}}},e.prototype.updateVirtualContent=function(e,t,i,n){this.lastResourceLevel[parseInt(e.toString(),10)].resourceData[this.lastResourceLevel[parseInt(e.toString(),10)].resource.expandedField]=!t,this.setExpandedResources();var r=this.parent.virtualScrollModule.getRenderedCount(),a=this.expandedResources.indexOf(this.renderedResources[0]);if(this.renderedResources=this.expandedResources.slice(a,a+r),this.renderedResources.length<r){var s=this.expandedResources.length-r;s=s>0?s:0,this.renderedResources=this.expandedResources.slice(s,this.expandedResources.length)}var o=this.parent.element.querySelector("."+ta.ZSp);this.parent.virtualScrollModule.updateVirtualTrackHeight(o);var l=this.parent.element.querySelector("."+ta.OPv+" table"),h=this.parent.element.querySelector("."+ta.y0r+" table"),p=this.parent.element.querySelector("."+ta.XMQ);this.parent.virtualScrollModule.updateContent(l,h,p,this.renderedResources);var c=this.parent.element.querySelector("."+ta.PQI);(0,A.le)(c)||(c.style.height=this.parent.element.querySelector("."+ta.OzO).offsetHeight+"px")},e.prototype.renderResourceHeader=function(){var e=(0,A.az)("div",{className:ta.W52});if(e.innerHTML='<div class="'+ta.pqP+'"><div class="'+ta.LfV+'"><div class="e-icons '+ta.qqG+'"></div></div><div class="'+ta.EyK+'"></div></div>',"MonthAgenda"===this.parent.currentView){var t=this.parent.activeView.getPanel().querySelector("."+ta.y0r);t.insertBefore(e,t.querySelector("."+ta.XkK))}else this.parent.element.insertBefore(e,this.parent.element.querySelector("."+ta.x83));this.renderResourceHeaderText(),A.bi.add(e.querySelector("."+ta.qqG),"click",this.menuClick,this)},e.prototype.renderResourceTree=function(){this.popupOverlay=(0,A.az)("div",{className:ta.EHS});var e=(0,A.az)("div",{className:ta.tM5+" e-popup-close"});if("MonthAgenda"===this.parent.currentView){var t=this.parent.activeView.getPanel().querySelector("."+ta.XkK);t.insertBefore(e,t.children[0]),t.appendChild(this.popupOverlay)}else this.parent.element.querySelector("."+ta.x83).appendChild(e),this.parent.element.querySelector("."+ta.x83).appendChild(this.popupOverlay);var i=(0,A.az)("div",{className:ta.XVz});e.appendChild(i),this.treeViewObj=new rc.LQ({cssClass:this.parent.cssClass,enableRtl:this.parent.enableRtl,enableHtmlSanitizer:this.parent.enableHtmlSanitizer,fields:{dataSource:[].slice.call(this.generateTreeData()),id:"resourceId",text:"resourceName",child:"resourceChild"},nodeTemplate:this.parent.resourceHeaderTemplate,nodeClicked:this.resourceClick.bind(this),created:this.resourceTreeCreated.bind(this)}),this.treeViewObj.root=this.parent.root?this.parent.root:this.parent,this.treeViewObj.appendTo(i),this.treeViewObj.expandAll(),this.treePopup=new M.GI(e,{targetType:"relative",actionOnScroll:"none",content:this.treeViewObj.element,relateTo:this.parent.element.querySelector("."+ta.x83),enableRtl:this.parent.enableRtl,hideAnimation:{name:"SlideLeftOut",duration:500},showAnimation:{name:"SlideLeftIn",duration:500},viewPortElement:this.parent.element.querySelector("."+("MonthAgenda"===this.parent.currentView?ta.XkK:ta.x83))}),this.parent.on(tn.ZT,this.documentClick,this)},e.prototype.resourceTreeCreated=function(){this.parent.activeViewOptions.resourceHeaderTemplate&&this.parent.portals&&this.treeViewObj.portals&&(this.parent.portals=this.parent.portals.concat(this.treeViewObj.portals),this.parent.renderTemplates())},e.prototype.generateTreeData=function(e){for(var t=this,i=[],n=[],r=0,a=this,s=0,o=this.resourceTreeLevel.length;s<o;s++)!function(s,o){var l=function(i,a,s){var o,h,p=t.resourceCollection[parseInt(a.toString(),10)];e?(h={type:"resourceHeader",resource:i.resource,resourceData:i.resourceData,groupIndex:r,groupOrder:i.groupOrder},n.push(h),r++):o={resourceId:s,resourceName:i.resourceData[p.textField],resource:i.resource,resourceData:i.resourceData},i.child.length>0&&!e&&(o.resourceChild=[]);for(var c=1,u=0,d=i.child;u<d.length;u++){var m=d[u];e?l(m,a+1,s+"-"+c):o.resourceChild.push(l(m,a+1,s+"-"+c)),c+=1}return e&&(0,A.l7)(h.resourceData,{Count:c-1}),o};e?l(a.resourceTreeLevel[parseInt(s.toString(),10)],0,(s+1).toString()):i.push(l(a.resourceTreeLevel[parseInt(s.toString(),10)],0,(s+1).toString()))}(s,0);return e?(this.lastResourceLevel=n,n):i},e.prototype.renderResourceHeaderText=function(){for(var e=this.lastResourceLevel[this.parent.uiStateValues.groupIndex],t=[],i=function(i,r){var a=n.resourceCollection[parseInt(i.toString(),10)],s=a.dataSource.filter(function(t){return t[a.idField]===e.groupOrder[parseInt(i.toString(),10)]}),o=(0,A.az)("div",{className:ta.Ufx});n.parent.sanitize(s[0][a.textField],o),t.push(o);var l=(0,A.az)("div",{className:"e-icons e-icon-next"});t.push(l)},n=this,r=0,a=e.groupOrder.length;r<a;r++)i(r,a);t.pop();var s=("MonthAgenda"===this.parent.currentView?this.parent.activeView.getPanel():this.parent.element).querySelector("."+ta.EyK);tr.ep(s);for(var o=0;o<t.length;o++){var l=t[o];s.appendChild(l)}1===this.lastResourceLevel.length&&(0,A.cn)([this.parent.element.querySelector("."+ta.LfV)],ta.cSX)},e.prototype.menuClick=function(e){if(this.parent.element.querySelector("."+ta.tM5).classList.contains(ta.HRK))this.treePopup.hide(),(0,A.IV)([this.popupOverlay],ta.JiT);else{var t=[].slice.call(this.treeViewObj.element.querySelectorAll(".e-list-item:not(.e-has-child)"));(0,A.IV)(t,"e-active"),(0,A.cn)([t[this.parent.uiStateValues.groupIndex]],"e-active"),this.treePopup.show(),(0,A.cn)([this.popupOverlay],ta.JiT)}},e.prototype.selectResourceByIndex=function(e){this.lastResourceLevel&&e>-1&&e<this.lastResourceLevel.length&&this.triggerEvents(e)},e.prototype.resourceClick=function(e){if(!e.node.classList.contains("e-has-child")){this.treePopup.hide(),(0,A.IV)([this.popupOverlay],ta.JiT);var t=[].slice.call(this.treeViewObj.element.querySelectorAll(".e-list-item:not(.e-has-child)")).indexOf(e.node);this.triggerEvents(t,e),e.event.preventDefault()}},e.prototype.triggerEvents=function(e,t){var i=this,n={cancel:!1,event:t?t.event:null,groupIndex:e,requestType:"resourceChange"};this.parent.trigger(tn.m2,n,function(e){e.cancel||(i.parent.uiStateValues.groupIndex=e.groupIndex,i.parent.renderModule.render(i.parent.currentView),n={cancel:!1,event:t?t.event:null,groupIndex:i.parent.uiStateValues.groupIndex,requestType:"resourceChanged"},i.parent.trigger(tn.i8,n))})},e.prototype.documentClick=function(e){if(!(0,A.oq)(e.event.target,"."+ta.tM5)){var t=this.parent.element.querySelector("."+ta.tM5);t&&t.classList.contains(ta.HRK)&&(this.treePopup.hide(),(0,A.IV)([this.popupOverlay],ta.JiT))}},e.prototype.bindResourcesData=function(e){var t=this;this.parent.showSpinner();for(var i=[],n=0,r=this.parent.resources;n<r.length;n++){var a=r[n],s=new tu(this.parent,a.dataSource,a.query);i.push(s.getData(s.generateQuery()))}Promise.all(i).then(function(i){return t.dataManagerSuccess(i,e)}).catch(function(e){return t.parent.crudModule.dataManagerFailure(e)})},e.prototype.dataManagerSuccess=function(e,t){if(this.parent&&(!this.parent||!this.parent.isDestroyed)){this.parent.resourceCollection=[];for(var i=0,n=e.length;i<n;i++){var r=this.parent.resources[parseInt(i.toString(),10)],a=this.getResourceModel(r,e[parseInt(i.toString(),10)].result);this.parent.resourceCollection.push(a)}this.refreshLayout(t)}},e.prototype.getResourceModel=function(e,t){return{field:e.field,title:e.title,name:e.name,allowMultiple:e.allowMultiple,dataSource:t||e.dataSource,idField:e.idField,textField:e.textField,groupIDField:e.groupIDField,colorField:e.colorField,startHourField:e.startHourField,endHourField:e.endHourField,workDaysField:e.workDaysField,expandedField:e.expandedField,cssClassField:e.cssClassField}},e.prototype.refreshLayout=function(e){((0,A.le)(this.parent.uiStateValues.groupIndex)||!this.parent.enablePersistence)&&(this.parent.uiStateValues.groupIndex=0),this.parent.renderElements(e)},e.prototype.setResourceCollection=function(){var e=[];if(this.resourceCollection=[],this.colorIndex=null,this.parent.activeViewOptions.group.resources.length>0)for(var t=0,i=this.parent.activeViewOptions.group.resources;t<i.length;t++){var n=i[t],r=tr.Zi(this.parent.resourceCollection,"name",n);r>=0&&e.push(this.parent.resourceCollection[parseInt(r.toString(),10)])}else this.parent.resourceCollection.length>0&&(e=this.parent.resourceCollection);for(var a=0,s=0,o=e;s<o.length;s++){var n=o[s],l=this.getResourceModel(n);n.name===this.parent.eventSettings.resourceColorField&&(this.colorIndex=a),a++,this.resourceCollection.push(l)}(0,A.le)(this.colorIndex)&&(this.colorIndex=this.resourceCollection.length-1)},e.prototype.generateResourceLevels=function(e,t){var i=this,n=this.resourceCollection,r=[],a=[],s=function(t,n,o,l,h){var p=[],c=t[0];if(c){var u=void 0;if(l&&i.parent.activeViewOptions.group.byGroupID){var d=l[o.idField];u=c.dataSource.filter(function(e){return e[c.groupIDField]===d})}else u=c.dataSource;for(var m=0;m<u.length;m++){var v=[];h&&h.length>0&&(v=v.concat(h)),v.push(u[parseInt(m.toString(),10)][c.idField]);var g=s(t.slice(1),n+1,c,u[parseInt(m.toString(),10)],v);if(0!==n||0!==g.length||!(i.resourceCollection.length>1)){var f=[],y=i.parent.activeView.renderDates,b=void 0;if(!i.parent.activeViewOptions.group.byDate&&n+1===i.resourceCollection.length){var T=u[parseInt(m.toString(),10)][c.workDaysField],D=u[parseInt(m.toString(),10)][c.startHourField],w=u[parseInt(m.toString(),10)][c.endHourField];T&&T.length>0?(y=i.parent.activeView.getRenderDates(T),b=T,f=i.parent.activeView.getDateSlots(y,T)):(b=i.parent.activeViewOptions.workDays,f=e);var C=i.generateCustomHours(f,D,w,v);a=a.concat(C)}var S=u[parseInt(m.toString(),10)][c.cssClassField],E={type:"resourceHeader",className:["e-resource-cells"],resourceLevelIndex:n,groupOrder:v,resource:c,resourceData:u[parseInt(m.toString(),10)],colSpan:i.parent.activeViewOptions.group.byDate?1:f.length,renderDates:y,workDays:b,cssClass:S,child:g};p.push(E)}}return r[parseInt(n.toString(),10)]||(r[parseInt(n.toString(),10)]=[]),p.length>0&&r[parseInt(n.toString(),10)].push(p),p}return[]};return this.resourceTreeLevel=s(n,0),t?[]:this.generateHeaderLevels(r,a,e)},e.prototype.generateCustomHours=function(e,t,i,n){for(var r=(0,A.l7)([],e,null,!0),a=0;a<r.length;a++){var s=r[a];t&&(s.startHour=this.parent.getStartEndTime(t)),i&&(s.endHour=this.parent.getStartEndTime(i)),n&&(s.groupOrder=n)}return r},e.prototype.generateHeaderLevels=function(e,t,i){for(var n=[],r=e.length-1;r>=0;r--)for(var a=0,s=0,o=e[parseInt(r.toString(),10)];s<o.length;s++)for(var l=o[s],h=0;h<l.length;h++){var p=l[h];if(e[r+1]&&e[r+1].length>0){var c=e[parseInt((r+1).toString(),10)][parseInt(a.toString(),10)];if(!c)continue;for(var u=0,d=0;d<c.length;d++){var m=c[d];(!this.parent.activeViewOptions.group.byGroupID||this.parent.activeViewOptions.group.byGroupID&&m.resourceData[m.resource.groupIDField]===p.resourceData[p.resource.idField])&&(u+=m.colSpan)}p.colSpan=u}p.groupIndex=a,a++,n[p.resourceLevelIndex]=n[p.resourceLevelIndex]||[],n[p.resourceLevelIndex].push(p)}if(this.lastResourceLevel=n.slice(-1)[0]||[],!this.parent.activeViewOptions.group.byDate){for(var v=0,g=0,f=this.lastResourceLevel;g<f.length;g++)for(var y=f[g],r=0;r<y.colSpan;r++)t[parseInt(v.toString(),10)].groupIndex=y.groupIndex,v++;return n.push(t),n}var b=[],T=(0,A.l7)([],n,null,!0),D=[];if(this.parent.activeViewOptions.group.hideNonWorkingDays){for(var w=[],C=0,S=function(e){E.resourceDateTree[parseInt(C.toString(),10)]=[];for(var t=[],i=function(i){var n=E.lastResourceLevel[parseInt(i.toString(),10)].resourceData[E.lastResourceLevel[parseInt(i.toString(),10)].resource.workDaysField];if(n||(n=E.parent.activeViewOptions.workDays),-1!==n.indexOf(e.date.getDay())){var r=(0,A.l7)({},E.lastResourceLevel[parseInt(i.toString(),10)],null,!0);r.date=e.date,E.lastResourceLevel[parseInt(i.toString(),10)].workDays=n,r.startHour=E.parent.getStartEndTime(r.resourceData[r.resource.startHourField])||e.startHour,r.endHour=E.parent.getStartEndTime(r.resourceData[r.resource.endHourField])||e.endHour,E.resourceDateTree[parseInt(C.toString(),10)].push(r);for(var a=function(n){if(t[parseInt(n.toString(),10)]||(t[parseInt(n.toString(),10)]=[]),n===r.groupOrder.length-1){w[parseInt(i.toString(),10)]||(w[parseInt(i.toString(),10)]=[]);var a=r.renderDates.filter(function(t){return t.getDay()===e.date.getDay()});return w[parseInt(i.toString(),10)]=w[parseInt(i.toString(),10)].concat(a),t[parseInt(n.toString(),10)].push(r),"continue"}var s=T[parseInt(n.toString(),10)].filter(function(e){return e.resourceData[e.resource.idField]===r.groupOrder[parseInt(n.toString(),10)]});if(s&&s.length>0){var o=t[parseInt(n.toString(),10)].filter(function(e){return e.resourceData[e.resource.idField]===r.groupOrder[parseInt(n.toString(),10)]});if(o&&o.length>0)o[0].colSpan+=1;else{var l=(0,A.l7)({},s[0],null,!0);l.colSpan=1,t[parseInt(n.toString(),10)].push(l)}}},s=0;s<r.groupOrder.length;s++)a(s)}},n=0;n<E.lastResourceLevel.length;n++)i(n);if(t.length>0){for(var r=0;r<T.length;r++)b[parseInt(r.toString(),10)]||(b[parseInt(r.toString(),10)]=[]),b[parseInt(r.toString(),10)]=b[parseInt(r.toString(),10)].concat(t[parseInt(r.toString(),10)]);e.colSpan=t[t.length-1].length,D.push(e)}C++},E=this,k=0;k<i.length;k++){var V=i[k];S(V)}return this.resourceDateTree=this.resourceDateTree.filter(function(e){return e.length>0}),this.lastResourceLevel.forEach(function(e,t){w[parseInt(t.toString(),10)]&&(e.renderDates=w[parseInt(t.toString(),10)].sort(function(e,t){return e.getTime()-t.getTime()}))}),b.unshift(D),b}for(var M=0,x=0,I=T[0];x<I.length;x++)M+=I[x].colSpan;for(var O=0;O<i.length;O++){var V=i[O];V.colSpan=M,D.push(V);for(var R=(0,A.l7)([],T,null,!0),P=0,H=R.length;P<H;P++){if(P===R.length-1)for(var L=0,q=R[parseInt(P.toString(),10)];L<q.length;L++){var F=q[L];F.date=V.date,F.workDays=V.workDays,F.startHour=this.parent.getStartEndTime(F.resourceData[F.resource.startHourField])||V.startHour,F.endHour=this.parent.getStartEndTime(F.resourceData[F.resource.endHourField])||V.endHour}b[parseInt(P.toString(),10)]||(b[parseInt(P.toString(),10)]=[]),b[parseInt(P.toString(),10)]=b[parseInt(P.toString(),10)].concat(R[parseInt(P.toString(),10)])}}return b.unshift(D),b},e.prototype.setResourceValues=function(e,t){var i=this,n=function(t,n,r){i.resourceCollection[parseInt(t.toString(),10)].allowMultiple&&i.parent.activeViewOptions.group.allowGroupEdit?e[""+n]=[r]:e[""+n]=r};if(void 0===t&&(t=this.parent.uiStateValues.isGroupAdaptive?this.parent.uiStateValues.groupIndex:this.parent.activeCellsData.groupIndex),this.parent.activeViewOptions.group.resources.length>0&&!(0,A.le)(t))for(var r=this.lastResourceLevel[parseInt(t.toString(),10)].groupOrder,a=0;a<this.resourceCollection.length;a++)n(a,this.resourceCollection[parseInt(a.toString(),10)].field,r[parseInt(a.toString(),10)]);else if(this.parent.resourceCollection.length>0)for(var a=0;a<this.resourceCollection.length;a++){var s=this.resourceCollection[parseInt(a.toString(),10)].dataSource[0];s&&n(a,this.resourceCollection[parseInt(a.toString(),10)].field,s[this.resourceCollection[parseInt(a.toString(),10)].idField])}},e.prototype.getResourceColor=function(e,t){var i=!(0,A.le)(t)&&this.colorIndex>t.length-1?t.length-1:this.colorIndex,n=this.resourceCollection[parseInt(i.toString(),10)];if(!(0,A.le)(t)||!this.parent.activeViewOptions.group.allowGroupEdit||!n.allowMultiple){var r=(0,A.le)(t)?e[n.field]:t[parseInt(i.toString(),10)],a=this.filterData(n.dataSource,n.idField,r);if(a.length>0)return a[0][n.colorField]}},e.prototype.getCssClass=function(e){var t=this.resourceCollection.slice(-1)[0];if(!this.parent.activeViewOptions.group.allowGroupEdit||!t.allowMultiple){var i=this.filterData(t.dataSource,t.idField,e[t.field]);if(i.length>0)return i[0][t.cssClassField]}},e.prototype.getResourceRenderDates=function(){var e=[].concat.apply([],this.lastResourceLevel.map(function(e){return e.renderDates})).filter(function(e,t,i){return i.map(function(e){return e.getTime()}).indexOf(e.getTime())===t});return e.sort(function(e,t){return e.getTime()-t.getTime()}),e},e.prototype.filterData=function(e,t,i){return e.filter(function(e){return e[""+t]===i})},e.prototype.getResourceData=function(e,t,i){if(this.parent.activeViewOptions.group.allowGroupEdit){for(var n={},r=0;r<i.length;r++)for(var a=i[r],s=this.lastResourceLevel[parseInt(a.toString(),10)].groupOrder,o=0,l=s.length;o<l;o++){var h=this.resourceCollection[parseInt(o.toString(),10)].field;(0,A.le)(n[""+h])&&(n[""+h]=[]),n[""+h].push(s[parseInt(o.toString(),10)])}e=(0,A.l7)(e,n)}else for(var o=0,p=this.resourceCollection.length;o<p;o++)this.lastResourceLevel[parseInt(t.toString(),10)]&&(e[this.resourceCollection[parseInt(o.toString(),10)].field]=this.lastResourceLevel[parseInt(t.toString(),10)].groupOrder[parseInt(o.toString(),10)])},e.prototype.addResource=function(e,t,i){for(var n=e instanceof Array?e:[e],r=function(e){if(e.name===t)return n.forEach(function(t,n){return new tp.h({json:e.dataSource}).insert(t,null,null,i+n)}),"break"},a=0,s=this.parent.resourceCollection;a<s.length&&"break"!==r(s[a]);a++);this.refreshLayout(!0)},e.prototype.removeResource=function(e,t){for(var i=e instanceof Array?e:[e],n=function(e){if(e.name===t)return i.forEach(function(t){return new tp.h({json:e.dataSource}).remove(e.idField,t)}),"break"},r=0,a=this.parent.resourceCollection;r<a.length&&"break"!==n(a[r]);r++);this.refreshLayout(!0)},e.prototype.getIndexFromResourceId=function(e,t,i,n,r){if(t=t||this.parent.resourceCollection.slice(-1)[0].name,(0,A.le)(i)&&(i=this.resourceCollection.filter(function(e){return e.name===t})[0],(0,A.le)(i)))return null;var a=i.dataSource.filter(function(t){return n&&t[i.idField]===e?t[i.groupIDField]===n[""+r]?t[i.idField]===e:null:t[i.idField]===e})[0];return this.lastResourceLevel.map(function(e){return e.resourceData}).indexOf(a)},e.prototype.resourceExpand=function(e,t,i){var n=this.parent.resourceCollection.filter(function(e){return e.name===t?e:null})[0],r=0,a=n.dataSource.filter(function(t){return t[n.idField]===e})[0];r=this.parent.activeViewOptions.group.byGroupID?this.lastResourceLevel.map(function(e){return e.resourceData}).indexOf(a):this.getIndexFromResourceId(e,t,n);var s=this.parent.element.querySelector("."+ta.OPv+' [data-group-index="'+r+'"] .'+ta.o_S);s&&(s.classList.contains(ta.vkO)&&!i?s.click():s.classList.contains(ta.Bue)&&i&&s.click())},e.prototype.resourceScroll=function(e,t){if(!(this.parent.isAdaptive||["Agenda","MonthAgenda"].indexOf(this.parent.currentView)>-1)){var i=t||this.parent.resourceCollection.slice(-1)[0].name,n=this.parent.resourceCollection.length-1,r=this.parent.resourceCollection.filter(function(e,t){return e.name===i?(n=t,e):null})[0],a=this.parent.element.querySelector("."+ta.y0r),s=0;if(this.parent.activeView.isTimelineView()){if(this.parent.activeViewOptions.group.byGroupID){var o=r.dataSource.filter(function(t){return t[r.idField]===e})[0];s=this.lastResourceLevel.map(function(e){return e.resourceData}).indexOf(o)}else s=this.getIndexFromResourceId(e,i,r);if(this.parent.virtualScrollModule){var l=Math.round(this.parent.element.querySelector("."+ta.ZSp).offsetHeight/this.expandedResources.length);if(this.parent.rowAutoHeight&&(a.scrollTop=0,this.parent.virtualScrollModule.virtualScrolling()),a.scrollTop=s*l-(this.parent.virtualScrollModule.bufferCount-1)*l,this.parent.virtualScrollModule.virtualScrolling(),this.parent.rowAutoHeight){var h=this.parent.element.querySelector("."+ta.bqQ+'[data-group-index="'+s+'"]');h&&!h.parentElement.classList.contains(ta.V27)&&(a.scrollTop=a.scrollTop<h.offsetTop?h.offsetTop:a.scrollTop+h.offsetTop)}else a.scrollTop=s*l}else{var h=this.parent.element.querySelector("."+ta.bqQ+'[data-group-index="'+s+'"]');h&&!h.parentElement.classList.contains(ta.V27)&&(a.scrollTop=h.offsetTop)}}else{s=this.parent.activeViewOptions.group.byGroupID?i===this.parent.resourceCollection.slice(-1)[0].name?this.lastResourceLevel.map(function(e){return e.resourceData[r.idField]}).indexOf(e):r.dataSource.map(function(e){return e[r.idField]}).indexOf(e):this.getIndexFromResourceId(e,i,r);var p=this.parent.element.querySelector("."+ta.wKf+":nth-child("+(n+1)+")"),c=[].slice.call(p.children).map(function(e){return e.offsetLeft});a.scrollLeft=c[parseInt(s.toString(),10)]}}},e.prototype.destroy=function(){if(this.parent.off(tn.ZT,this.documentClick),this.treeViewObj){if(this.treeViewObj.portals&&this.treeViewObj.portals.length>0){var e=this.treeViewObj.portals.map(function(e){return e.propName});e.length>0&&this.parent.resetTemplates(e)}this.treeViewObj.destroy(),this.treeViewObj=null}this.treePopup&&(this.treePopup.destroy(),this.treePopup=null,(0,A.Od)(this.parent.element.querySelector("."+ta.tM5)),(0,A.Od)(this.parent.element.querySelector("."+ta.EHS)));var t=this.parent.element.querySelector("."+ta.W52);t&&(0,A.Od)(t)},e}(),rd=i(60201),rm=(C=function(e,t){return(C=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}C(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),rv=function(e,t,i,n){var r,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,i,s):r(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},rg=function(e){function t(t,i){return e.call(this,t,i)||this}return rm(t,e),t.prototype.render=function(){var e=[],t=[];if(e.push(ta.Dx9),this.enableRtl?e.push(ta.lw):t.push(ta.lw),this.isAdaptive?e.push(ta.Kx5):t.push(ta.Kx5),this.allowMultiDrag?e.push(ta.EGW):t.push(ta.EGW),this.cssClass)for(var i=this.cssClass.split(" "),n=0;n<i.length;n++){var r=i[n];e.push(r)}(0,A.s1)(this.element,e,t),this.validateDate(),(0,V.rj)({target:this.element}),this.scrollModule=new to(this),this.scrollModule.setWidth(),this.scrollModule.setHeight(),this.renderModule=new nU(this),this.eventBase=new td.x(this),this.workCellAction=new n2(this),this.allowKeyboardInteraction&&(this.keyboardInteractionModule=new th(this)),this.inlineModule=new ty(this),this.initializeDataModule(),this.renderTableContainer(),this.activeViewOptions=this.getActiveViewOptions(),this.initializeResources(),this.wireEvents()},t.prototype.renderTableContainer=function(){this.element.querySelector("."+ta.x83)||this.element.appendChild(this.createElement("div",{className:ta.x83}))},t.prototype.renderTemplates=function(e){this.isReact?this.renderReactTemplates(e):e&&e()},t.prototype.resetTemplates=function(e){(this.isAngular||this.isReact)&&this.clearTemplate(e)},t.prototype.sanitize=function(e,t){this.enableHtmlSanitizer?t.innerText=A.pJ.sanitize(e):t.innerHTML=e},t.prototype.initializeResources=function(e){void 0===e&&(e=!1),this.resources.length>0?(this.resourceBase=new ru(this),this.resourceBase.bindResourcesData(e)):(this.resourceBase=null,this.resourceCollection=[],this.renderElements(e))},t.prototype.destroyEditorWindow=function(){this.eventWindow&&(this.eventWindow.destroy(),this.eventWindow=null),this.eventWindow=new nj(this)},t.prototype.renderElements=function(e){if(e){this.initializeView(this.currentView),this.eventWindow.refresh();return}this.destroyHeaderModule(),this.showHeaderBar&&(this.headerModule=new ts(this)),this.renderTableContainer(),(A.AR.isDevice||A.AR.isTouch)&&(this.scheduleTouchModule=new tl(this)),this.initializeView(this.currentView),this.destroyPopups(),this.isPrinting||this.initializePopups()},t.prototype.validateDate=function(e){void 0===e&&(e=this.selectedDate);var t=new Date(e instanceof Date?e.getTime():e),i=new Date(this.minDate instanceof Date?this.minDate.getTime():this.minDate),n=new Date(this.maxDate instanceof Date?this.maxDate.getTime():this.maxDate);if(i<=n)t<i&&(t=i),t>n&&(t=n),this.setProperties({selectedDate:new Date(""+t),minDate:new Date(""+i),maxDate:new Date(""+n)},!0),this.eventWindow&&this.eventWindow.updateMinMaxDateToEditor();else throw Error("minDate should be equal or less than maxDate")},t.prototype.getViewIndex=function(e){for(var t=0;t<this.viewCollections.length;t++)if(this.viewCollections[parseInt(t.toString(),10)].option===e)return t;return -1},t.prototype.setViewOptions=function(e){void 0===e&&(e=!1),this.viewOptions={},this.viewCollections=[];var t,i,n=this.viewIndex,r=0;this.viewIndex=-1;for(var a=0,s=this.views;a<s.length;a++){var o=s[a],l="string"!=typeof o;"string"==typeof o?(t=o,this.currentView===t&&(i=t,this.viewIndex=r)):(t=o.option,o.isSelected&&(i=t,this.viewIndex=r));var h=(0,A.l7)({option:t},l?o:{}),p=t.charAt(0).toLowerCase()+t.slice(1);h.cellHeaderTemplateName=h.cellHeaderTemplate?h.option:"",h.dateHeaderTemplateName=h.dateHeaderTemplate?h.option:"",h.dateRangeTemplateName=h.dateRangeTemplate?h.option:"",h.cellTemplateName=h.cellTemplate?h.option:"",h.dayHeaderTemplateName=h.dayHeaderTemplate?h.option:"",h.monthHeaderTemplateName=h.monthHeaderTemplate?h.option:"",h.resourceHeaderTemplateName=h.resourceHeaderTemplate?h.option:"",h.headerIndentTemplateName=h.headerIndentTemplate?h.option:"",h.eventTemplateName=h.eventTemplate?h.option:"",(0,A.le)(h.firstDayOfWeek)||0!==h.firstDayOfWeek||delete h.firstDayOfWeek,(0,A.le)(h.interval)||1!==h.interval||delete h.interval,this.viewCollections.push(h),(0,A.le)(this.viewOptions[""+p])?this.viewOptions[""+p]=[h]:this.viewOptions[""+p].push(h),r++}if(!e&&i&&this.setProperties({currentView:i},!0),-1===this.viewIndex){var c=this.getViewIndex(this.currentView);this.viewIndex="string"==typeof this.views[0]||(0,A.le)(n)||-1===n?-1===c?0:c:n}},t.prototype.getActiveViewOptions=function(){var e={enable:this.timeScale.enable,interval:this.timeScale.interval,slotCount:this.timeScale.slotCount,majorSlotTemplate:this.timeScale.majorSlotTemplate,minorSlotTemplate:this.timeScale.minorSlotTemplate},t={byDate:!(this.viewCollections[this.viewIndex].option.indexOf("Year")>-1)&&this.group.byDate,byGroupID:this.group.byGroupID,allowGroupEdit:this.group.allowGroupEdit,resources:this.group.resources,headerTooltipTemplate:this.group.headerTooltipTemplate,enableCompactView:this.group.enableCompactView,hideNonWorkingDays:["Day","Week","WorkWeek","Month"].indexOf(this.currentView)>-1&&this.group.hideNonWorkingDays},i=this.viewCollections[this.viewIndex].workDays?[]:this.workDays,n={dateFormat:this.dateFormat,endHour:this.endHour,isSelected:!1,option:null,readonly:this.readonly,startHour:this.startHour,allowVirtualScrolling:!1,cellHeaderTemplate:this.cellHeaderTemplate,dayHeaderTemplate:this.dayHeaderTemplate,monthHeaderTemplate:this.monthHeaderTemplate,cellTemplate:this.cellTemplate,eventTemplate:this.eventSettings.template,dateHeaderTemplate:this.dateHeaderTemplate,dateRangeTemplate:this.dateRangeTemplate,resourceHeaderTemplate:this.resourceHeaderTemplate,headerIndentTemplate:this.headerIndentTemplate,firstMonthOfYear:this.firstMonthOfYear,firstDayOfWeek:this.firstDayOfWeek,workDays:i,monthsCount:this.monthsCount,showWeekend:this.showWeekend,showWeekNumber:this.showWeekNumber,displayName:null,interval:1,timeScale:e,timeFormat:this.internalTimeFormat,group:t,headerRows:this.headerRows,orientation:"Horizontal",numberOfWeeks:0,displayDate:null,enableLazyLoading:!1},r=this.viewCollections[this.viewIndex],a=(0,A.l7)(n,r,void 0,!0);return 0!==this.firstDayOfWeek&&r.firstDayOfWeek&&this.firstDayOfWeek!==r.firstDayOfWeek&&(a.firstDayOfWeek=this.firstDayOfWeek),a.displayDate&&(a.displayDate=new Date(a.displayDate instanceof Date?a.displayDate.getTime():a.displayDate)),a.enableLazyLoading&&!(0,A.le)(a.group.resources)&&a.group.resources.length>0&&(-1===["Agenda","MonthAgenda","Year","TimelineYear"].indexOf(a.option)||"TimelineYear"===a.option&&"Vertical"===a.orientation)&&(a.allowVirtualScrolling=!0),a},t.prototype.initializeDataModule=function(){this.eventFields={id:this.eventSettings.fields.id,isBlock:this.eventSettings.fields.isBlock,subject:this.eventSettings.fields.subject.name,startTime:this.eventSettings.fields.startTime.name,endTime:this.eventSettings.fields.endTime.name,startTimezone:this.eventSettings.fields.startTimezone.name,endTimezone:this.eventSettings.fields.endTimezone.name,location:this.eventSettings.fields.location.name,description:this.eventSettings.fields.description.name,isAllDay:this.eventSettings.fields.isAllDay.name,recurrenceID:this.eventSettings.fields.recurrenceID.name,recurrenceRule:this.eventSettings.fields.recurrenceRule.name,recurrenceException:this.eventSettings.fields.recurrenceException.name,isReadonly:this.eventSettings.fields.isReadonly,followingID:this.eventSettings.fields.followingID},this.setEditorTitles(),this.dataModule=new tu(this,this.eventSettings.dataSource,this.eventSettings.query),this.crudModule=new n3(this)},t.prototype.setEditorTitles=function(){this.editorTitles={subject:this.eventSettings.fields.subject.title||this.localeObj.getConstant("title"),startTime:this.eventSettings.fields.startTime.title||this.localeObj.getConstant("start"),endTime:this.eventSettings.fields.endTime.title||this.localeObj.getConstant("end"),isAllDay:this.eventSettings.fields.isAllDay.title||this.localeObj.getConstant("allDay"),startTimezone:this.eventSettings.fields.startTimezone.title||this.localeObj.getConstant("startTimezone"),endTimezone:this.eventSettings.fields.endTimezone.title||this.localeObj.getConstant("endTimezone"),location:this.eventSettings.fields.location.title||this.localeObj.getConstant("location"),description:this.eventSettings.fields.description.title||this.localeObj.getConstant("description"),recurrenceRule:this.eventSettings.fields.recurrenceRule.title||this.localeObj.getConstant("repeat")}},t.prototype.initializeView=function(e){this.showSpinner(),this.activeViewOptions=this.getActiveViewOptions(),this.resourceBase&&this.resourceBase.setResourceCollection(),this.initializeTemplates(),this.renderModule.render(e)},t.prototype.initializeTemplates=function(){this.cellHeaderTemplateFn=this.templateParser(this.activeViewOptions.cellHeaderTemplate),this.dayHeaderTemplateFn=this.templateParser(this.activeViewOptions.dayHeaderTemplate),this.monthHeaderTemplateFn=this.templateParser(this.activeViewOptions.monthHeaderTemplate),this.cellTemplateFn=this.templateParser(this.activeViewOptions.cellTemplate),this.dateHeaderTemplateFn=this.templateParser(this.activeViewOptions.dateHeaderTemplate),this.dateRangeTemplateFn=this.templateParser(this.activeViewOptions.dateRangeTemplate),this.majorSlotTemplateFn=this.templateParser(this.activeViewOptions.timeScale.majorSlotTemplate),this.minorSlotTemplateFn=this.templateParser(this.activeViewOptions.timeScale.minorSlotTemplate),this.appointmentTemplateFn=this.templateParser(this.activeViewOptions.eventTemplate),this.resourceHeaderTemplateFn=this.templateParser(this.activeViewOptions.resourceHeaderTemplate),this.headerIndentTemplateFn=this.templateParser(this.activeViewOptions.headerIndentTemplate),this.headerTooltipTemplateFn=this.templateParser(this.activeViewOptions.group.headerTooltipTemplate),this.eventTooltipTemplateFn=this.templateParser(this.eventSettings.tooltipTemplate),this.editorTemplateFn=this.templateParser(this.editorTemplate),this.editorHeaderTemplateFn=this.templateParser(this.editorHeaderTemplate),this.editorFooterTemplateFn=this.templateParser(this.editorFooterTemplate),this.quickInfoTemplatesHeaderFn=this.templateParser(this.quickInfoTemplates.header),this.quickInfoTemplatesContentFn=this.templateParser(this.quickInfoTemplates.content),this.quickInfoTemplatesFooterFn=this.templateParser(this.quickInfoTemplates.footer)},t.prototype.initializePopups=function(){this.eventWindow=new nj(this),this.quickPopup=new tS(this)},t.prototype.getDayNames=function(e){var t,i=[],n="";"en"===this.locale||"en-US"===this.locale?(n="days.stand-alone.",t=(0,A.NA)(n+e,(0,A.bD)(this.getCalendarMode()))):(n="main."+this.locale+".dates.calendars."+this.getCalendarMode()+".days.format."+e,t=(0,A.NA)(n,A.qV));for(var r=0,a=Object.keys(t);r<a.length;r++){var s=a[r];i.push((0,A.NA)(s,t))}return i},t.prototype.setCldrTimeFormat=function(){if(!(0,A.le)(this.timeFormat)){this.internalTimeFormat=this.timeFormat;return}"en"===this.locale||"en-US"===this.locale?this.internalTimeFormat=(0,A.NA)("timeFormats.short",(0,A.bD)(this.getCalendarMode())):this.internalTimeFormat=(0,A.NA)("main."+this.locale+".dates.calendars."+this.getCalendarMode()+".timeFormats.short",A.qV)},t.prototype.getCalendarMode=function(){return this.calendarMode.toLowerCase()},t.prototype.getTimeString=function(e){return this.globalize.formatDate(e,{format:this.activeViewOptions.timeFormat,type:"time",calendar:this.getCalendarMode()}).toLocaleUpperCase()},t.prototype.getDateTime=function(e){return new Date(e instanceof Date?e.getTime():e)},t.prototype.setCalendarMode=function(){"Islamic"===this.calendarMode?this.calendarUtil=new rp._:this.calendarUtil=new rp.l},t.prototype.changeView=function(e,t,i,n){var r=this;if((0,A.le)(n)&&(n=this.getViewIndex(e)),(i||n!==this.viewIndex||this.currentView!==e)&&!(n<0)){var a=this.activeViewOptions?this.activeViewOptions.option:this.currentView,s={requestType:"viewNavigate",cancel:!1,event:t};this.trigger(tn.m2,s,function(i){if(i.cancel)r.currentView=a;else{var o={action:"view",cancel:!1,currentDate:r.selectedDate,previousView:a,currentView:e,viewIndex:n};r.trigger(tn.xO,o,function(i){if(i.cancel)r.currentView=a;else{var n=["Day","Week","WorkWeek"].indexOf(e)>-1&&0>["Day","Week","WorkWeek"].indexOf(a);r.uiStateValues.isInitial=n||e.indexOf("Timeline")>-1||e.indexOf("Year")>-1,r.uiStateValues.top=e.indexOf("Timeline")>-1&&0>a.indexOf("Timeline")?0:r.uiStateValues.top,r.viewIndex=i.viewIndex,r.setProperties({currentView:e},!0),r.headerModule&&(r.headerModule.updateActiveView(),r.headerModule.setCalendarDate(r.selectedDate),r.headerModule.setCalendarView()),r.initializeView(r.currentView),r.animateLayout(),s={requestType:"viewNavigate",cancel:!1,event:t},r.trigger(tn.i8,s)}})}})}},t.prototype.changeDate=function(e,t){var i=this,n={requestType:"dateNavigate",cancel:!1,event:t};this.trigger(tn.m2,n,function(r){if(!r.cancel){var a={action:"date",cancel:!1,previousDate:i.selectedDate,currentDate:e};i.trigger(tn.xO,a,function(e){e.cancel||(i.uiStateValues.isInitial=i.activeView.isTimelineView()&&"TimelineYear"!==i.currentView,i.validateDate(e.currentDate),i.headerModule&&i.headerModule.setCalendarDate(e.currentDate),"MonthAgenda"===i.currentView&&i.monthAgendaModule&&(i.monthAgendaModule.monthAgendaDate=new Date(""+i.selectedDate)),i.initializeView(i.currentView),i.animateLayout(),n={requestType:"dateNavigate",cancel:!1,event:t},i.trigger(tn.i8,n))})}})},t.prototype.isMinMaxDate=function(e){return void 0===e&&(e=this.selectedDate),e.getTime()>=this.minDate.getTime()&&e.getTime()<=this.maxDate.getTime()},t.prototype.isSelectedDate=function(e){return e.setHours(0,0,0,0)===new Date(""+this.selectedDate).setHours(0,0,0,0)},t.prototype.getCurrentTime=function(e){return(void 0===e&&(e=new Date),this.timezone)?this.tzModule.convert(e,this.tzModule.getLocalTimezoneName(),this.timezone):e},t.prototype.getNavigateView=function(){return this.activeView.isTimelineView()?"TimelineMonth"===this.currentView||"TimelineYear"===this.currentView?"TimelineDay":"Agenda":"Day"},t.prototype.animateLayout=function(){this.activeView.element&&new A.fw({duration:600,name:"FadeIn",timingFunction:"easeIn"}).animate(this.activeView.element)},t.prototype.requiredModules=function(){var e=[];this.setViewOptions(!0);for(var t=0,i=Object.keys(this.viewOptions);t<i.length;t++){var n=i[t];n="timelineDay"===n||"timelineWeek"===n||"timelineWorkWeek"===n?"timelineViews":n,e.push({member:n,args:[this]})}return this.allowDragAndDrop&&e.push({member:"dragAndDrop",args:[this]}),this.allowResizing&&e.push({member:"resize",args:[this]}),e.push({member:"excelExport",args:[this]}),e.push({member:"iCalendarExport",args:[this]}),e.push({member:"iCalendarImport",args:[this]}),e.push({member:"print",args:[this]}),e},t.prototype.preRender=function(){this.isAdaptive=A.AR.isDevice||tr.$_(),this.globalize=new A.eC(this.locale),this.tzModule=new rd.r,(this&&(0,A.le)(this.uiStateValues)||!this.enablePersistence)&&(this.uiStateValues={expand:!1,isInitial:!0,left:0,top:0,isGroupAdaptive:!1,isIgnoreOccurrence:!1,groupIndex:0,action:!1,isBlock:!1,isCustomMonth:!0,isPreventTimezone:!1}),this.currentTimezoneDate=this.getCurrentTime(),this.activeCellsData={startTime:new Date(this.currentTimezoneDate),endTime:new Date(this.currentTimezoneDate),isAllDay:!1},this.activeEventData={event:void 0,element:void 0},this.getDefaultLocale(),this.localeObj=new A.E7(this.getModuleName(),this.defaultLocale,this.locale),this.setCldrTimeFormat(),this.setCalendarMode(),this.eventsData=[],this.eventsProcessed=[],this.blockData=[],this.blockProcessed=[],this.resourceCollection=[],this.currentAction=null,this.selectedElements=[],this.setViewOptions()},t.prototype.getDefaultLocale=function(){this.defaultLocale={day:"Day",week:"Week",workWeek:"Work Week",month:"Month",year:"Year",agenda:"Agenda",weekAgenda:"Week Agenda",workWeekAgenda:"Work Week Agenda",monthAgenda:"Month Agenda",today:"Today",noEvents:"No events",emptyContainer:"There are no events scheduled on this day.",allDay:"All day",start:"Start",end:"End",more:"more",close:"Close",cancel:"Cancel",noTitle:"(No Title)",delete:"Delete",deleteEvent:"Delete Event",deleteMultipleEvent:"Delete Multiple Events",selectedItems:"Items selected",deleteSeries:"Entire Series",edit:"Edit",editSeries:"Entire Series",editEvent:"Edit Event",createEvent:"Create",subject:"Subject",addTitle:"Add title",moreDetails:"More Details",save:"Save",editContent:"How would you like to change the appointment in the series?",deleteContent:"Are you sure you want to delete this event?",deleteMultipleContent:"Are you sure you want to delete the selected events?",newEvent:"New Event",title:"Title",location:"Location",description:"Description",timezone:"Timezone",startTimezone:"Start Timezone",endTimezone:"End Timezone",repeat:"Repeat",saveButton:"Save",cancelButton:"Cancel",deleteButton:"Delete",recurrence:"Recurrence",wrongPattern:"The recurrence pattern is not valid.",seriesChangeAlert:"Do you want to cancel the changes made to specific instances of this series and match it to the whole series again?",createError:"The duration of the event must be shorter than how frequently it occurs. Shorten the duration, or change the recurrence pattern in the recurrence event editor.",sameDayAlert:"Two occurrences of the same event cannot occur on the same day.",occurenceAlert:"Cannot reschedule an occurrence of the recurring appointment if it skips over a later occurrence of the same appointment.",editRecurrence:"Edit Recurrence",repeats:"Repeats",alert:"Alert",startEndError:"The selected end date occurs before the start date.",invalidDateError:"The entered date value is invalid.",blockAlert:"Events cannot be scheduled within the blocked time range.",ok:"Ok",yes:"Yes",no:"No",occurrence:"Occurrence",series:"Series",previous:"Previous",next:"Next",timelineDay:"Timeline Day",timelineWeek:"Timeline Week",timelineWorkWeek:"Timeline Work Week",timelineMonth:"Timeline Month",timelineYear:"Timeline Year",editFollowingEvent:"Following Events",deleteTitle:"Delete Event",editTitle:"Edit Event",beginFrom:"Begin From",endAt:"Ends At",expandAllDaySection:"Expand-all-day-section",collapseAllDaySection:"Collapse-all-day-section",searchTimezone:"Search Timezone",noRecords:"No records found"}},t.prototype.wireEvents=function(){A.bi.add(window,"resize",this.onScheduleResize,this),A.bi.add(window,"orientationchange",this.onScheduleResize,this),A.bi.add(document,A.AR.touchStartEvent,this.onDocumentClick,this)},t.prototype.removeSelectedClass=function(){for(var e=this.getSelectedCells(),t=0;t<e.length;t++){var i=e[t];"Year"!==this.currentView&&i.setAttribute("aria-selected","false"),i.removeAttribute("tabindex")}(0,A.IV)(e,ta.fnG),this.keyboardInteractionModule&&this.keyboardInteractionModule.selectedCells.length>0&&(this.keyboardInteractionModule.selectedCells=[])},t.prototype.addSelectedClass=function(e,t,i){if("Year"!==this.currentView)for(var n=0;n<e.length;n++)e[n].setAttribute("aria-selected","true");(0,A.cn)(e,ta.fnG),t&&(t.setAttribute("tabindex","0"),t.focus({preventScroll:i||!1}))},t.prototype.selectCell=function(e){this.removeSelectedClass(),this.addSelectedClass([e],e)},t.prototype.getAllDayRow=function(){return this.element.querySelector("."+ta.aT7)},t.prototype.getContentTable=function(){return this.activeView.element.querySelector("."+ta.OzO+" tbody")},t.prototype.getTableRows=function(){return[].slice.call(this.element.querySelectorAll("."+ta.OzO+" tbody tr:not(."+ta.V27+")"))},t.prototype.getWorkCellElements=function(){return[].slice.call(this.element.querySelectorAll("."+ta.bqQ))},t.prototype.getIndexOfDate=function(e,t){return e.map(Number).indexOf(+t)},t.prototype.isAllDayCell=function(e){return!!(["Month","TimelineMonth","TimelineYear","MonthAgenda"].indexOf(this.currentView)>-1||e.classList.contains(ta.nqV)||e.classList.contains(ta.Tb6)||!this.activeViewOptions.timeScale.enable||this.activeView.isTimelineView()&&this.activeViewOptions.headerRows.length>0&&"Hour"!==this.activeViewOptions.headerRows.slice(-1)[0].option)},t.prototype.getDateFromElement=function(e){var t;if((0,A.le)(e)||(t=e.getAttribute("data-date")),!(0,A.le)(t)){var i=parseInt(t,10);return new Date(i)}},t.prototype.getTargetElement=function(e,t,i){var n,r=document.elementFromPoint(t,i);return r&&(n=r.closest(e)),n?[n]:null},t.prototype.getCellHeaderTemplate=function(){return this.cellHeaderTemplateFn},t.prototype.getDayHeaderTemplate=function(){return this.dayHeaderTemplateFn},t.prototype.getMonthHeaderTemplate=function(){return this.monthHeaderTemplateFn},t.prototype.getCellTemplate=function(){return this.cellTemplateFn},t.prototype.getDateHeaderTemplate=function(){return this.dateHeaderTemplateFn},t.prototype.getDateRangeTemplate=function(){return this.dateRangeTemplateFn},t.prototype.getMajorSlotTemplate=function(){return this.majorSlotTemplateFn},t.prototype.getMinorSlotTemplate=function(){return this.minorSlotTemplateFn},t.prototype.getAppointmentTemplate=function(){return this.appointmentTemplateFn},t.prototype.getEventTooltipTemplate=function(){return this.eventTooltipTemplateFn},t.prototype.getHeaderTooltipTemplate=function(){return this.headerTooltipTemplateFn},t.prototype.getEditorTemplate=function(){return this.editorTemplateFn},t.prototype.getEditorHeaderTemplate=function(){return this.editorHeaderTemplateFn},t.prototype.getEditorFooterTemplate=function(){return this.editorFooterTemplateFn},t.prototype.getQuickInfoTemplatesHeader=function(){return this.quickInfoTemplatesHeaderFn},t.prototype.getQuickInfoTemplatesContent=function(){return this.quickInfoTemplatesContentFn},t.prototype.getQuickInfoTemplatesFooter=function(){return this.quickInfoTemplatesFooterFn},t.prototype.getResourceHeaderTemplate=function(){return this.resourceHeaderTemplateFn},t.prototype.getHeaderIndentTemplate=function(){return this.headerIndentTemplateFn},t.prototype.getCssProperties=function(){return{border:this.enableRtl?"borderLeftWidth":"borderRightWidth",padding:this.enableRtl?"paddingLeft":"paddingRight",rtlBorder:this.enableRtl?"borderRightWidth":"borderLeftWidth",rtlPadding:this.enableRtl?"paddingRight":"paddingLeft"}},t.prototype.removeNewEventElement=function(){var e=this.element.querySelector("."+ta.Ux$);(0,A.le)(e)||(0,A.Od)(e)},t.prototype.getStartEndTime=function(e){if(!(0,A.le)(e)&&""!==e){var t=tr.zS(new Date(this.currentTimezoneDate)),i=e.split(":");return 2===i.length&&t.setHours(parseInt(i[0],10),parseInt(i[1],10),0),t}return null},t.prototype.onDocumentClick=function(e){this.notify(tn.ZT,{event:e})},t.prototype.onScheduleResize=function(){(0,A.le)(this.activeView)||(this.isAdaptive||tr.tq())&&document.activeElement&&document.activeElement.classList.contains(ta.jaK)||(this.activeViewOptions.timeScale.enable&&this.activeView&&this.activeView.highlightCurrentTime(),this.quickPopup&&this.quickPopup.onClosePopup(),tr.x3(),"Month"===this.currentView||"Agenda"!==this.currentView&&"MonthAgenda"!==this.currentView&&!this.activeViewOptions.timeScale.enable||this.activeView.isTimelineView()?(this.activeView.resetColWidth(),this.notify(tn.Cn,{cssProperties:this.getCssProperties(),isPreventScrollUpdate:!0}),this.refreshEvents(!1)):this.notify(tn.GE,{}))},t.prototype.templateParser=function(e){if(e)try{if("function"==typeof e)return(0,A.MY)(e);if(document.querySelectorAll(e).length)return(0,A.MY)(document.querySelector(e).innerHTML.trim());return(0,A.MY)(e)}catch(t){return(0,A.MY)(e)}},t.prototype.getSelectedCells=function(){return[].slice.call(this.element.querySelectorAll("."+ta.fnG))},t.prototype.getAnnouncementString=function(e,t){if(this.quickPopup&&this.activeViewOptions.group.resources.length>0){var i;i=this.quickPopup.getResourceText({event:e},"event")+'"s event - '}var n=t||e[this.eventFields.subject]||this.eventSettings.fields.subject.default,r="full",a=this.globalize.formatDate(e[this.eventFields.startTime],{type:"dateTime",skeleton:r,calendar:this.getCalendarMode()}),s=this.globalize.formatDate(e[this.eventFields.endTime],{type:"dateTime",skeleton:r,calendar:this.getCalendarMode()}),o=n+" "+this.localeObj.getConstant("beginFrom")+" "+a+" "+this.localeObj.getConstant("endAt")+" "+s;return i&&(o=i+" "+o),o},t.prototype.boundaryValidation=function(e,t){var i={left:!1,right:!1,top:!1,bottom:!1},n=this.element.querySelector("."+ta.y0r).getBoundingClientRect();return e<n.top+30+window.pageYOffset&&e>n.top+window.pageYOffset&&(i.top=!0),e>n.bottom-30+window.pageYOffset&&e<n.bottom+window.pageYOffset&&(i.bottom=!0),t<n.left+30+window.pageXOffset&&t>n.left+window.pageXOffset&&(i.left=!0),t>n.right-30+window.pageXOffset&&t<n.right+window.pageXOffset&&(i.right=!0),i},t.prototype.getWeekNumberContent=function(e){var t;if("FirstDay"===this.weekRule){var i=tr.j9(e.slice(-1)[0],this.firstDayOfWeek);t=this.globalize.formatNumber(tr.uW(i))}else if("FirstFourDayWeek"===this.weekRule){var n=tr.tk(e.slice(-1)[0],this.firstDayOfWeek),r=tr.j9(e.slice(-1)[0],this.firstDayOfWeek),a=tr.PH(n,r);t=this.globalize.formatNumber(tr.uW(a))}else if("FirstFullWeek"===this.weekRule){var n=tr.tk(e.slice(-1)[0],this.firstDayOfWeek);t=this.globalize.formatNumber(tr.uW(n))}return t},t.prototype.renderHeaderIndentTemplate=function(e,t){if(this.activeViewOptions.headerIndentTemplate){var i=this.element.id+"_",n=this.activeViewOptions.headerIndentTemplateName,r=[].slice.call(this.getHeaderIndentTemplate()(e,this,"headerIndentTemplate",i+n+"headerIndentTemplate",!1));(0,A.R3)(r,t)}},t.prototype.isSpecificResourceEvents=function(){return this.activeViewOptions.group.resources.length>0&&!this.activeViewOptions.group.allowGroupEdit&&!this.rowAutoHeight&&!this.virtualScrollModule&&this.activeViewOptions.group.byGroupID},t.prototype.unWireEvents=function(){A.bi.remove(window,"resize",this.onScheduleResize),A.bi.remove(window,"orientationchange",this.onScheduleResize),A.bi.remove(document,A.AR.touchStartEvent,this.onDocumentClick)},t.prototype.getModuleName=function(){return"schedule"},t.prototype.getPersistData=function(){return this.addOnPersist(["currentView","selectedDate","scrollTop","scrollLeft"])},t.prototype.onPropertyChanged=function(e,t){if(!(this.isReact&&(0,A.le)(this.activeView))){for(var i={isRefresh:!1,isResource:!1,isDate:!1,isView:!1,isLayout:!1,isDataManager:!1},n=0,r=Object.keys(e);n<r.length;n++){var a=r[n];switch(a){case"views":this.setViewOptions(),this.headerModule&&this.headerModule.updateItems(),i.isView=!0;break;case"currentView":i.isView=!0;break;case"minDate":case"maxDate":case"selectedDate":i.isDate=!0;break;case"dateFormat":this.activeViewOptions=this.getActiveViewOptions(),this.headerModule&&this.headerModule.updateDateRange();break;case"showHeaderBar":this.destroyHeaderModule(),e.showHeaderBar&&(this.headerModule=new ts(this),this.headerModule.updateDateRange()),this.notify(tn.Cn,{cssProperties:this.getCssProperties()}),this.activeView.isTimelineView()&&this.refreshEvents(!1);break;case"workDays":JSON.stringify(t.workDays)!==JSON.stringify(e.workDays)&&(i.isLayout=!0);break;case"showWeekend":case"startHour":case"endHour":case"workHours":case"readonly":case"headerRows":case"showWeekNumber":case"rowAutoHeight":i.isLayout=!0;break;case"locale":case"calendarMode":this.globalize=new A.eC(this.locale),this.localeObj=new A.E7(this.getModuleName(),this.defaultLocale,this.locale),this.setCldrTimeFormat(),this.setCalendarMode(),i.isRefresh=!0;break;case"firstDayOfWeek":this.activeViewOptions.firstDayOfWeek=e.firstDayOfWeek,this.eventWindow&&this.eventWindow.refreshRecurrenceEditor(),i.isLayout=!0;break;case"showTimeIndicator":this.activeViewOptions.timeScale.enable&&this.activeView&&this.activeView.highlightCurrentTime();break;case"cellHeaderTemplate":this.activeViewOptions.cellHeaderTemplate=e.cellHeaderTemplate,this.cellHeaderTemplateFn=this.templateParser(this.activeViewOptions.cellHeaderTemplate),i.isLayout=!0;break;case"cellTemplate":this.activeViewOptions.cellTemplate=e.cellTemplate,this.cellTemplateFn=this.templateParser(this.activeViewOptions.cellTemplate),i.isLayout=!0;break;case"dateHeaderTemplate":this.activeViewOptions.dateHeaderTemplate=e.dateHeaderTemplate,this.dateHeaderTemplateFn=this.templateParser(this.activeViewOptions.dateHeaderTemplate),i.isLayout=!0;break;case"dateRangeTemplate":this.activeViewOptions.dateRangeTemplate=e.dateRangeTemplate,this.dateRangeTemplateFn=this.templateParser(this.activeViewOptions.dateRangeTemplate),this.headerModule&&this.headerModule.updateDateRange();break;case"dayHeaderTemplate":this.activeViewOptions.dayHeaderTemplate=e.dayHeaderTemplate,this.dayHeaderTemplateFn=this.templateParser(this.activeViewOptions.dayHeaderTemplate),i.isLayout=!0;break;case"monthHeaderTemplate":this.activeViewOptions.monthHeaderTemplate=e.monthHeaderTemplate,this.monthHeaderTemplateFn=this.templateParser(this.activeViewOptions.monthHeaderTemplate),i.isLayout=!0;break;case"resourceHeaderTemplate":this.activeViewOptions.resourceHeaderTemplate=e.resourceHeaderTemplate,this.resourceHeaderTemplateFn=this.templateParser(this.activeViewOptions.resourceHeaderTemplate),i.isLayout=!0;break;case"timezone":this.eventBase.timezonePropertyChange(t.timezone),this.headerModule.setCalendarTimezone();break;case"enableRtl":this.setRtlClass(),i.isRefresh=!0;break;default:this.extendedPropertyChange(a,e,t,i)}}this.propertyChangeAction(i)}},t.prototype.propertyChangeAction=function(e){e.isRefresh?this.refresh():e.isResource?this.initializeResources(!0):e.isView?this.changeView(this.currentView,null,!0):e.isDate?this.changeDate(this.selectedDate):e.isLayout?(this.activeCellsData=null,this.initializeView(this.currentView)):e.isDataManager&&this.crudModule&&(this.dragAndDropModule&&(this.dragAndDropModule.actionObj.action="",(0,A.IV)([this.element],ta.GWq)),this.crudModule.refreshDataManager())},t.prototype.allDayRowScrollUpdate=function(){var e=this.element.querySelector("."+ta.S7y),t=this.element.querySelector("."+ta.aT7);if("auto"!==this.height&&this.enableAllDayScroll)e.classList.contains(ta.F9U)&&(0,A.IV)([e],ta.F9U),this.eventBase.allDayExpandScroll(e);else if((0,A.cn)([e],ta.F9U),e.classList.contains(ta.WPW)&&(0,A.IV)([e],ta.WPW),this.uiStateValues.expand){var i=[].slice.call(this.element.querySelectorAll("."+ta.nqV));i[0].style.height=t.style.height?t.style.height:i[1].style.height}this.uiStateValues.expand||(t.style.height="")},t.prototype.extendedPropertyChange=function(e,t,i,n){switch(e){case"width":case"height":case"enableAllDayScroll":["Day","Week","WorkWeek"].indexOf(this.currentView)>-1&&this.allDayRowScrollUpdate(),this.notify(tn.vx,{module:"scroll",properties:{width:t.width,height:t.height}});break;case"cssClass":i.cssClass&&(0,A.IV)([this.element],i.cssClass.split(" ")),t.cssClass&&(0,A.cn)([this.element],t.cssClass.split(" "));break;case"hideEmptyAgendaDays":case"agendaDaysCount":this.activeViewOptions=this.getActiveViewOptions(),n.isView=!0;break;case"eventSettings":this.onEventSettingsPropertyChanged(t.eventSettings,i.eventSettings,n);break;case"allowKeyboardInteraction":this.keyboardInteractionModule&&(this.keyboardInteractionModule.destroy(),this.keyboardInteractionModule=null),t.allowKeyboardInteraction&&(this.keyboardInteractionModule=new th(this));break;case"timezoneDataSource":this.eventWindow&&this.eventWindow.refresh();break;case"editorTemplate":(0,A.le)(this.editorTemplate)||(this.editorTemplateFn=this.templateParser(this.editorTemplate)),this.eventWindow&&this.eventWindow.setDialogContent();break;case"editorHeaderTemplate":(0,A.le)(this.editorHeaderTemplate)||(this.editorHeaderTemplateFn=this.templateParser(this.editorHeaderTemplate)),this.eventWindow&&this.eventWindow.setDialogHeader();break;case"editorFooterTemplate":(0,A.le)(this.editorFooterTemplate)||(this.editorFooterTemplateFn=this.templateParser(this.editorFooterTemplate)),this.eventWindow&&this.eventWindow.setDialogFooter();break;case"quickInfoTemplates":this.quickInfoTemplates.header&&(this.quickInfoTemplatesHeaderFn=this.templateParser(this.quickInfoTemplates.header)),this.quickInfoTemplates.content&&(this.quickInfoTemplatesContentFn=this.templateParser(this.quickInfoTemplates.content)),this.quickInfoTemplates.footer&&(this.quickInfoTemplatesFooterFn=this.templateParser(this.quickInfoTemplates.footer));break;case"group":this.onGroupSettingsPropertyChanged(t.group,i.group,n);break;case"resources":n.isResource=!0;break;case"timeScale":this.activeViewOptions.timeScale.interval=t.timeScale.interval||this.activeViewOptions.timeScale.interval,this.activeViewOptions.timeScale.slotCount=t.timeScale.slotCount||this.activeViewOptions.timeScale.slotCount,this.eventWindow&&this.eventWindow.refreshDateTimePicker(),n.isLayout=!0;break;case"allowDragAndDrop":case"allowResizing":case"eventDragArea":this.refreshEvents(!1);break;case"weekRule":n.isLayout=!0;break;case"firstMonthOfYear":this.activeViewOptions.firstMonthOfYear=t.firstMonthOfYear,this.viewIndex=this.activeView.viewIndex,n.isLayout=!0;break;case"monthsCount":this.activeViewOptions.monthsCount=t.monthsCount,this.viewIndex=this.activeView.viewIndex,n.isLayout=!0;break;case"timeFormat":this.internalTimeFormat=t.timeFormat||this.activeViewOptions.timeFormat,this.eventWindow&&this.eventWindow.refreshDateTimePicker(),n.isLayout=!0;break;case"enableAdaptiveUI":this.showHeaderBar&&this.headerModule&&(this.destroyHeaderModule(),this.headerModule=new ts(this),this.headerModule.updateDateRange()),n.isLayout=!0;break;case"headerIndentTemplate":this.activeViewOptions.headerIndentTemplate=t.headerIndentTemplate,this.headerIndentTemplateFn=this.templateParser(this.activeViewOptions.headerIndentTemplate),n.isLayout=!0}},t.prototype.setRtlClass=function(){this.enableRtl?(0,A.cn)([this.element],"e-rtl"):(0,A.IV)([this.element],"e-rtl")},t.prototype.onGroupSettingsPropertyChanged=function(e,t,i){for(var n=0,r=Object.keys(e);n<r.length;n++)"headerTooltipTemplate"===r[n]?this.headerTooltipTemplateFn=this.templateParser(e.headerTooltipTemplate):(i.isLayout=!0,this.eventWindow&&this.eventWindow.refresh())},t.prototype.onEventSettingsPropertyChanged=function(e,t,i){for(var n=0,r=Object.keys(e);n<r.length;n++)switch(r[n]){case"dataSource":case"query":case"fields":case"includeFiltersInQuery":this.initializeDataModule(),i.isDataManager=!0;break;case"template":this.activeViewOptions.eventTemplate=e.template,this.appointmentTemplateFn=this.templateParser(this.activeViewOptions.eventTemplate),i.isDataManager=!0;break;case"enableTooltip":this.eventTooltip&&(this.eventTooltip.destroy(),this.eventTooltip=null),e.enableTooltip&&(this.eventTooltip=new tk(this));break;case"tooltipTemplate":this.eventTooltipTemplateFn=this.templateParser(this.eventSettings.tooltipTemplate);break;case"resourceColorField":this.resourceBase&&this.resourceBase.setResourceCollection(),i.isDataManager=!0;break;case"editFollowingEvents":this.quickPopup&&this.quickPopup.refreshQuickDialog();break;case"allowAdding":case"allowEditing":case"allowDeleting":this.showHeaderBar&&this.headerModule&&this.headerModule.updateAddIcon(),this.eventWindow&&this.eventWindow.refresh();break;case"spannedEventPlacement":case"minimumEventDuration":case"enableMaxHeight":case"enableIndicator":this.refreshEvents(!1);break;case"ignoreWhitespace":i.isLayout=!0}},t.prototype.destroyHeaderModule=function(){this.headerModule&&(this.headerModule.destroy(),this.headerModule=null)},t.prototype.destroyPopups=function(){this.quickPopup&&(this.quickPopup.destroy(),this.quickPopup=null),this.eventWindow&&(this.eventWindow.destroy(),this.eventWindow=null)},t.prototype.showSpinner=function(){(0,V.yh)(this.element)},t.prototype.hideSpinner=function(){(0,V.v3)(this.element)},t.prototype.setWorkHours=function(e,t,i,n){var r=[];r=this.getWorkHourCells(e,t,i,n),(0,A.cn)(r,ta.shB)},t.prototype.resetWorkHours=function(e,t,i,n){if(void 0===e&&(e=this.activeView.renderDates),e&&t&&i){var r=this.getWorkHourCells(e,t,i,n);(0,A.IV)(r,ta.shB)}else{var a=[].slice.call(this.element.querySelectorAll("."+ta.shB));(0,A.IV)(a,ta.shB)}},t.prototype.getWorkHourCells=function(e,t,i,n){if(["Agenda","MonthAgenda","Month","TimelineMonth"].indexOf(this.currentView)>-1)return[];var r=this.getStartEndTime(t),a=this.getStartEndTime(i),s=this.getContentTable();if((0,A.le)(r)||(0,A.le)(a)||!s)return[];r.setMilliseconds(0),a.setMilliseconds(0);var o=this.activeView.getStartHour();r<o&&(r=o);var l=this.activeView.getEndHour();a>l&&(a=l);for(var h=this.activeViewOptions.timeScale.interval*tr.X$/this.activeViewOptions.timeScale.slotCount,p=Math.round((r.getTime()-o.getTime())/h),c=Math.ceil((a.getTime()-o.getTime())/h),u=p,d=c,m=[],v=0;v<e.length;v++){var g=e[v];g=this.getDateTime(g),tr.zS(g);var f=this.activeView.renderDates;(0,A.le)(n)||!this.resourceBase||this.activeView.isTimelineView()||(f=this.resourceBase.lastResourceLevel[parseInt(n.toString(),10)].renderDates);var y=this.getIndexOfDate(f,g);if(y>=0){if(this.activeView.isTimelineView()){var b=Math.round((l.getTime()-o.getTime())/h);p=u+y*b,c=d+y*b}for(var T=p;T<c;T++)if(this.activeView.isTimelineView()){var D=(0,A.le)(n)?0:n;m.push(s.rows[parseInt(D.toString(),10)].cells[parseInt(T.toString(),10)])}else if((0,A.le)(n))m.push(s.rows[parseInt(T.toString(),10)].cells[parseInt(y.toString(),10)]);else{var w="."+ta.bqQ+'[data-group-index="'+n+'"]',C=[].slice.call(s.rows[parseInt(T.toString(),10)].querySelectorAll(w));m.push(C[parseInt(y.toString(),10)])}}}return m},t.prototype.getCellDetails=function(e){var t=e instanceof Array?e:[e],i=(0,A.sb)(t[0]),n=(0,A.sb)(t.slice(-1)[0]),r=this.getDateFromElement(i),a=this.getDateFromElement(n);if(!((0,A.le)(r)||(0,A.le)(a))){var s=this.activeView.isTimelineView()&&!(0,A.le)(n.getAttribute("colSpan"))&&this.headerRows.length>0,o=s?parseInt(n.getAttribute("colSpan"),10):1,l={startTime:r,endTime:a=!this.activeViewOptions.timeScale.enable||s||n.classList.contains(ta.nqV)||n.classList.contains(ta.Tb6)?tr.E4(new Date(a.getTime()),o):this.activeView.getEndDateFromStartDate(a),isAllDay:this.isAllDayCell(i),element:e},h=i.getAttribute("data-group-index");return(0,A.le)(h)||(l.groupIndex=parseInt(h,10)),l}},t.prototype.getSelectedElements=function(){return this.keyboardInteractionModule&&this.keyboardInteractionModule.selectedCells.length>0?this.keyboardInteractionModule.selectedCells:this.getSelectedCells()},t.prototype.getResourceCollections=function(){return this.resourceCollection},t.prototype.setResourceCollections=function(e){this.setProperties({resources:e},!1)},t.prototype.changeCurrentView=function(e,t){var i=this.getViewIndex(e),n=e.charAt(0).toLowerCase()+e.slice(1),r=this.viewOptions[""+n];r&&(i=this.viewCollections.indexOf(r[t||0])),-1!==i&&i!==this.viewIndex&&this.changeView(e,null,null,i)},t.prototype.getCurrentViewIndex=function(){return this.viewIndex},t.prototype.getResourcesByIndex=function(e){if(this.resourceBase&&this.resourceBase.lastResourceLevel&&!(e<0)&&!(e>=this.resourceBase.lastResourceLevel.length)){var t=this.resourceBase.lastResourceLevel[parseInt(e.toString(),10)],i={};return this.resourceBase.setResourceValues(i,e),{resource:t.resource,resourceData:t.resourceData,groupData:i}}},t.prototype.expandResource=function(e,t){this.activeView.isTimelineView()&&this.resourceBase&&this.resourceCollection.length>1&&this.resourceBase.resourceExpand(e,t,!1)},t.prototype.collapseResource=function(e,t){this.activeView.isTimelineView()&&this.resourceBase&&this.resourceCollection.length>1&&this.resourceBase.resourceExpand(e,t,!0)},t.prototype.scrollTo=function(e,t){this.activeView.scrollToDate&&(0,A.le)(e)&&t?this.activeView.scrollToDate(t):this.activeView.scrollToHour&&this.activeView.scrollToHour(e,t)},t.prototype.scrollToResource=function(e,t){this.resourceBase&&this.resourceBase.lastResourceLevel&&this.resourceBase.resourceScroll(e,t)},t.prototype.exportToICalendar=function(e,t){if(this.iCalendarExportModule)this.iCalendarExportModule.initializeCalendarExport(e,t);else throw Error("Inject ICalendarExport module")},t.prototype.importICalendar=function(e){if(this.iCalendarImportModule)this.iCalendarImportModule.initializeCalendarImport(e);else throw Error("Inject ICalendarImport module")},t.prototype.addEvent=function(e){this.crudModule.addEvent(e)},t.prototype.generateEventOccurrences=function(e,t){return this.eventBase?this.eventBase.generateOccurrence(e,t):[]},t.prototype.exportToExcel=function(e){if(this.excelExportModule)this.excelExportModule.initializeExcelExport(e);else throw Error("Inject ExcelExport module")},t.prototype.print=function(e){if(this.printModule)this.printModule.print(e);else throw Error("Inject Print module")},t.prototype.saveEvent=function(e,t){this.crudModule.saveEvent(e,t)},t.prototype.deleteEvent=function(e,t){this.crudModule.deleteEvent(e,t)},t.prototype.getEvents=function(e,t,i){var n=[];return n=i?this.eventBase.getProcessedEvents():this.eventsData,e&&(e=this.getDateTime(e)),t&&(t=this.getDateTime(t)),n=this.eventBase.filterEventsByRange(n,e,t)},t.prototype.getBlockEvents=function(e,t,i){var n=[];return n=i?this.eventBase.getProcessedEvents(this.blockData):this.blockData,e&&(e=this.getDateTime(e)),t&&(t=this.getDateTime(t)),n=this.eventBase.filterEventsByRange(n,e,t)},t.prototype.getOccurrencesByID=function(e){return this.eventBase.getOccurrencesByID(e)},t.prototype.getOccurrencesByRange=function(e,t){return e=this.getDateTime(e),t=this.getDateTime(t),this.eventBase.getOccurrencesByRange(e,t)},t.prototype.getCurrentViewDates=function(){return this.activeView?this.activeView.renderDates:[]},t.prototype.setRecurrenceEditor=function(e){this.eventWindow.setRecurrenceEditor(e)},t.prototype.getEventMaxID=function(){return this.eventBase.getEventMaxID()},t.prototype.getDeletedOccurrences=function(e){return this.eventBase.getDeletedOccurrences(e)},t.prototype.getCurrentViewEvents=function(){return this.eventsProcessed},t.prototype.refreshEvents=function(e){void 0===e&&(e=!0),e?(this.dragAndDropModule&&(this.dragAndDropModule.actionObj.action="",(0,A.IV)([this.element],ta.GWq)),this.crudModule.refreshDataManager()):(this.uiStateValues&&(this.uiStateValues.isPreventTimezone=!0),this.crudModule&&this.crudModule.refreshProcessedData(),this.uiStateValues&&(this.uiStateValues.isPreventTimezone=!1))},t.prototype.refreshTemplates=function(e){switch(e?this.resetTemplates([e]):this.resetTemplates(),e){case"eventTemplate":this.appointmentTemplateFn=this.templateParser(this.activeViewOptions.eventTemplate),this.refreshEvents(!1);break;case"dateHeaderTemplate":this.dateHeaderTemplateFn=this.templateParser(this.activeViewOptions.dateHeaderTemplate),this.activeView.refreshHeader();break;case"dateRangeTemplate":this.dateRangeTemplateFn=this.templateParser(this.activeViewOptions.dateRangeTemplate),this.headerModule&&this.headerModule.refresh();break;case"resourceHeaderTemplate":this.resourceHeaderTemplateFn=this.templateParser(this.activeViewOptions.resourceHeaderTemplate),this.activeView.isTimelineView()?this.activeView.refreshResourceHeader():this.activeView.refreshHeader();break;case"quickInfoTemplates":this.quickPopup&&(this.quickPopup.destroy(),this.quickPopup=null),this.quickPopup=new tS(this),this.quickInfoTemplatesHeaderFn=this.templateParser(this.quickInfoTemplates.header),this.quickInfoTemplatesContentFn=this.templateParser(this.quickInfoTemplates.content),this.quickInfoTemplatesFooterFn=this.templateParser(this.quickInfoTemplates.footer);break;case"editorTemplate":this.destroyEditorWindow(),this.editorTemplateFn=this.templateParser(this.editorTemplate);break;case"editorHeaderTemplate":this.destroyEditorWindow(),this.editorHeaderTemplateFn=this.templateParser(this.editorHeaderTemplate);break;case"editorFooterTemplate":this.destroyEditorWindow(),this.editorFooterTemplateFn=this.templateParser(this.editorFooterTemplate);break;case"tooltipTemplate":case"headerTooltipTemplate":this.eventTooltip&&(this.eventTooltip.destroy(),this.eventTooltip=null),this.eventTooltip=new tk(this),this.eventTooltipTemplateFn=this.templateParser(this.eventSettings.tooltipTemplate),this.headerTooltipTemplateFn=this.templateParser(this.activeViewOptions.group.headerTooltipTemplate);break;default:this.initializeView(this.currentView)}},t.prototype.refreshLayout=function(){this.onScheduleResize(),this.headerModule&&this.headerModule.refresh(),this.eventWindow&&this.eventWindow.refresh()},t.prototype.getEventDetails=function(e){var t=(e=(0,A.sb)(e)).getAttribute("data-guid");return t?this.eventBase.getEventByGuid(t):{}},t.prototype.isSlotAvailable=function(e,t,i){var n,r,a=this,s=this.activeEventData.event;if(e instanceof Date||"string"==typeof e?(n=e,r=t):(s=e,n=e[this.eventFields.startTime],r=e[this.eventFields.endTime],this.resourceBase&&(i=this.eventBase.getGroupIndexFromEvent(e))),(0,A.le)(n)||(0,A.le)(r))return!0;n=this.getDateTime(n),r=this.getDateTime(r);var o=this.eventBase.filterEvents(n,r);return!(0,A.le)(i)&&this.resourceBase&&this.resourceBase.lastResourceLevel.length>0&&(o=this.eventBase.filterEventsByResource(this.resourceBase.lastResourceLevel[parseInt(i.toString(),10)],o)),s&&(o=s.Guid?o.filter(function(e){return e.Guid!==s.Guid}):o.filter(function(e){return e[a.eventFields.id]!==s[a.eventFields.id]})),!(o.length>0)},t.prototype.openEditor=function(e,t,i,n){"Add"!==t||i?(e[this.eventFields.startTime]=this.getDateTime(e[this.eventFields.startTime]),e[this.eventFields.endTime]=this.getDateTime(e[this.eventFields.endTime])):(e.startTime=this.getDateTime(e.startTime),e.endTime=this.getDateTime(e.endTime),(0,A.le)(e.element)||(e.element=(0,A.sb)(e.element))),this.currentAction=t,"Add"!==t&&(this.activeEventData.event=e),this.eventWindow.openEditor(e,t,i,n)},t.prototype.closeEditor=function(){this.eventWindow&&this.eventWindow.dialogClose()},t.prototype.openQuickInfoPopup=function(e){var t=this;if(!("Year"===this.currentView||(0,A.le)(e))){if((0,A.le)(e[this.eventFields.id])){if("Agenda"===this.currentView||"MonthAgenda"===this.currentView||(0,A.le)(this.activeView))return;var i={startTime:this.activeCellsData.startTime=this.getDateTime(e[this.eventFields.startTime]),endTime:this.activeCellsData.endTime=this.getDateTime(e[this.eventFields.endTime]),isAllDay:this.activeCellsData.isAllDay=!(0,A.le)(e[this.eventFields.isAllDay])&&e[this.eventFields.isAllDay]},n=this.activeView.getAdjustedDate(new Date(i.startTime));if(n){var r="."+ta.bqQ+'[data-date="'+n.getTime()+'"]';this.activeViewOptions.group.resources.length>0&&!this.uiStateValues.isGroupAdaptive&&this.resourceBase&&this.eventBase&&(i.groupIndex=this.eventBase.getGroupIndexFromEvent(e),r="."+ta.bqQ+'[data-date="'+n.getTime()+'"][data-group-index="'+i.groupIndex+'"]');var a=this.element.querySelector(r);a&&(a.focus(),i.element=a,this.notify(tn.kj,i))}}else{var s=this.getCurrentViewEvents().filter(function(i){return e[t.eventFields.id]===i[t.eventFields.id]});if(s.length<=0)return;var o=s[0];if(e[this.eventFields.recurrenceRule]){var l=s.filter(function(i){return i[t.eventFields.startTime].getTime()===e[t.eventFields.startTime].getTime()});l.length>0&&(o=l[0])}var h=this.element.querySelector('div[data-guid="'+o.Guid+'"]');h&&(this.eventBase.removeSelectedAppointmentClass(),this.eventBase.addSelectedAppointments([h],!1),this.activeEventData={event:o,element:h},("Agenda"===this.currentView||"MonthAgenda"===this.currentView)&&(0,A.cn)([this.activeEventData.element],ta.ZUH),this.notify(tn.ML,this.activeEventData))}}},t.prototype.closeQuickInfoPopup=function(){this.quickPopup&&this.quickPopup.quickPopupHide(!0)},t.prototype.closeTooltip=function(){this.eventTooltip&&this.eventTooltip.close()},t.prototype.selectResourceByIndex=function(e){this.resourceBase&&this.uiStateValues.isGroupAdaptive&&this.resourceBase.selectResourceByIndex(e)},t.prototype.getIndexFromResourceId=function(e,t){return this.resourceBase?this.resourceBase.getIndexFromResourceId(e,t):null},t.prototype.addResource=function(e,t,i){this.resourceBase.addResource(e,t,i)},t.prototype.removeResource=function(e,t){this.resourceBase.removeResource(e,t)},t.prototype.destroy=function(){this.eventTooltip&&(this.eventTooltip.destroy(),this.eventTooltip=null),this.destroyPopups(),this.hideSpinner(),this.unWireEvents(),this.destroyHeaderModule(),this.eventBase&&(this.eventBase.destroy(),this.eventBase=null),this.workCellAction&&(this.workCellAction.destroy(),this.workCellAction=null),this.inlineModule&&(this.inlineModule.destroy(),this.inlineModule=null),this.keyboardInteractionModule&&(this.keyboardInteractionModule.destroy(),this.keyboardInteractionModule=null),this.scrollModule&&(this.scrollModule.destroy(),this.scrollModule=null),this.printModule&&this.printModule.destroy(),this.activeView&&(this.resetTemplates(),this.activeView.removeEventListener(),this.activeView.destroy(),this.activeView=null),this.scheduleTouchModule&&(this.scheduleTouchModule.destroy(),this.scheduleTouchModule=null),this.crudModule&&(this.crudModule.destroy(),this.crudModule=null),this.dataModule&&(this.dataModule.destroy(),this.dataModule=null),e.prototype.destroy.call(this);for(var t=0,i=["dayModule","weekModule","workWeekModule","monthModule","monthAgendaModule","yearModule","agendaModule","timelineViewsModule","timelineMonthModule","timelineYearModule","resizeModule","dragAndDropModule","excelExportModule","printModule","iCalendarExportModule","iCalendarImportModule","tzModule","eventsData","eventsProcessed","blockData","blockProcessed","uiStateValues","viewCollections","viewOptions","defaultLocale","localeObj","selectedElements","resourceCollection","editorTitles","eventFields","activeViewOptions","activeEventData","activeCellsData","renderModule"];t<i.length;t++)this[""+i[t]]=null;tr.ep(this.element);var n=[ta.Dx9,ta.lw,ta.Kx5,ta.EGW];this.cssClass&&(n=n.concat(this.cssClass.split(" "))),(0,A.IV)([this.element],n)},rv([(0,A.Z9)("auto")],t.prototype,"width",void 0),rv([(0,A.Z9)("auto")],t.prototype,"height",void 0),rv([(0,A.Z9)(!0)],t.prototype,"showHeaderBar",void 0),rv([(0,A.Z9)(!0)],t.prototype,"showTimeIndicator",void 0),rv([(0,A.Z9)(!0)],t.prototype,"allowSwiping",void 0),rv([(0,A.Z9)("Week")],t.prototype,"currentView",void 0),rv([(0,A.Z9)(["Day","Week","WorkWeek","Month","Agenda"])],t.prototype,"views",void 0),rv([(0,A.Z9)(new Date)],t.prototype,"selectedDate",void 0),rv([(0,A.Z9)(new Date(1900,0,1))],t.prototype,"minDate",void 0),rv([(0,A.Z9)(new Date(2099,11,31))],t.prototype,"maxDate",void 0),rv([(0,A.Z9)()],t.prototype,"dateFormat",void 0),rv([(0,A.Z9)("Gregorian")],t.prototype,"calendarMode",void 0),rv([(0,A.Z9)(!0)],t.prototype,"showWeekend",void 0),rv([(0,A.Z9)(0)],t.prototype,"firstDayOfWeek",void 0),rv([(0,A.Z9)("FirstDay")],t.prototype,"weekRule",void 0),rv([(0,A.Z9)([1,2,3,4,5])],t.prototype,"workDays",void 0),rv([(0,A.Z9)(12)],t.prototype,"monthsCount",void 0),rv([(0,A.Z9)("00:00")],t.prototype,"startHour",void 0),rv([(0,A.Z9)("24:00")],t.prototype,"endHour",void 0),rv([(0,A.Z9)(null)],t.prototype,"timeFormat",void 0),rv([(0,A.Z9)(!0)],t.prototype,"enableHtmlSanitizer",void 0),rv([(0,A.Z9)(!1)],t.prototype,"enableAllDayScroll",void 0),rv([(0,A.Z9)(!1)],t.prototype,"enableAdaptiveUI",void 0),rv([(0,A.Z9)(!0)],t.prototype,"allowResizing",void 0),rv([(0,A.Zz)({},nZ)],t.prototype,"workHours",void 0),rv([(0,A.Zz)({},nQ)],t.prototype,"timeScale",void 0),rv([(0,A.Z9)(!0)],t.prototype,"allowKeyboardInteraction",void 0),rv([(0,A.Z9)(!0)],t.prototype,"allowDragAndDrop",void 0),rv([(0,A.Z9)()],t.prototype,"dateHeaderTemplate",void 0),rv([(0,A.Z9)()],t.prototype,"dateRangeTemplate",void 0),rv([(0,A.Z9)()],t.prototype,"cellHeaderTemplate",void 0),rv([(0,A.Z9)()],t.prototype,"dayHeaderTemplate",void 0),rv([(0,A.Z9)()],t.prototype,"monthHeaderTemplate",void 0),rv([(0,A.Z9)()],t.prototype,"cellTemplate",void 0),rv([(0,A.Z9)(!1)],t.prototype,"readonly",void 0),rv([(0,A.Z9)(!0)],t.prototype,"showQuickInfo",void 0),rv([(0,A.Z9)(!1)],t.prototype,"allowInline",void 0),rv([(0,A.Z9)(!0)],t.prototype,"allowMultiCellSelection",void 0),rv([(0,A.Z9)(!0)],t.prototype,"allowMultiRowSelection",void 0),rv([(0,A.Z9)(!1)],t.prototype,"quickInfoOnSelectionEnd",void 0),rv([(0,A.Z9)(!1)],t.prototype,"showWeekNumber",void 0),rv([(0,A.Z9)(!1)],t.prototype,"rowAutoHeight",void 0),rv([(0,A.Z9)(!1)],t.prototype,"allowMultiDrag",void 0),rv([(0,A.Z9)(0)],t.prototype,"firstMonthOfYear",void 0),rv([(0,A.Z9)()],t.prototype,"editorTemplate",void 0),rv([(0,A.Z9)()],t.prototype,"editorHeaderTemplate",void 0),rv([(0,A.Z9)()],t.prototype,"editorFooterTemplate",void 0),rv([(0,A.Zz)({},nJ)],t.prototype,"quickInfoTemplates",void 0),rv([(0,A.Z9)(7)],t.prototype,"agendaDaysCount",void 0),rv([(0,A.Z9)(!0)],t.prototype,"hideEmptyAgendaDays",void 0),rv([(0,A.Z9)(!0)],t.prototype,"enableRecurrenceValidation",void 0),rv([(0,A.Z9)()],t.prototype,"timezone",void 0),rv([(0,A.Zz)({},rn)],t.prototype,"eventSettings",void 0),rv([(0,A.Z9)(rd.S)],t.prototype,"timezoneDataSource",void 0),rv([(0,A.Z9)()],t.prototype,"resourceHeaderTemplate",void 0),rv([(0,A.Z9)()],t.prototype,"headerIndentTemplate",void 0),rv([(0,A.Zz)({},rs)],t.prototype,"group",void 0),rv([(0,A.FE)([],rh)],t.prototype,"resources",void 0),rv([(0,A.FE)([],n9)],t.prototype,"headerRows",void 0),rv([(0,A.Z9)()],t.prototype,"cssClass",void 0),rv([(0,A.Z9)()],t.prototype,"eventDragArea",void 0),rv([(0,A.ju)()],t.prototype,"created",void 0),rv([(0,A.ju)()],t.prototype,"destroyed",void 0),rv([(0,A.ju)()],t.prototype,"cellClick",void 0),rv([(0,A.ju)()],t.prototype,"cellDoubleClick",void 0),rv([(0,A.ju)()],t.prototype,"moreEventsClick",void 0),rv([(0,A.ju)()],t.prototype,"hover",void 0),rv([(0,A.ju)()],t.prototype,"select",void 0),rv([(0,A.ju)()],t.prototype,"actionBegin",void 0),rv([(0,A.ju)()],t.prototype,"actionComplete",void 0),rv([(0,A.ju)()],t.prototype,"actionFailure",void 0),rv([(0,A.ju)()],t.prototype,"navigating",void 0),rv([(0,A.ju)()],t.prototype,"renderCell",void 0),rv([(0,A.ju)()],t.prototype,"eventClick",void 0),rv([(0,A.ju)()],t.prototype,"eventRendered",void 0),rv([(0,A.ju)()],t.prototype,"dataBinding",void 0),rv([(0,A.ju)()],t.prototype,"popupOpen",void 0),rv([(0,A.ju)()],t.prototype,"popupClose",void 0),rv([(0,A.ju)()],t.prototype,"dragStart",void 0),rv([(0,A.ju)()],t.prototype,"drag",void 0),rv([(0,A.ju)()],t.prototype,"dragStop",void 0),rv([(0,A.ju)()],t.prototype,"resizeStart",void 0),rv([(0,A.ju)()],t.prototype,"resizing",void 0),rv([(0,A.ju)()],t.prototype,"resizeStop",void 0),rv([(0,A.ju)()],t.prototype,"virtualScrollStart",void 0),rv([(0,A.ju)()],t.prototype,"virtualScrollStop",void 0),rv([(0,A.ju)()],t.prototype,"dataBound",void 0),t=rv([A.Zl],t)}(A.wA),rf=i(75747),ry=(S=function(e,t){return(S=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}S(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),rb=function(e){function t(t){var i=e.call(this,t)||this;return i.initRenderCalled=!1,i.checkInjectedModules=!0,i.directivekeys={views:"view",resources:"resource",headerRows:"headerRow"},i.statelessTemplateProps=null,i.templateProps=null,i.immediateRender=!1,i.portals=[],i}return ry(t,e),t.prototype.render=function(){if((!this.element||this.initRenderCalled)&&!this.refreshing||this.isReactForeceUpdate)return k.createElement("div",this.getDefaultAttributes(),[].concat(this.props.children,this.portals));e.prototype.render.call(this),this.initRenderCalled=!0},t}(rg);(0,rf.ef)(rb,[rf.VZ,k.Component])},50173:function(e,t,i){"use strict";i.d(t,{_:function(){return a},l:function(){return r}});var n=i(92268),r=function(){function e(){}return e.prototype.firstDateOfMonth=function(e){return new Date(e.getFullYear(),e.getMonth())},e.prototype.lastDateOfMonth=function(e){return new Date(e.getFullYear(),e.getMonth()+1,0)},e.prototype.isMonthStart=function(e){return 1===e.getDate()},e.prototype.getLeapYearDaysCount=function(){return 366},e.prototype.getYearDaysCount=function(e,t){return(e.getFullYear()+t)%4==0?366:365},e.prototype.getDate=function(e){return e.getDate()},e.prototype.getMonth=function(e){return e.getMonth()+1},e.prototype.getFullYear=function(e){return e.getFullYear()},e.prototype.getYearLastDate=function(e,t){return new Date(e.getFullYear()+t,0,0)},e.prototype.getMonthDaysCount=function(e){return this.lastDateOfMonth(e).getDate()},e.prototype.getMonthStartDate=function(e){return new Date(e.getFullYear(),e.getMonth(),1,e.getHours(),e.getMinutes())},e.prototype.getMonthEndDate=function(e){return e.setDate(1),new Date(e.setMonth(e.getMonth()+1))},e.prototype.getExpectedDays=function(e,t){return t},e.prototype.setDate=function(e,t){e.setDate(t)},e.prototype.setValidDate=function(e,t,i,r,a){(0,n.le)(a)?e.setMonth(e.getMonth()+t,i):e.setMonth((a?r:e.getMonth())+t)},e.prototype.setMonth=function(e,t,i){e.setDate(1),e.setFullYear(e.getFullYear()),e.setMonth(t-1);var n=new Date(e.getFullYear(),e.getMonth()+1,0).getDate();e.setDate(Math.min(i,n))},e.prototype.addYears=function(e,t){e.setFullYear(e.getFullYear()+t)},e.prototype.isSameMonth=function(e,t){return e.getMonth()===t.getMonth()},e.prototype.checkMonth=function(e,t){return -1===t.indexOf(e.getMonth()+1)},e.prototype.compareMonth=function(e,t){return e.getMonth()>t.getMonth()},e.prototype.isSameYear=function(e,t){return e.getFullYear()===t.getFullYear()},e.prototype.isLastMonth=function(e){return 11===e.getMonth()},e.prototype.isLeapYear=function(e,t){return(e+t)%4==0},e}(),a=function(){function e(){}return e.prototype.firstDateOfMonth=function(e){var t=this.getHijriDate(e);return n.hv.toGregorian(t.year,t.month,1)},e.prototype.lastDateOfMonth=function(e){var t=this.getHijriDate(e),i=this.getDaysInMonth(t.month,t.year),r=n.hv.toGregorian(t.year,t.month,i),a=new Date(r.getTime());a=new Date(a.setDate(a.getDate()+1));var s=this.getHijriDate(a);return t.month===s.month?a:(s=this.getHijriDate(r),t.month===s.month)?r:new Date(r.setDate(r.getDate()-1))},e.prototype.isMonthStart=function(e){return 1===this.getHijriDate(e).date},e.prototype.getLeapYearDaysCount=function(){return 355},e.prototype.getYearDaysCount=function(e,t){var i=this.getHijriDate(e);return this.isLeapYear(i.year,t)?355:354},e.prototype.getDate=function(e){return this.getHijriDate(e).date},e.prototype.getMonth=function(e){return this.getHijriDate(e).month},e.prototype.getFullYear=function(e){return this.getHijriDate(e).year},e.prototype.getYearLastDate=function(e,t){var i=this.getHijriDate(e);return n.hv.toGregorian(i.year+t,1,0)},e.prototype.getMonthDaysCount=function(e){var t=this.lastDateOfMonth(e);return this.getHijriDate(t).date},e.prototype.getMonthStartDate=function(e){var t=this.firstDateOfMonth(e);return new Date(t.getFullYear(),t.getMonth(),t.getDate(),e.getHours(),e.getMinutes())},e.prototype.getMonthEndDate=function(e){var t=this.lastDateOfMonth(e);return t.setDate(t.getDate()+1),new Date(t.setMonth(t.getMonth()))},e.prototype.getExpectedDays=function(e,t){for(var i=this.getHijriDate(e),r=[],a=0;a<t.length;a++){var s=n.hv.toGregorian(i.year,i.month,t[parseInt(a.toString(),10)]);r.push(s.getDate())}return r},e.prototype.setDate=function(e,t){var i=this.getHijriDate(e),r=n.hv.toGregorian(i.year,i.month,t);this.updateDateObj(e,r)},e.prototype.setValidDate=function(e,t,i,r,a){var s=(0,n.le)(a)?e:this.firstDateOfMonth(a),o=this.getHijriDate(s),l=n.hv.toGregorian(o.year,o.month+t,i);this.updateDateObj(e,l)},e.prototype.setMonth=function(e,t,i){var r=this.getHijriDate(e),a=n.hv.toGregorian(r.year,t,i);this.updateDateObj(e,a)},e.prototype.addYears=function(e,t,i){var r=this.getHijriDate(e),a=n.hv.toGregorian(r.year+t,i,1);this.updateDateObj(e,a)},e.prototype.isSameMonth=function(e,t){var i=this.getHijriDate(e),n=this.getHijriDate(t);return i.month===n.month},e.prototype.checkMonth=function(e,t){var i=this.getHijriDate(e);return -1===t.indexOf(i.month)},e.prototype.compareMonth=function(e,t){var i=this.getHijriDate(e),n=this.getHijriDate(t);return i.month>n.month},e.prototype.isSameYear=function(e,t){var i=this.getHijriDate(e),n=this.getHijriDate(t);return i.year===n.year},e.prototype.isLastMonth=function(e){return 12===this.getHijriDate(e).month},e.prototype.updateDateObj=function(e,t){e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate())},e.prototype.isLeapYear=function(e,t){return(14+11*(e+t))%30<11},e.prototype.getDaysInMonth=function(e,t){var i=0;return i=29+(e+1)%2,11===e&&this.isLeapYear(t,0)&&i++,i},e.prototype.getHijriDate=function(e){return n.hv.getHijriDate(e)},e}()},68515:function(e,t,i){"use strict";i.d(t,{IC:function(){return m},K_:function(){return J},R_:function(){return d},Si:function(){return H},ap:function(){return R},h8:function(){return c}});var n,r,a,s,o=i(92268),l=i(66308),h=i(50173),p=i(60201);function c(e,t,i,n){void 0===n&&(n="Gregorian");var r,a,s=R(e),h=t.getConstant(N)+" ",p=n.toLowerCase();if("en"===i||"en-US"===i){var c="months.stand-alone.abbreviated",d="days.stand-alone.abbreviated";a=(0,o.NA)(c,(0,o.bD)(p)),r=(0,o.NA)(d,(0,o.bD)(p))}else{var c="main."+i+".dates.calendars."+p+".months.stand-alone.abbreviated",d="main."+i+".dates.calendars."+p+".days.stand-alone.abbreviated";a=(0,o.NA)(c,o.qV),r=(0,o.NA)(d,o.qV)}switch(s.interval>1&&(h+=s.interval+" "),s.freq){case"DAILY":h+=t.getConstant(Y);break;case"WEEKLY":h+=t.getConstant(_)+" "+t.getConstant(j)+" ",s.day.forEach(function(e,t){h+=(0,l.hz)((0,o.NA)(G[""+e],r),"single")+(s.day.length-1===t?"":", ")});break;case"MONTHLY":h+=t.getConstant(Z)+" "+t.getConstant(j)+" "+u(s,r,t);break;case"YEARLY":h+=t.getConstant(K)+" "+t.getConstant(j)+" "+(0,l.hz)((0,o.NA)(s.month[0].toString(),a),"single")+" "+u(s,r,t)}if(s.count)h+=", "+s.count+" "+t.getConstant(B);else if(s.until){var m=s.until;h+=", "+t.getConstant(U)+" "+m.getDate()+" "+(0,l.hz)((0,o.NA)((m.getMonth()+1).toString(),a),"single")+" "+m.getFullYear()}return h}function u(e,t,i){var n="";if(e.monthDay.length)n+=e.monthDay[0];else if(e.day){var r=e.setPosition-1;n+=i.getConstant(z[r>-1?r:z.length-1])+" "+(0,l.hz)((0,o.NA)(G[e.day[0]],t),"single")}return n}function d(e,t,i,h,c,u,d,y){void 0===c&&(c=W),void 0===u&&(u=null),void 0===d&&(d="Gregorian"),void 0===y&&(y=null);var b,T=R(t);s=H(d);var D=[],w=new Date(e.getTime());n=[];var S=(0,o.le)(i)?[]:i.split(","),E=new p.r;if(S.forEach(function(e){var t=m(e);y&&(t=E.add(new Date(t.getTime()),y)),n.push(new Date(t.getTime()).setHours(0,0,0,0))}),T.recExceptionCount=(0,o.le)(T.count)?0:n.length,a=u&&u>e&&!T.count?new Date(new Date(u.getTime()).setHours(0,0,0)):null,!T.until&&a&&((b=new Date(a.getTime())).setDate(a.getDate()+c*T.interval),T.until=b),T.until&&e>T.until)return D;if(r=c,function(e){for(;q[0]!==e;)!function(e){var t=e.shift();e.push(t)}(q)}(F[parseInt(h.toString(),10)]),T.until){var k=(0,l.zS)(T.until);T.until=new Date(k.getFullYear(),k.getMonth(),k.getDate(),23,59,59)}switch(T.freq){case"DAILY":!function(e,t,i,n){for(var r=new Date(e.getTime()),a=n.interval,s=g(e,n),o=n.day;x(r,t)&&(!(P(r,n)&&(o.indexOf(F[r.getDay()])>-1||0===o.length))||(v(i,r.getTime()),!s||!(i.length+n.recExceptionCount>=s)));)r.setDate(r.getDate()+a),r.getHours()!==e.getHours()&&r.setHours(e.getHours())}(w,T.until,D,T);break;case"WEEKLY":!function(e,t,i,n){var r,a=new Date(e.getTime());n.day.length||n.day.push(F[e.getDay()]);var s=n.interval,h=n.day,p=g(e,n),c=!0,u=[];if(h.length>1)for(((0,o.le)(n.wkst)||""===n.wkst)&&(n.wkst=q[0]),r=F.indexOf(n.wkst);x(a,t);){var d=F.indexOf(F[a.getDay()])-r;d=-1===d?6:d;var m=(0,l.E4)(a,-d),f=(0,l.E4)(m,6),y=new Date(a.getTime());for(f=(0,l.zS)(f),y=(0,l.zS)(y);f>=y&&(h.indexOf(F[a.getDay()])>-1&&u.push([a.getTime()]),!p||!(i.length+n.recExceptionCount>=p));)a.setDate(a.getDate()+1),a.getHours()!==e.getHours()&&a.setHours(e.getHours()),y=new Date(a.getTime()),y=(0,l.zS)(y);if(a.setDate(a.getDate()-1),p&&i.length+n.recExceptionCount>=p)break;a.setDate(a.getDate()+1+(s-1)*7),C(u,c,e,t,i,n),u=[]}else{for(a=O(e,n.day);x(a,t)&&((c=P(a,n))&&h.indexOf(F[a.getDay()])>-1&&v(i,a.getTime()),!p||!(i.length+n.recExceptionCount>=p));)a.setDate(a.getDate()+7*s);C(u,c,e,t,i,n),u=[]}}(w,T.until,D,T);break;case"MONTHLY":f(w,T.until,D,T);break;case"YEARLY":!function(e,t,i,n){switch(n.yearDay.length?"YEARDAY":n.weekNo.length?"WEEKNO":"MONTH"){case"MONTH":f(e,t,i,n);break;case"WEEKNO":!function(e,t,i,n){for(var r,a,h,p,c,u,d=s.getYearLastDate(e,0),m=g(e,n),v=n.weekNo,f=[],y=n.day;x(d,t);){h=6-q.indexOf(F[d.getDay()])+1;for(var b=0;b<v.length;b++)for(c=1===(p=(p=v[parseInt(b.toString(),10)])>0?p:53+p+1)?h:h+(p-1)*7,u=1===p?h-7:h+(p-2)*7;u<c;)r=new Date(d.getTime()+l.Mb*u),(0===y.length||y.indexOf(F[r.getDay()])>-1)&&((0,o.le)(n.setPosition)?A(a,e,t,i,n,r.getTime()):f.push([r.getTime()])),u++;if((0,o.le)(n.setPosition)||M(f,a,e,t,i,n),m&&i.length+n.recExceptionCount>=m)return;d=s.getYearLastDate(r,n.interval),f=[]}}(e,t,i,n);break;case"YEARDAY":!function(e,t,i,n){for(var r,a,l,h=s.getYearLastDate(e,0),p=g(e,n),c=[],u=n.day;x(h,t);){for(var d=0;d<n.yearDay.length;d++){if(l=n.yearDay[parseInt(d.toString(),10)],r=new Date(h.getTime()),(l===s.getLeapYearDaysCount()||l===-s.getLeapYearDaysCount())&&!s.isLeapYear(s.getFullYear(r),1)){r.setDate(r.getDate()+1);continue}r.setDate(r.getDate()+(l<0?s.getYearDaysCount(r,1)+1+l:l)),(0===u.length||u.indexOf(F[r.getDay()])>-1)&&(null==n.setPosition?A(a,e,t,i,n,r.getTime()):c.push([r.getTime()]))}if((0,o.le)(n.setPosition)||M(c,a,e,t,i,n),p&&i.length+n.recExceptionCount>=p)return;h=s.getYearLastDate(r,n.interval),c=[]}}(e,t,i,n)}}(w,T.until,D,T)}return D}function m(e){return new Date(e.substr(0,4)+"-"+e.substr(4,2)+"-"+e.substr(6,5)+":"+e.substr(11,2)+":"+e.substr(13))}function v(e,t){var i=new Date(t).setHours(0,0,0,0);-1===n.indexOf(i)&&(!a||i>=a.getTime())&&e.push(t)}function g(e,t){var i=r;return t.count?i=t.count:t.until&&("DAILY"===t.freq||"WEEKLY"===t.freq?i=Math.floor((t.until.getTime()-e.getTime())/l.Mb)+1:("MONTHLY"===t.freq||"YEARLY"===t.freq)&&(i=Math.floor((t.until.getMonth()+12*t.until.getFullYear()-(e.getMonth()+12*e.getFullYear()))/t.interval)+(t.day.length>1?Math.floor((t.until.getTime()-e.getTime())/l.Mb)+1:1),"YEARLY"===t.freq&&(i=t.month.length>1?i*t.month.length:i))),i}function f(e,t,i,n){switch(n.month.length||n.day.length||n.monthDay.length?!(n.month.length>0)||n.day.length||n.monthDay.length||n.monthDay.push(e.getDate()):(n.monthDay.push(e.getDate()),"YEARLY"===n.freq&&n.month.push(e.getMonth()+1)),n.monthDay.length&&!n.day.length?"date":!n.monthDay.length&&n.day.length?"day":"both"){case"day":switch(n.freq){case"MONTHLY":w(e,t,i,n);break;case"YEARLY":!function(e,t,i,n){var r,a=n.day,l=a.map(function(e){return Q.test(e)});if(a.length>1&&l.indexOf(!0)>-1){!function(e,t,i,n){var r,a,l,h,p,c=n.day,u=g(e,n),d=new Date(e.getTime()),m=n.interval,v=[],f=[],y=0;d=s.getMonthStartDate(d);var b=[];for(n.month.length&&s.setMonth(d,n.month[0],1),d=O(d,n.day);x(d,t);){l=new Date(d.getTime());for(var T=0;T<=n.month.length;T++)for(var w=0;w<=c.length-1;w++){for(d=O(d=s.getMonthStartDate(d),n.day),v=[];s.isSameYear(l,d)&&u&&i.length+n.recExceptionCount<=u;)for(;s.isSameYear(l,d);){if(l=new Date(d.getTime()),0===n.month.length||n.month.length>0&&n.month[parseInt(T.toString(),10)]===s.getMonth(l)){var C=c[parseInt(w.toString(),10)].match($),S=parseInt(C[0],10);for(h=new Date(d.getTime());s.isSameYear(h,d)&&s.isSameMonth(h,d);)C[C.length-1]===F[h.getDay()]&&v.push([h.getTime()]),h.setDate(h.getDate()+1);h.setDate(h.getDate()-1),r=isNaN(r=C[0].indexOf("-")>-1?v.length- -1*S:S-1)?0:r}y=D(d,n,y,p,1),d=O(d,n.day)}if(d=new Date(0===w&&h?h.getTime():l.getTime()),v.length>0&&((0,o.le)(n.setPosition)?M(v,a,e,t,i,n,r):f=[k(v,r,b)]),u&&i.length+n.recExceptionCount>=u)return}(0,o.le)(n.setPosition)||(V(f,a,e,t,i,n),b=[]),s.isLastMonth(d)?(s.setValidDate(d,1,1),d.setFullYear(d.getFullYear()+m-1)):d.setFullYear(d.getFullYear()+m),d=O(d,n.day),n.month.length&&s.setMonth(d,n.month[0],d.getDate())}}(e,t,i,n);return}if(n.month.length&&1===a.length&&l.indexOf(!0)>-1){w(e,t,i,n);return}var h=new Date(e.getTime()),p=g(e,n),c=n.interval,u=[];for(n.month.length&&s.setMonth(h,n.month[0],h.getDate()),(0,o.le)(n.setPosition)&&0===n.month.length&&0===n.weekNo.length&&h.setFullYear(e.getFullYear(),0,1),h=O(h=s.getMonthStartDate(h),n.day);x(h,t);){for(r=new Date(h.getTime());s.isSameYear(r,h)&&p&&i.length+n.recExceptionCount<=p;)for(r=new Date(h.getTime());s.isSameYear(r,h);)if(0===n.month.length||n.month.length>0&&!s.checkMonth(h,n.month)){if(a.length>1){if(s.compareMonth(r,h)){s.setValidDate(h,1,1),h=O(h,n.day);break}a.indexOf(F[r.getDay()])>-1&&u.push([r.getTime()]),r.setDate(r.getDate()+1)}else{if(r.getFullYear()>h.getFullYear()){s.setValidDate(h,1,1),h=O(h,n.day);break}var d=I(a[0]);F[r.getDay()]===d&&new Date(r.getFullYear(),r.getMonth(),0)>new Date(e.getFullYear())&&u.push([r.getTime()]),r.setDate(r.getDate()+7)}}else{s.setValidDate(h,1,1),h=O(h,n.day);break}if(h.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),E(u,e,t,i,n),s.isLastMonth(h)&&(s.setValidDate(h,1,1),h=O(h,n.day)),h.setFullYear(h.getFullYear()+c-1),p&&i.length+n.recExceptionCount>=p)return;h=O(h,n.day),u=[]}}(e,t,i,n)}break;case"both":case"date":switch(n.freq){case"MONTHLY":b(e,t,i,n);break;case"YEARLY":!function(e,t,i,n){if(n.month.length){b(e,t,i,n);return}var r,a=y(e,n);for(a.tempDate=a.mainDate=s.getMonthStartDate(a.tempDate);x(a.tempDate,t);){for(r=new Date(a.tempDate.getTime());s.isSameYear(r,a.tempDate)&&a.expectedCount&&i.length+n.recExceptionCount<=a.expectedCount;)if(0===n.month.length||n.month.length>0&&!s.checkMonth(a.tempDate,n.month))T(n,a,t,!1),a.beginDate=new Date(a.tempDate.getTime()),a.monthInit=D(a.tempDate,n,a.monthInit,a.beginDate);else{s.setValidDate(a.tempDate,1,1),a.tempDate=O(a.tempDate,n.day);break}if(a.tempDate.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),C(a.dateCollection,a.state,e,t,i,n),s.isLastMonth(a.tempDate)&&(s.setValidDate(a.tempDate,1,1),a.tempDate=O(a.tempDate,n.day)),a.expectedCount&&i.length+n.recExceptionCount>=a.expectedCount)return;a.tempDate.setFullYear(a.tempDate.getFullYear()+n.interval-1),a.tempDate=O(a.tempDate,n.day),a.monthInit=D(a.tempDate,n,a.monthInit,a.beginDate),a.dateCollection=[]}}(e,t,i,n)}}}function y(e,t){var i={monthCollection:[],index:0,tempDate:new Date(e.getTime()),mainDate:new Date(e.getTime()),expectedCount:g(e,t),monthInit:0,dateCollection:[]};return t.month.length&&s.setMonth(i.tempDate,t.month[0],i.tempDate.getDate()),i}function b(e,t,i,n){var r=y(e,n);if(r.tempDate=r.mainDate=s.getMonthStartDate(r.tempDate),!(("MONTHLY"===n.freq&&12===n.interval||"YEARLY"===n.freq)&&s.getMonthDaysCount(e)<n.monthDay[0]))for(;x(r.tempDate,t);){if(r.beginDate=new Date(r.tempDate.getTime()),T(n,r,t,!0,e,i),(0,o.le)(n.setPosition)||M(r.dateCollection,r.state,e,t,i,n),r.expectedCount&&i.length+n.recExceptionCount>=r.expectedCount)return;r.monthInit=D(r.tempDate,n,r.monthInit,r.beginDate),r.dateCollection=[]}}function T(e,t,i,n,r,a){for(var l=0;l<e.monthDay.length;l++){t.date=e.monthDay[parseInt(l.toString(),10)],t.tempDate=s.getMonthStartDate(t.tempDate);var h,p,c,u=s.getMonthDaysCount(t.tempDate);if(t.date=t.date>0?t.date:u+t.date+1,h=t.tempDate,p=t.date,c=t.mainDate,p<=s.getMonthDaysCount(h)&&h>=c&&t.date>0){if(s.setDate(t.tempDate,t.date),i&&t.tempDate>i)return;(0===e.day.length||e.day.indexOf(F[t.tempDate.getDay()])>-1)&&(n&&(0,o.le)(e.setPosition)&&t.expectedCount&&a.length+e.recExceptionCount<t.expectedCount?A(t.state,r,i,a,e,t.tempDate.getTime()):t.dateCollection.push([t.tempDate.getTime()]))}}}function D(e,t,i,n,r){void 0===n&&(n=null);var a=n?n.getMonth():0,l=s.getMonthStartDate(e);return r=(0,o.le)(r)?t.interval:r,e.setFullYear(l.getFullYear()),e.setMonth(l.getMonth()),e.setDate(l.getDate()),t.month.length?(i++,i%=t.month.length,s.setMonth(e,t.month[parseInt(i.toString(),10)],1),0===i&&s.addYears(e,r,t.month[0])):(n&&n.getFullYear()<e.getFullYear()&&(a=e.getMonth()-1),s.setValidDate(e,r,1,a,n)),i}function w(e,t,i,n){if(n.day.length>1){!function(e,t,i,n){var r,a,l,h=n.day,p=new Date(e.getTime());p=s.getMonthStartDate(p);var c=[],u=[],d=[],m=g(e,n),v=0;for(n.month.length&&s.setMonth(p,n.month[0],1),p=O(p,n.day);x(p,t)&&m&&i.length+n.recExceptionCount<m;){var f=new Date(p.getTime());if(h.map(function(e){return Q.test(e)}).indexOf(!0)>-1){for(var y=0;y<=h.length-1;y++){var b=h[parseInt(y.toString(),10)].match($),T=parseInt(b[0],10);for(p=new Date(p.getTime()),p=O(p=s.getMonthStartDate(p),h),f.setFullYear(p.getFullYear(),p.getMonth(),p.getDate());s.isSameYear(f,p)&&s.isSameMonth(f,p);)b[b.length-1]===F[f.getDay()]&&c.push([f.getTime()]),f.setDate(f.getDate()+1);if(f.setDate(f.getDate()-1),r=isNaN(r=b[0].indexOf("-")>-1?c.length- -1*T:T-1)?0:r,c.length>0&&((0,o.le)(n.setPosition)?M(c,a,e,t,i,n,r):u=[k(c,r,d)]),m&&i.length+n.recExceptionCount>=m)return;c=[]}(0,o.le)(n.setPosition)||(V(u,a,e,t,i,n),d=[]),v=D(p,n,v,l),p=O(p,n.day),c=[]}else{var w=[],C=function(e){var t={};return e.forEach(function(i,n){if(n===e.length-1){for(var r=q.indexOf(i),a=r;a%7!==q.indexOf(e[0]);)a++;t[""+i]=a-r}else t[""+i]=q.indexOf(e[n+1])-q.indexOf(i)}),t}(h);f.setFullYear(p.getFullYear(),p.getMonth(),p.getDate());var S=new Date(p.getTime());for(l=new Date(p.getTime());s.isSameMonth(S,p);)w.push(p.getTime()),h.indexOf(F[p.getDay()])>-1&&(c.push(w),w=[]),p.setDate(p.getDate()+C[F[p.getDay()]]);if(r=n.setPosition<1?c.length+n.setPosition:n.setPosition-1,(0,o.le)(n.setPosition)){r=0;for(var E=[],A=0;A<c.length;A++)for(var I=0;I<c[parseInt(A.toString(),10)].length;I++)E.push(c[parseInt(A.toString(),10)][parseInt(I.toString(),10)]);c=[E]}if(c.length>0&&M(c,a,e,t,i,n,r),m&&i.length+n.recExceptionCount>=m)return;v=D(p,n,v,l),p=O(p,n.day),c=[]}}}(e,t,i,n);return}var r,a=new Date(e.getTime()),l=g(e,n),h=[],p=0;for(a=s.getMonthStartDate(a),n.month.length&&s.setMonth(a,n.month[0],1),a=O(a,n.day);x(a,t)&&l&&i.length+n.recExceptionCount<l;){r=new Date(a.getTime());for(var c=new Date(a.getTime());s.isSameMonth(a,c);)h.push([c.getTime()]),c.setDate(c.getDate()+7);E(h,e,t,i,n),p=D(a,n,p,r),a=O(a,n.day),h=[]}}function C(e,t,i,n,r,a){var s=a.setPosition<1?e.length+a.setPosition:a.setPosition-1;(0,o.le)(a.setPosition)&&(s=0,e=S(e)),e.length>0&&M(e,t,i,n,r,a,s)}function S(e){for(var t=[],i=0;i<e.length;i++)for(var n=0;n<e[parseInt(i.toString(),10)].length;n++)t.push(new Date(e[parseInt(i.toString(),10)][parseInt(n.toString(),10)]).getTime());return e=t.length>0?[t]:[]}function E(e,t,i,n,r){var a,s=function(e,t){var i,n={monthCollection:[],index:0};if(1===t.length){var r=t[0].match($),a=void 0;r.length>1?i=(a=parseInt(r[0],10))<1?e.length+a:a-1:(i=0,e=S(e))}else i=0,e=S(e);return n.monthCollection=e,n.index=i,n}(e,r.day);e=s.monthCollection;var o=s.index;null!=r.setPosition?V([k(e,o,[])],a,t,i,n,r):e.length>0&&M(e,a,t,i,n,r,o)}function k(e,t,i){for(var n=0;n<e[parseInt(t.toString(),10)].length;n++)i.push(e[parseInt(t.toString(),10)][parseInt(n.toString(),10)]);return i}function A(e,t,i,n,r,a){var s=g(t,r),o=new Date(a);e=P(o,r),o>=t&&x(o,i)&&e&&s&&n.length+r.recExceptionCount<s&&v(n,a)}function V(e,t,i,n,r,a){if(e.length>0)for(var s=0;s<e.length;s++){e[parseInt(s.toString(),10)].sort();var o=a.day.map(function(e){return Q.test(e)}),l="YEARLY"===a.freq&&a.validRules.indexOf("BYMONTH")>-1&&!(o.indexOf(!0)>-1)?function(e,t,i,n,r){var a=new Date(e,r.month[0]-1,1),s=new Date(e,r.month[0],0).getDate(),o=Math.ceil(((a.getDay()-0+7)%7+s)/7)-1,l=i[parseInt(n.toString(),10)][parseInt(o.toString(),10)];return P(new Date(l),r)?o:o-1}(new Date(e[0][0]).getFullYear(),0,e,s,a):e[parseInt(s.toString(),10)].length+a.setPosition,h=a.setPosition<1?l:a.setPosition-1;A(t,i,n,r,a,e[parseInt(s.toString(),10)][parseInt(h.toString(),10)])}}function M(e,t,i,n,r,a,s){if(e.length>0){s=(0,o.le)(s)?a.setPosition<1?e.length+a.setPosition:a.setPosition-1:s,e[parseInt(s.toString(),10)].sort();for(var l=0;l<e[parseInt(s.toString(),10)].length;l++)A(t,i,n,r,a,e[parseInt(s.toString(),10)][parseInt(l.toString(),10)])}}function x(e,t){return!t||e<=t}function I(e){return e.replace(X,"")}function O(e,t){var i=new Date(e.getTime());if(t.length>0){for(var n=[],r=0;r<=t.length-1;r++)n.push(I(t[parseInt(r.toString(),10)]));if(-1===n.indexOf(F[i.getDay()]))do i.setDate(i.getDate()+1);while(-1===n.indexOf(F[i.getDay()]))}return i}function R(e){var t,i={freq:null,interval:1,count:null,until:null,day:[],wkst:null,month:[],weekNo:[],monthDay:[],yearDay:[],setPosition:null,validRules:[]},n=e.split(";"),r=[];if(n.forEach(function(e){switch((r=e.split("="))[0]){case"UNTIL":t=r[1],i.until=m(t);break;case"BYDAY":i.day=r[1].split(","),i.validRules.push(r[0]);break;case"BYMONTHDAY":i.monthDay=r[1].split(",").map(Number),i.validRules.push(r[0]);break;case"BYMONTH":i.month=r[1].split(",").map(Number),i.validRules.push(r[0]);break;case"BYYEARDAY":i.yearDay=r[1].split(",").map(Number),i.validRules.push(r[0]);break;case"BYWEEKNO":i.weekNo=r[1].split(",").map(Number),i.validRules.push(r[0]);break;case"INTERVAL":i.interval=parseInt(r[1],10);break;case"COUNT":i.count=parseInt(r[1],10);break;case"BYSETPOS":i.setPosition=parseInt(r[1],10)>4?-1:parseInt(r[1],10);break;case"FREQ":i.freq=r[1];break;case"WKST":i.wkst=r[1]}}),"MONTHLY"===i.freq&&0===i.monthDay.length){var a=i.validRules.indexOf("BYDAY");i.validRules.splice(a,1)}return i}function P(e,t){var i=!0,n=t.day,r=t.month,a=s.getExpectedDays(e,t.monthDay),o=t.yearDay;return t.validRules.forEach(function(t){switch(t){case"BYDAY":var h,p;h=e.getDay(),p=[],n.forEach(function(e){var t=e.match($);2===t.length?p.push(t[1]):p.push(t[0])}),-1===p.indexOf(F[parseInt(h.toString(),10)])&&(i=!1);break;case"BYMONTH":s.checkMonth(e,r)&&(i=!1);break;case"BYMONTHDAY":(function(e,t){var i,n=t.slice(0),r=s.getMonthDaysCount(e);for(i=n.shift();i;){if(i<0&&(i=i+r+1),i===e.getDate())return!1;i=n.shift()}return!0})(e,a)&&(i=!1);break;case"BYYEARDAY":(function(e,t){var i,n,r=t.slice(0),a=(L[s.getFullYear(e)]||(L[s.getFullYear(e)]=s.getYearLastDate(e,0)),i=L[s.getFullYear(e)],Math.ceil((e.getTime()-i.getTime())/l.Mb));for(n=r.shift();n;){if(n<0&&(n=n+s.getYearDaysCount(e,0)+1),n===a)return!1;n=r.shift()}return!0})(e,o)&&(i=!1)}}),i}function H(e){return"Islamic"===e?new h._:new h.l}var L={},q=["SU","MO","TU","WE","TH","FR","SA"],F=["SU","MO","TU","WE","TH","FR","SA"],W=43,z=["first","second","third","fourth","last"],B="summaryTimes",j="summaryOn",N="every",U="summaryUntil",Y="summaryDay",_="summaryWeek",Z="summaryMonth",K="summaryYear",G={SU:"sun",MO:"mon",TU:"tue",WE:"wed",TH:"thu",FR:"fri",SA:"sat"},Q=/\d/,X=/[^A-Z]+/,$=/[a-z]+|[^a-z]+/gi;function J(e){return[e.getUTCFullYear(),ee(e.getUTCMonth()+1),ee(e.getUTCDate()),"T",ee(e.getUTCHours()),ee(e.getUTCMinutes()),ee(e.getUTCSeconds()),"Z"].join("")}function ee(e){return("0"+e).slice(-2)}},30811:function(e,t,i){"use strict";i.d(t,{$b:function(){return f},AR:function(){return A},Bl:function(){return v},Cn:function(){return M},FJ:function(){return E},GE:function(){return k},II:function(){return D},LA:function(){return a},ML:function(){return d},Mr:function(){return o},S0:function(){return C},Ui:function(){return O},Vt:function(){return p},X6:function(){return V},Ys:function(){return s},ZT:function(){return I},ZW:function(){return m},_B:function(){return T},cw:function(){return u},i8:function(){return h},kj:function(){return n},m2:function(){return l},mH:function(){return S},nI:function(){return b},ru:function(){return g},u_:function(){return y},um:function(){return w},vx:function(){return x},wZ:function(){return r},xO:function(){return c}});var n="cellClick",r="cellDoubleClick",a="moreEventsClick",s="select",o="hover",l="actionBegin",h="actionComplete",p="actionFailure",c="navigating",u="renderCell",d="eventClick",m="eventRendered",v="dataBinding",g="dataBound",f="popupOpen",y="popupClose",b="inlineClick",T="cellSelect",D="virtualScrollStart",w="virtualScrollStop",C="print",S="data-ready",E="events-loaded",k="content-ready",A="scroll",V="virtual-scroll",M="scroll-ui-update",x="ui-update",I="document-click",O="cell-mouse-down"},43782:function(e,t,i){"use strict";i.d(t,{$49:function(){return ic},$BZ:function(){return ty},$m5:function(){return ew},$x_:function(){return R},ACn:function(){return eZ},AKI:function(){return e8},AVC:function(){return T},AuV:function(){return ex},AvZ:function(){return H},BYE:function(){return tN},Bgl:function(){return V},Bue:function(){return K},C9y:function(){return es},CBs:function(){return tM},CPx:function(){return il},CgT:function(){return M},Cu$:function(){return tO},DQK:function(){return th},DaF:function(){return eq},Dx9:function(){return n},E3V:function(){return e0},EAj:function(){return iN},EGW:function(){return s},EHS:function(){return ix},Ev2:function(){return iq},EyK:function(){return iV},F4U:function(){return t0},F6g:function(){return id},F9U:function(){return i_},FQW:function(){return iH},FiE:function(){return ek},Fk6:function(){return ts},G4M:function(){return ta},GWq:function(){return eX},Gb7:function(){return E},H9V:function(){return d},HKS:function(){return tF},HOk:function(){return iv},HRJ:function(){return F},HRK:function(){return b},Ik8:function(){return tC},InQ:function(){return Y},ItD:function(){return z},Ix6:function(){return x},JDZ:function(){return eb},JhI:function(){return X},JiT:function(){return l},Jj:function(){return c},Jpf:function(){return tq},KvC:function(){return tH},Kw_:function(){return eE},Kx5:function(){return a},LCM:function(){return I},LfV:function(){return ik},Lmf:function(){return iz},M8e:function(){return tB},MPN:function(){return et},MQu:function(){return ey},MSO:function(){return tL},MpA:function(){return ib},NM_:function(){return eA},NvD:function(){return tf},OPv:function(){return N},OnH:function(){return iP},OzO:function(){return g},P0O:function(){return eY},PHR:function(){return ti},PQI:function(){return ei},Pc3:function(){return e3},Q93:function(){return eo},QAI:function(){return eQ},R0k:function(){return ie},R2B:function(){return iR},R4G:function(){return tp},RFU:function(){return ia},RJd:function(){return tw},RhR:function(){return eJ},S60:function(){return e7},S7y:function(){return D},SKk:function(){return tc},SVS:function(){return en},SYL:function(){return tl},T$L:function(){return iS},T2A:function(){return tR},TBe:function(){return tS},Tb6:function(){return C},Tko:function(){return t7},TxA:function(){return t5},TxM:function(){return iy},U9N:function(){return iC},UU3:function(){return m},U_r:function(){return tK},UeK:function(){return tA},Ufx:function(){return eS},Ux$:function(){return e$},V27:function(){return iw},Vbv:function(){return ev},W52:function(){return ep},WDy:function(){return tu},WPW:function(){return iY},Wdr:function(){return ip},Wmm:function(){return o},X3y:function(){return iD},XMQ:function(){return W},XVz:function(){return iM},XkK:function(){return eg},Yn1:function(){return iL},Z6D:function(){return tn},ZL0:function(){return el},ZSp:function(){return eM},ZUH:function(){return eO},ZjX:function(){return q},Zr4:function(){return O},Zt5:function(){return t9},_63:function(){return tk},_cW:function(){return eR},a1t:function(){return tI},a5i:function(){return e1},aQc:function(){return eG},aT7:function(){return v},af4:function(){return tP},asM:function(){return tD},bLo:function(){return im},bqQ:function(){return f},cLr:function(){return eB},cSX:function(){return h},cbP:function(){return e2},csC:function(){return t1},d2X:function(){return eH},dcr:function(){return iu},dgm:function(){return eU},dqd:function(){return eT},dr5:function(){return iB},eA9:function(){return tU},eFA:function(){return em},eJG:function(){return iU},eK$:function(){return ef},eS7:function(){return ij},f4m:function(){return tt},f63:function(){return tx},f6t:function(){return ih},fnG:function(){return ed},gxJ:function(){return tz},hGV:function(){return t8},h_T:function(){return j},hzb:function(){return tj},iGk:function(){return eF},iNI:function(){return ig},iSg:function(){return tZ},ion:function(){return A},j2r:function(){return e4},jJb:function(){return e6},jKe:function(){return _},jOs:function(){return to},jaK:function(){return t$},k$u:function(){return t_},khW:function(){return tT},l3X:function(){return eC},l_s:function(){return L},lr9:function(){return iT},lw:function(){return r},mC6:function(){return P},mbx:function(){return ea},mwb:function(){return tJ},mx1:function(){return ir},nXq:function(){return w},na1:function(){return iW},nqV:function(){return u},o$$:function(){return ii},oCw:function(){return t4},oFb:function(){return tQ},o_S:function(){return G},p2T:function(){return iF},pDi:function(){return e9},pLz:function(){return tv},pMB:function(){return ee},pT$:function(){return io},pjk:function(){return iE},pqP:function(){return eu},qCi:function(){return eK},qMM:function(){return er},qV0:function(){return td},qqG:function(){return iA},qro:function(){return tr},rHD:function(){return eP},rTe:function(){return tm},rZq:function(){return ej},re0:function(){return J},rqP:function(){return tG},rqY:function(){return tg},sNi:function(){return eI},sg6:function(){return tW},sgF:function(){return tb},shB:function(){return y},t6b:function(){return e_},tM5:function(){return iI},tbt:function(){return it},tlV:function(){return Q},u_Y:function(){return ez},uot:function(){return eN},usT:function(){return B},vXb:function(){return tY},vXr:function(){return U},va0:function(){return ec},vcd:function(){return t3},vd9:function(){return eW},vkO:function(){return Z},vlB:function(){return tE},w9j:function(){return k},wGR:function(){return t2},wKf:function(){return e5},wVf:function(){return tV},wyP:function(){return tX},x83:function(){return p},xGv:function(){return eD},xHy:function(){return S},xL4:function(){return is},xhw:function(){return t6},xsK:function(){return eL},y0r:function(){return eV},yGK:function(){return te},yty:function(){return eh},yux:function(){return $},zyq:function(){return iO}});var n="e-schedule",r="e-rtl",a="e-device",s="e-multi-drag",o="e-icons",l="e-enable",h="e-disable",p="e-table-container",c="e-schedule-table",u="e-all-day-cells",d="e-header-popup",m="e-header-calendar",v="e-all-day-row",g="e-content-table",f="e-work-cells",y="e-work-hours",b="e-popup-open",T="e-popup-close",D="e-date-header-wrap",w="e-date-header-container",C="e-header-cells",S="e-header-week-cell",E="e-header-month-cell",k="e-header-year-cell",A="e-work-days",V="e-other-month",M="e-current-day",x="e-current-date",I="e-current-panel",O="e-previous-panel",R="e-next-panel",P="e-prev",H="e-next",L="e-translate",q="e-left-indent",F="e-left-indent-wrap",W="e-event-table",z="e-resource-left-td",B="e-resource-group-cells",j="e-resource-text",N="e-resource-column-wrap",U="e-resource-column-table",Y="e-child-node",_="e-parent-node",Z="e-resource-expand",K="e-resource-collapse",G="e-resource-tree-icon",Q="e-resource-cells",X="e-time-cells-wrap",$="e-time-cells",J="e-time-slots",ee="e-alternate-cells",et="e-current-time",ei="e-current-timeline",en="e-previous-timeline",er="e-hide-childs",ea="e-scroll-container",es="e-timeline-wrapper",eo="e-appointment-wrapper",el="e-day-wrapper",eh="e-schedule-toolbar-container",ep="e-schedule-resource-toolbar-container",ec="e-schedule-toolbar",eu="e-schedule-resource-toolbar",ed="e-selected-cell",em="e-week-number-wrapper",ev="e-week-number",eg="e-wrapper-container",ef="e-appointment-container",ey="e-appointment",eb="e-block-appointment",eT="e-block-indicator",eD="e-appointment-border",ew="e-appointment-details",eC="e-subject-wrap",eS="e-resource-name",eE="e-time",ek="e-table-wrap",eA="e-outer-table",eV="e-content-wrap",eM="e-virtual-track",ex="e-agenda-cells",eI="e-current-day",eO="e-active-appointment-agenda",eR="e-month-header",eP="e-day-date-header",eH="e-resource-column",eL="e-date-column",eq="e-navigate",eF="e-date-header",eW="e-day-border",ez="e-date-border",eB="e-day-padding",ej="e-date-time",eN="e-date-time-wrapper",eU="e-empty-event",eY="e-no-event",e_="e-indicator",eZ="e-up-icon",eK="e-down-icon",eG="e-left-icon",eQ="e-right-icon",eX="e-event-action",e$="e-new-event",eJ="e-drag-clone",e0="e-event-resize",e1="e-resize-clone",e9="e-left-handler",e3="e-right-handler",e2="e-top-handler",e4="e-bottom-handler",e7="e-recurrence-icon",e6="e-recurrence-edit-icon",e5="e-header-row",e8="e-all-day-appointment-wrapper",te="e-all-day-appointment",tt="e-appointment-hide",ti="e-row-count-wrapper",tn="e-all-day-appointment-section",tr="e-appointment-expand",ta="e-appointment-collapse",ts="e-more-indicator",to="e-cell-popup",tl="e-event-popup",th="e-multiple-event-popup",tp="e-popup-header",tc="e-header-icon-wrapper",tu="e-popup-content",td="e-popup-footer",tm="e-date-time-details",tv="e-recurrence-summary",tg="e-event-details",tf="e-event-create",ty="e-event-edit",tb="e-event-delete",tT="e-text-ellipsis",tD="e-more-popup-wrapper",tw="e-more-event-popup",tC="e-more-event-header",tS="e-more-event-date-header",tE="e-header-day",tk="e-header-date",tA="e-more-event-close",tV="e-more-event-content",tM="e-more-appointment-wrapper",tx="e-quick-dialog",tI="e-quick-dialog-occurrence-event",tO="e-quick-dialog-series-event",tR="e-quick-dialog-following-events",tP="e-following-events-dialog",tH="e-quick-dialog-delete",tL="e-quick-dialog-cancel",tq="e-quick-alertok",tF="e-quick-alertcancel",tW="e-quick-alertfollowing",tz="e-quick-dialog-alert-btn",tB="e-schedule-dialog",tj="e-form-container",tN="e-schedule-form",tU="e-all-day-time-zone-row",tY="e-all-day",t_="e-time-zone",tZ="e-time-zone-icon",tK="e-time-zone-details",tG="e-repeat-parent-row",tQ="e-repeat",tX="e-title-location-row",t$="e-subject",tJ="e-location",t0="e-location-icon",t1="e-location-details",t9="e-start-end-row",t3="e-start",t2="e-end",t4="e-resources-row",t7="e-description",t6="e-description-icon",t5="e-description-details",t8="e-time-zone-row",ie="e-start-time-zone",it="e-end-time-zone",ii="e-back-icon",ir="e-save-icon",ia="e-event-cancel",is="e-event-save",io="e-dialog-parent",il="e-title-text",ih="e-icon-disable",ip="e-edit",ic="e-edit-icon",iu="e-delete",id="e-delete-icon",im="e-close",iv="e-close-icon",ig="e-schedule-error",iy="e-schedule-event-tooltip",ib="e-animate",iT="e-timescale-disable",iD="e-disable-date",iw="e-hidden",iC="e-disable-dates",iS="e-quick-popup-wrapper",iE="e-popup-table",ik="e-resource-menu",iA="e-icon-menu",iV="e-resource-level-title",iM="e-resource-tree",ix="e-resource-tree-popup-overlay",iI="e-resource-tree-popup",iO="e-resource",iR="e-resource-icon",iP="e-resource-details",iH="e-date-time-icon",iL="e-virtual-scroll",iq="e-icon-disable",iF="e-auto-height",iW="e-ignore-whitespace",iz="e-template",iB="e-read-only",ij="e-inline-subject",iN="e-inline-appointment",iU="e-scroll-hidden",iY="e-all-day-scroll",i_="e-all-day-auto"},66308:function(e,t,i){"use strict";i.d(t,{$_:function(){return q},CE:function(){return r},E4:function(){return w},EK:function(){return S},Iz:function(){return M},K$:function(){return H},Mb:function(){return s},PH:function(){return f},Q9:function(){return c},R3:function(){return p},TT:function(){return E},U8:function(){return T},X$:function(){return o},Zi:function(){return I},_$:function(){return h},_m:function(){return v},aJ:function(){return a},bl:function(){return k},e8:function(){return l},ep:function(){return R},f3:function(){return P},hz:function(){return F},j9:function(){return d},qF:function(){return D},q_:function(){return y},tk:function(){return u},tq:function(){return L},uW:function(){return g},vO:function(){return m},x3:function(){return x},zI:function(){return C},zS:function(){return b},zp:function(){return O}});var n=i(92268),r=7,a=6,s=864e5,o=6e4;function l(e,t){var i=0,r=(0,n.az)("div",{className:t}).cloneNode();return r.style.visibility="hidden",r.style.position="absolute",e.appendChild(r),i=r.getBoundingClientRect().height,(0,n.Od)(r),i}function h(e,t){var i=0,r=(0,n.az)("div",{className:t}).cloneNode();return r.style.visibility="hidden",r.style.position="absolute",e.appendChild(r),i=r.getBoundingClientRect().width,(0,n.Od)(r),i}function p(e){var t=getComputedStyle(e);return window.WebKitCSSMatrix?new WebKitCSSMatrix(t.webkitTransform).m42:0}function c(e){var t=getComputedStyle(e);return window.WebKitCSSMatrix?new WebKitCSSMatrix(t.webkitTransform).m41:0}function u(e,t){var i=new Date(e.getTime());return t=(t-i.getDay()+-7)%7,new Date(i.setDate(i.getDate()+t))}function d(e,t){var i=u(e,t),n=new Date(i.getFullYear(),i.getMonth(),i.getDate()+6);return new Date(n.getTime())}function m(e){return new Date(e.getFullYear(),e.getMonth(),1)}function v(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}function g(e){var t=new Date(e.getFullYear(),0,1).valueOf();return Math.ceil((new Date(e.getFullYear(),e.getMonth(),e.getDate()).valueOf()-t+s)/s/7)}function f(e,t){return new Date(t.valueOf()-(t.valueOf()-e.valueOf())/2)}function y(e,t){var i=e.getTimezoneOffset(),n=new Date(e.getTime()+t),r=n.getTimezoneOffset()-i;return e.setTime(n.getTime()+r*o),e}function b(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())}function T(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0).getTimezoneOffset(),i=e.getTimezoneOffset();return e.getTime()-new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0).getTime()-6e4*(i-t)}function D(e,t){return Math.ceil((t.getTime()-e.getTime())/s)}function w(e,t){return e=new Date(""+e),new Date(e.setDate(e.getDate()+t))}function C(e,t){var i=(e=new Date(""+e)).getDate();return e.setDate(1),e.setMonth(e.getMonth()+t),e.setDate(Math.min(i,v(e).getDate())),e}function S(e,t,i){var n=new Date(e.getTime());n.setHours(t.getHours()),n.setMinutes(t.getMinutes()),n.setSeconds(t.getSeconds());var r=new Date(e.getTime());return 0===i.getHours()?r=w(r,1):(r.setHours(i.getHours()),r.setMinutes(i.getMinutes()),r.setSeconds(i.getSeconds())),{startHour:n,endHour:r}}function E(e,t){var i=b(new Date(e));return Math.round((b(new Date(t)).getTime()-i.getTime())/s)}function k(e){return new Date(-1!==e.indexOf("Date")?parseInt(e.match(/\d+/g).toString(),10):-1!==e.indexOf("T")?e:e.replace(/-/g,"/"))}var A=null,V=null;function M(){if(null!==A)return A;null===V&&(V=window.devicePixelRatio||window.screen.availWidth/document.documentElement.clientWidth);var e=(0,n.az)("div"),t=0;e.style.cssText="width:100px;height: 100px;overflow: scroll;position: absolute;top: -9999px;",document.body.appendChild(e);var i=devicePixelRatio?"1.10"===devicePixelRatio.toFixed(2)||devicePixelRatio<=1?Math.ceil(devicePixelRatio%1):Math.floor(devicePixelRatio%1):0;return t=e.offsetWidth-e.clientWidth-i|0,document.body.removeChild(e),A=t}function x(){var e=window.devicePixelRatio||window.screen.availWidth/document.documentElement.clientWidth;V&&V!==e&&(A=null,V=e)}function I(e,t,i,n,r){for(var a=0,s=e.length;a<s;a++)if(e[parseInt(a.toString(),10)][""+t]===i){if(!n)return a;var o=r.slice(-2)[0].field;if((n[""+o]instanceof Array?n[""+o]:[n[""+o]]).join(",").includes(e[parseInt(a.toString(),10)][r.slice(-1)[0].groupIDField]))return a}return -1}function O(e){var t=getComputedStyle(e);return e.offsetHeight+(parseInt(t.marginTop,10)||0)+(parseInt(t.marginBottom,10)||0)}function R(e){for(var t=[].slice.call(e.children),i=0;i<t.length;i++){var n=t[i];e.removeChild(n)}}function P(e){var t=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),6,1);return e.getTimezoneOffset()<Math.max(t.getTimezoneOffset(),i.getTimezoneOffset())}function H(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function L(){return window.navigator.userAgent.toLowerCase().indexOf("mobi")>-1}function q(){return window.navigator.userAgent.toLowerCase().indexOf("ipad")>-1}function F(e,t){if("multiple"===t)e=e.split(" ").map(function(e){return e.charAt(0).toLocaleUpperCase()+e.substring(1)}).join(" ");else if("single"===t){if(e[0]>="0"&&e[0]<="9"){var i=e.match(/[a-zA-Z]/);e=(0,n.le)(i)?e:e.slice(0,i.index)+e[i.index].toLocaleUpperCase()+e.slice(i.index+1)}e=e[0].toLocaleUpperCase()+e.slice(1)}return e}},50543:function(e,t,i){"use strict";i.d(t,{x:function(){return p}});var n=i(92268),r=i(63302),a=i(12878),s=i(68515),o=i(66308),l=i(43782),h=i(30811),p=function(){function e(e){this.slots=[],this.isDoubleTapped=!1,this.parent=e}return e.prototype.processData=function(e,t,i){var r=this,a=this.parent.activeView.startDate(),s=this.parent.activeView.endDate(),l=this.parent.eventFields,h=[],p=1,c=!1,u=this.parent.resourceBase?this.parent.resourceBase.resourceCollection:[];e.length>0&&(0,n.le)(e[0][l.id])&&(c=!0);for(var d=function(e){c&&(e[l.id]=p++),e=m.updateEventDateTime(e),t?m.processTimezoneChange(e,i):m.parent.isPrinting||m.parent.uiStateValues.isPreventTimezone||(e=m.processTimezone(e));for(var a=0;a<u.length;a++)(null===e[u[parseInt(a.toString(),10)].field]||0===e[u[parseInt(a.toString(),10)].field])&&(e[u[parseInt(a.toString(),10)].field]=void 0);if((0,n.le)(e[l.recurrenceRule])||""!==e[l.recurrenceRule]||(e[l.recurrenceRule]=null),!(0,n.le)(e[l.recurrenceRule])&&(0,n.le)(e[l.recurrenceID])&&!(m.parent.crudModule&&m.parent.crudModule.crudObj.isCrudAction))h=h.concat(m.generateOccurrence(e,null,!0));else if(m.parent.crudModule&&m.parent.crudModule.crudObj.isCrudAction){if(!(0,n.le)(e[l.recurrenceRule])&&(0,n.le)(e[l.recurrenceID]))for(var s=m.generateOccurrence(e,null,!0),o=function(e){var t=m.parent.eventsProcessed.filter(function(t){return t[l.startTime].getTime()-e[l.startTime].getTime()==0&&t[l.id]===e[l.id]});e.Guid=t.length>0?t[0].Guid:m.generateGuid(),h.push(e)},d=0;d<s.length;d++)o(s[d]);else{var v=m.parent.eventsProcessed.filter(function(t){return t[r.parent.eventFields.id]===e[r.parent.eventFields.id]});e.Guid=v.length>0?v[0].Guid:m.generateGuid(),h.push(e)}}else e.Guid=m.generateGuid(),h.push(e)},m=this,v=0;v<e.length;v++)d(e[v]);this.parent.eventsProcessed=[];var g=h.filter(function(e){return!e[r.parent.eventFields.isBlock]});this.parent.eventsProcessed=this.filterEvents(a,s,g);for(var f=h.filter(function(e){return e[r.parent.eventFields.isBlock]}),y=0;y<f.length;y++){var b=f[y];b[l.isAllDay]&&!(o.zS(new Date(b[l.startTime].getTime()))<o.zS(new Date(b[l.endTime].getTime())))&&(b[l.startTime]=o.zS(b[l.startTime]),b[l.endTime]=o.E4(o.zS(b[l.endTime]),1))}return this.parent.blockProcessed=f,g},e.prototype.updateEventDateTime=function(e){return"string"==typeof e[this.parent.eventFields.startTime]&&(e[this.parent.eventFields.startTime]=o.bl(e[this.parent.eventFields.startTime])),"string"==typeof e[this.parent.eventFields.endTime]&&(e[this.parent.eventFields.endTime]=o.bl(e[this.parent.eventFields.endTime])),e},e.prototype.getProcessedEvents=function(e){void 0===e&&(e=this.parent.eventsData);for(var t=[],i=0,r=e;i<r.length;i++){var a=r[i];!(0,n.le)(a[this.parent.eventFields.recurrenceRule])&&(0,n.le)(a[this.parent.eventFields.recurrenceID])?t=t.concat(this.generateOccurrence(a)):t.push(a)}return t},e.prototype.timezonePropertyChange=function(e){var t=this.parent.eventsData.concat(this.parent.blockData),i=this.processData(t,!0,e);this.parent.notify(h.mH,{processedData:i})},e.prototype.timezoneConvert=function(e){var t=this.parent.eventFields;if(e[t.startTimezone]=e[t.startTimezone]||e[t.endTimezone],e[t.endTimezone]=e[t.endTimezone]||e[t.startTimezone],this.parent.timezone){var i=e[t.startTimezone],n=e[t.endTimezone];e[t.startTime]=this.parent.tzModule.convert(e[t.startTime],this.parent.timezone,i),e[t.endTime]=this.parent.tzModule.convert(e[t.endTime],this.parent.timezone,n)}},e.prototype.processTimezoneChange=function(e,t){var i=this.parent.eventFields;e[i.isAllDay]||(t&&this.parent.timezone?(e[i.startTime]=this.parent.tzModule.convert(e[i.startTime],t,this.parent.timezone),e[i.endTime]=this.parent.tzModule.convert(e[i.endTime],t,this.parent.timezone)):!t&&this.parent.timezone?(e[i.startTime]=this.parent.tzModule.add(e[i.startTime],this.parent.timezone),e[i.endTime]=this.parent.tzModule.add(e[i.endTime],this.parent.timezone)):t&&!this.parent.timezone&&(e[i.startTime]=this.parent.tzModule.remove(e[i.startTime],t),e[i.endTime]=this.parent.tzModule.remove(e[i.endTime],t)))},e.prototype.processTimezone=function(e,t){void 0===t&&(t=!1);var i=this.parent.eventFields;if(e[i.startTimezone]||e[i.endTimezone]){var n=e[i.startTimezone]||e[i.endTimezone],r=e[i.endTimezone]||e[i.startTimezone];t?this.parent.timezone?(e[i.startTime]=this.parent.tzModule.convert(e[i.startTime],n,this.parent.timezone),e[i.endTime]=this.parent.tzModule.convert(e[i.endTime],r,this.parent.timezone),e[i.startTime]=this.parent.tzModule.remove(e[i.startTime],this.parent.timezone),e[i.endTime]=this.parent.tzModule.remove(e[i.endTime],this.parent.timezone)):(e[i.startTime]=this.parent.tzModule.remove(e[i.startTime],n),e[i.endTime]=this.parent.tzModule.remove(e[i.endTime],r)):(e[i.startTime]=this.parent.tzModule.add(e[i.startTime],n),e[i.endTime]=this.parent.tzModule.add(e[i.endTime],r),this.parent.timezone&&(e[i.startTime]=this.parent.tzModule.convert(e[i.startTime],n,this.parent.timezone),e[i.endTime]=this.parent.tzModule.convert(e[i.endTime],r,this.parent.timezone)))}else this.parent.timezone&&(t?(e[i.startTime]=this.parent.tzModule.remove(e[i.startTime],this.parent.timezone),e[i.endTime]=this.parent.tzModule.remove(e[i.endTime],this.parent.timezone)):(e[i.startTime]=this.parent.tzModule.add(e[i.startTime],this.parent.timezone),e[i.endTime]=this.parent.tzModule.add(e[i.endTime],this.parent.timezone)));return e},e.prototype.filterBlockEvents=function(e){var t,i=this.parent.eventFields,r=e[i.startTime],a=e[i.endTime];if(this.parent.activeViewOptions.group.resources.length>0){var s=this.getGroupIndexFromEvent(e);t=this.parent.resourceBase.lastResourceLevel[parseInt(s.toString(),10)]}for(var l=(0,n.l7)([],this.parent.blockProcessed,null,!0),h=0;h<l.length;h++){var p=l[h];p[i.isAllDay]&&p[i.endTime].getTime()>o.zS(new Date(p[i.endTime].getTime())).getTime()&&(p[i.startTime]=o.zS(p[i.startTime]),p[i.endTime]=o.E4(o.zS(p[i.endTime]),1))}return this.filterEvents(r,a,l,t)},e.prototype.filterEvents=function(e,t,i,n){void 0===i&&(i=this.parent.eventsProcessed);var s=this.parent.dataModule.getStartEndQuery(e,t),o=new r.h({json:i}).executeLocal(new a.A().where(s));return n&&(o=this.filterEventsByResource(n,o)),this.sortByTime(o)},e.prototype.filterEventsByRange=function(e,t,i){var n=this,r=[];return r=t&&i?this.filterEvents(t,i,e):t&&!i?e.filter(function(e){return e[n.parent.eventFields.startTime]>=t}):!t&&i?e.filter(function(e){return e[n.parent.eventFields.endTime]<=i}):e,this.sortByTime(r)},e.prototype.filterEventsByResource=function(e,t){void 0===t&&(t=this.parent.eventsProcessed);for(var i={},n=this.parent.resourceBase.resourceCollection,r=0;r<n.length;r++)i[n[parseInt(r.toString(),10)].field]=e.groupOrder[parseInt(r.toString(),10)];var a=Object.keys(i);return t.filter(function(e){return a.every(function(t){return e[""+t]instanceof Array?e[""+t].indexOf(i[""+t])>-1:e[""+t]===i[""+t]})})},e.prototype.sortByTime=function(e){if(this.parent.eventSettings.sortComparer&&("function"==typeof this.parent.eventSettings.sortComparer||"string"==typeof this.parent.eventSettings.sortComparer))e=this.customSorting(e);else{var t=this.parent.eventFields;e.sort(function(e,i){var n=e[t.startTime],r=i[t.startTime];return n.getTime()-r.getTime()})}return e},e.prototype.sortByDateTime=function(e){if(this.parent.eventSettings.sortComparer&&("function"==typeof this.parent.eventSettings.sortComparer||"string"==typeof this.parent.eventSettings.sortComparer))e=this.customSorting(e);else{var t=this.parent.eventFields;e.sort(function(e,i){var n=e[t.startTime],r=i[t.startTime],a=e[t.endTime],s=i[t.endTime],o=a.getTime()-n.getTime(),l=s.getTime()-r.getTime();return n.getTime()-r.getTime()||l-o})}return e},e.prototype.customSorting=function(e){if("function"==typeof this.parent.eventSettings.sortComparer)return this.parent.eventSettings.sortComparer.call(this.parent,e);if("string"==typeof this.parent.eventSettings.sortComparer){var t=this.parent.eventSettings.sortComparer.split("."),i=void 0;if((0,n.le)(window)||(i=window[t[t.length-1]]),i)return i(e)}return e},e.prototype.getSmallestMissingNumber=function(e){for(var t=Math.max.apply(Math,e),i=0;i<t;i++)if(-1===e.indexOf(i))return i;return t+1},e.prototype.splitEventByDay=function(e){var t=this.parent.eventFields,i=[],r=e[t.startTime],a=e[t.endTime];if(o.zS(new Date(r.getTime()))<o.zS(new Date(a.getTime())))for(var s=new Date(r.getTime()),l=o.E4(o.zS(new Date(r.getTime())),1),h=0===a.getHours()&&0===a.getMinutes()?a:o.E4(a,1),p=1,c=o.TT(r.getTime(),h.getTime());l<=a&&s.getTime()!==l.getTime();){var u=(0,n.l7)({},e);u[t.startTime]=s,u[t.endTime]=l,u.data={index:p,count:c},u.Guid=this.generateGuid(),u.isSpanned=!0,i.push(u),s=l,o.zS(new Date(s.getTime())).getTime()===o.zS(new Date(a.getTime())).getTime()&&l.getTime()!==a.getTime()?(l=new Date(s.getTime()),l=new Date(l.setHours(a.getHours(),a.getMinutes(),a.getSeconds()))):l=o.E4(o.zS(new Date(s.getTime())),1),p++}else i.push(e);return i},e.prototype.splitEvent=function(e,t){var i=this.parent.eventFields,r=o.zS(e[i.startTime]).getTime(),a=o.zS(e[i.endTime]).getTime();if(0>=o.U8(e[i.endTime])){var s=o.E4(o.zS(e[i.endTime]),-1).getTime();a=r>s?r:s}var l=r,h=a,p=[];if(r!==a){r<t[0].getTime()&&(r=t[0].getTime()),a>t[t.length-1].getTime()&&(a=t[t.length-1].getTime());for(var c=r,u=0;u<this.slots.length;u++){var d=this.slots[parseInt(u.toString(),10)];if("WorkWeek"===this.parent.currentView||"TimelineWorkWeek"===this.parent.currentView||this.parent.activeViewOptions.group.byDate||this.parent.activeViewOptions.showWeekend){for(var m=[],v=0,g=d;v<g.length;v++){var f=g[v];m.push(new Date(f))}var y=this.getRenderedDates(m);if(!(0,n.le)(y)&&y.length>0){d=[];for(var b=0;b<y.length;b++){var T=y[b];d.push(T.getTime())}}}if("number"==typeof d){var s=d;(d=[]).push(s)}var D=d[0];if((c=c<=D&&a>=D?D:c)>a||D>a)break;if(!this.parent.activeViewOptions.group.byDate&&this.parent.activeViewOptions.showWeekend&&"WorkWeek"!==this.parent.currentView&&"TimelineWorkWeek"!==this.parent.currentView){var w=d.indexOf(c);if(-1!==w){var C=d.indexOf(a),S=-1!==C,E=(C=S?C:d.length-1)-w+1,k=d[parseInt(w.toString(),10)]!==l,A=d[parseInt(C.toString(),10)]!==h;if(p.push(this.cloneEventObject(e,d[parseInt(w.toString(),10)],d[parseInt(C.toString(),10)],E,k,A)),S)break}}else if(this.dateInRange(c,d[0],d[d.length-1])){for(var V=[],M=0;M<d.length;M++)this.dateInRange(d[parseInt(M.toString(),10)],l,h)&&V.push(d[parseInt(M.toString(),10)]);if(V.length>0){if(this.parent.activeViewOptions.group.byDate)for(var x=0;x<V.length;x++){var I=V[x];p.push(this.cloneEventObject(e,I,I,1,I!==l,I!==h))}else{var k=V[0]!==l,A=V[V.length-1]!==h;p.push(this.cloneEventObject(e,V[0],V[V.length-1],V.length,k,A))}}}}}else p.push(this.cloneEventObject(e,r,a,1,!1,!1));return p},e.prototype.cloneEventObject=function(e,t,i,r,a,s){var o=this.parent.eventFields,l=(0,n.l7)({},e,null,!0),h={count:r,isLeft:a,isRight:s};return h[o.startTime]=e[o.startTime],h[o.endTime]=e[o.endTime],l.data=h,l[o.startTime]=new Date(t),l[o.endTime]=new Date(i),l},e.prototype.dateInRange=function(e,t,i){return t<=e&&e<=i},e.prototype.getSelectedEventElements=function(e){if(this.removeSelectedAppointmentClass(),this.parent.selectedElements.length<=0)this.parent.selectedElements.push(e);else if(this.parent.selectedElements.filter(function(t){return t.getAttribute("data-guid")===e.getAttribute("data-guid")}).length<=0)for(var t='div[data-guid="'+e.getAttribute("data-guid")+'"]',i=[].slice.call(this.parent.element.querySelectorAll(t)),n=0;n<i.length;n++){var r=i[n];this.parent.selectedElements.push(r)}else{var a=this.parent.selectedElements.filter(function(t){return t.getAttribute("data-guid")!==e.getAttribute("data-guid")});this.parent.selectedElements=a}return e&&this.parent.selectedElements.length>0&&this.addSelectedAppointments(this.parent.selectedElements,!1),this.parent.selectedElements},e.prototype.getSelectedEvents=function(){var e=this,t=[],i=[];return[].slice.call(this.parent.element.querySelectorAll("."+l.xGv)).filter(function(n){0===t.filter(function(e){return e.Guid===n.getAttribute("data-guid")}).length&&t.push(e.getEventByGuid(n.getAttribute("data-guid"))),i.push(n)}),{event:t.length>1?t:t[0],element:i.length>1?i:i[0]}},e.prototype.removeSelectedAppointmentClass=function(){var e=this.getSelectedAppointments();(0,n.IV)(e,l.xGv),("Agenda"===this.parent.currentView||"MonthAgenda"===this.parent.currentView)&&(0,n.IV)(e,l.ZUH)},e.prototype.addSelectedAppointments=function(e,t){"MonthAgenda"!==this.parent.currentView&&this.parent.removeSelectedClass(),(0,n.cn)(e,l.xGv),e.length>0&&!t&&e[e.length-1].focus()},e.prototype.getSelectedAppointments=function(){return[].slice.call(this.parent.element.querySelectorAll("."+l.xGv+",."+l.MQu+":focus"))},e.prototype.focusElement=function(e){if(!this.parent.eventWindow.dialogObject||!this.parent.eventWindow.dialogObject.visible){var t=document.activeElement,i=this.parent.getSelectedCells();if(i.length>0&&(t&&(this.parent.element.contains(t)||-1!==i.indexOf(t))||e)){if(this.parent.keyboardInteractionModule){var r=!(0,n.le)(this.parent.activeCellsData)&&this.parent.activeCellsData.element||i[i.length-1];this.parent.keyboardInteractionModule.selectCells(r instanceof Array,r)}return}var a=this.getSelectedAppointments();if(a.length>0){if(this.parent.activeEventData&&this.parent.activeEventData.element&&a.indexOf(this.parent.activeEventData.element)>-1){this.parent.activeEventData.element.focus();return}a[a.length-1].focus();return}}},e.prototype.selectWorkCellByTime=function(e){var t;if("Agenda"===this.parent.currentView||"MonthAgenda"===this.parent.currentView)return t;if(e.length>0){var i=e[e.length-1],n=i[this.parent.eventFields.startTime],r=new Date(+n).setMinutes(0,0,0),a=this.isAllDayAppointment(i);("Month"===this.parent.currentView||a)&&(r=new Date(+n).setHours(0,0,0,0));var s=void 0;s=a&&-1!==["Day","Week","WorkWeek"].indexOf(this.parent.currentView)?this.parent.getAllDayRow():this.parent.getContentTable();var o='[data-date="'+new Date(r).getTime()+'"]';this.parent.activeViewOptions.group.resources.length>0&&(o+='[data-group-index="'+this.getGroupIndexFromEvent(i)+'"]'),(t=s.querySelector(o))&&(this.parent.activeCellsData=this.parent.getCellDetails(t),this.parent.keyboardInteractionModule&&this.parent.keyboardInteractionModule.selectCells(!1,t))}return t},e.prototype.getGroupIndexFromEvent=function(e){for(var t,i,r,a,s=this.parent.resourceBase.resourceCollection.length-1;s>=0;s--){var o=e[this.parent.resourceBase.resourceCollection[parseInt(s.toString(),10)].field];if(!(0,n.le)(o)){i=this.parent.resourceBase.resourceCollection[parseInt(s.toString(),10)],t=s,r=i.name,a=i.field;break}}(0,n.le)(r)&&(0,n.le)(t)&&(r=this.parent.resourceCollection.slice(-1)[0].name,t=this.parent.resourceCollection.length-1,a=this.parent.resourceCollection.slice(-1)[0].field,i=this.parent.resourceCollection.filter(function(e,i){return e.name===r?(t=i,e):null})[0]);var l=e[""+a]instanceof Array?e[""+a][0]:e[""+a];if(!(t>0))return this.parent.resourceBase.getIndexFromResourceId(l,r,i);var h=this.parent.resourceCollection[t-1].field;return this.parent.resourceBase.getIndexFromResourceId(l,r,i,e,h)},e.prototype.isAllDayAppointment=function(e){var t=this.parent.eventFields,i=e[t.isAllDay],n=(o.K$(e[t.endTime])-o.K$(e[t.startTime]))/o.Mb>=1;return!!i||"TimeSlot"!==this.parent.eventSettings.spannedEventPlacement&&!!n},e.prototype.addEventListener=function(){this.parent.on(h.ZT,this.appointmentBorderRemove,this)},e.prototype.removeEventListener=function(){this.parent.off(h.ZT,this.appointmentBorderRemove)},e.prototype.appointmentBorderRemove=function(e){var t=e.event.target;(0,n.oq)(t,"."+l.MQu)?"MonthAgenda"!==this.parent.currentView&&this.parent.removeSelectedClass():(0,n.oq)(t,"."+l.HRK)||(this.removeSelectedAppointmentClass(),this.parent.selectedElements=[])},e.prototype.wireAppointmentEvents=function(e,t,i){void 0===i&&(i=!1);var r=!(0,n.le)(t)&&t[this.parent.eventFields.isReadonly];n.bi.add(e,"click",this.eventClick,this),this.parent.isAdaptive||this.parent.activeViewOptions.readonly||r||(n.bi.add(e,"touchstart",this.eventTouchClick,this),n.bi.add(e,"dblclick",this.eventDoubleClick,this)),this.parent.activeViewOptions.readonly||r||i||(this.parent.resizeModule&&this.parent.resizeModule.wireResizeEvent(e),this.parent.dragAndDropModule&&this.parent.dragAndDropModule.wireDragEvent(e))},e.prototype.eventTouchClick=function(e){var t=this;setTimeout(function(){return t.isDoubleTapped=!1},250),e.preventDefault(),this.isDoubleTapped?this.eventDoubleClick(e):this.isDoubleTapped||(this.isDoubleTapped=!0,this.eventClick(e))},e.prototype.renderResizeHandler=function(e,t,i){if(this.parent.resizeModule&&this.parent.allowResizing&&!this.parent.activeViewOptions.readonly&&!i)for(var r=0,a=Object.keys(t);r<a.length;r++){var s=a[r],o=(0,n.az)("div",{className:l.E3V});switch(s){case"isLeft":t.isLeft||(o.appendChild((0,n.az)("div",{className:"e-left-right-resize"})),(0,n.cn)([o],this.parent.enableRtl?l.Pc3:l.pDi),(0,n.Ce)([o],e));break;case"isRight":t.isRight||(o.appendChild((0,n.az)("div",{className:"e-left-right-resize"})),(0,n.cn)([o],this.parent.enableRtl?l.pDi:l.Pc3),(0,n.R3)([o],e));break;case"isTop":t.isTop||(o.appendChild((0,n.az)("div",{className:"e-top-bottom-resize"})),(0,n.cn)([o],l.cbP),(0,n.Ce)([o],e));break;case"isBottom":t.isBottom||(o.appendChild((0,n.az)("div",{className:"e-top-bottom-resize"})),(0,n.cn)([o],l.j2r),(0,n.R3)([o],e))}}},e.prototype.eventClick=function(e){var t=this,i=e.target;if(!(i.classList.contains(l.RhR)||i.classList.contains(l.a5i)||i.classList.contains(l.eS7))){if((e.ctrlKey||e.metaKey)&&1===e.which&&this.parent.keyboardInteractionModule){this.parent.quickPopup.quickPopup.hide(),this.parent.selectedElements=[].slice.call(this.parent.element.querySelectorAll("."+l.xGv));var r=(0,n.oq)(e.target,"."+l.MQu);this.getSelectedEventElements(r),this.activeEventData(e,!1);var a={data:this.parent.activeEventData.event,element:this.parent.activeEventData.element,event:e,requestType:"eventSelect"};this.parent.trigger(h.Ys,a);var s=(0,n.l7)(this.parent.activeEventData,{cancel:!1,originalEvent:e});this.parent.trigger(h.ML,s)}else{this.removeSelectedAppointmentClass(),this.activeEventData(e,!0);var o={data:this.parent.activeEventData.event,element:this.parent.activeEventData.element,event:e,requestType:"eventSelect"};this.parent.trigger(h.Ys,o);var s=(0,n.l7)(this.parent.activeEventData,{cancel:!1,originalEvent:e});this.parent.trigger(h.ML,s,function(e){if(e.cancel)t.removeSelectedAppointmentClass(),t.parent.selectedElements=[],t.parent.quickPopup&&t.parent.quickPopup.quickPopupHide();else if(("Agenda"===t.parent.currentView||"MonthAgenda"===t.parent.currentView)&&(0,n.cn)([t.parent.activeEventData.element],l.ZUH),t.parent.allowInline){var i={data:e.event,element:e.element,type:"Event"};t.parent.notify(h.nI,i)}else t.parent.notify(h.ML,e)})}}},e.prototype.eventDoubleClick=function(e){this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide(!0),"touchstart"===e.type&&this.activeEventData(e,!0),this.removeSelectedAppointmentClass(),this.parent.selectedElements=[],this.parent.activeEventData.element.classList.contains(l.EAj)||this.parent.activeEventData.element.querySelector("."+l.eS7)||(!(0,n.le)(this.parent.activeEventData.event)&&(0,n.le)(this.parent.activeEventData.event[this.parent.eventFields.recurrenceID])?this.parent.eventWindow.openEditor(this.parent.activeEventData.event,"Save"):(this.parent.currentAction="EditOccurrence",this.parent.quickPopup.openRecurrenceAlert()))},e.prototype.getEventByGuid=function(e){return this.parent.eventsProcessed.filter(function(t){return t.Guid===e})[0]},e.prototype.getEventById=function(e){var t=this;return this.parent.eventsData.filter(function(i){return i[t.parent.eventFields.id]===e})[0]},e.prototype.generateGuid=function(){return"xyxxxxyx-xxxy-yxxx-xyxx-xxyxxxxyyxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},e.prototype.getEventIDType=function(){return 0!==this.parent.eventsData.length?typeof this.parent.eventsData[0][this.parent.eventFields.id]:0!==this.parent.blockData.length?typeof this.parent.blockData[0][this.parent.eventFields.id]:"string"},e.prototype.getEventMaxID=function(e){var t,i=this;if(this.parent.eventsData.length<1&&this.parent.blockData.length<1)return 1;var r=this.getEventIDType();if("string"===r&&(t=this.generateGuid()),"number"===r){var a=this.parent.eventsData.concat(this.parent.blockData).map(function(e){return e[i.parent.eventFields.id]}).reduce(function(e,t){return Math.max(e,t)});t=(a=(0,n.le)(e)?a:a+e)+1}return t},e.prototype.activeEventData=function(e,t){var i=this,r=(0,n.oq)(e.target,"."+l.MQu),a=r.getAttribute("data-guid");t&&(this.addSelectedAppointments([].slice.call(this.parent.element.querySelectorAll('div[data-guid="'+a+'"]')),!0),r.focus());var s=this.getEventByGuid(a);s&&s.isSpanned&&(s=this.parent.eventsData.filter(function(e){return e[i.parent.eventFields.id]===s[i.parent.eventFields.id]})[0]),this.parent.activeEventData={event:s,element:r}},e.prototype.generateOccurrence=function(e,t,i){var r,a=e[this.parent.eventFields.startTime],l=e[this.parent.eventFields.endTime],h=e[this.parent.eventFields.recurrenceRule],p=l.getTimezoneOffset()-a.getTimezoneOffset(),c=l.getTime()-a.getTime()-6e4*p;t=new Date((t||this.parent.activeView.startDate()).getTime()-c);var u=e[this.parent.eventFields.recurrenceException];"Agenda"!==this.parent.currentView&&i&&(r=o.qF(t,this.parent.activeView.endDate())+1);var d=this.parent.timezone||this.parent.tzModule.getLocalTimezoneName(),m=this.parent.activeViewOptions.firstDayOfWeek,v=this.parent.calendarMode,g=(0,s.R_)(a,h,u,m,r,t,v,d);"Agenda"===this.parent.currentView&&-1===h.indexOf("COUNT")&&-1===h.indexOf("UNTIL")&&((0,n.le)(e.generatedDates)?e.generatedDates={start:new Date(g[0]),end:new Date(g[g.length-1])}:(g[0]<e.generatedDates.start.getTime()&&(e.generatedDates.start=new Date(g[0])),g[g.length-1]>e.generatedDates.end.getTime()&&(e.generatedDates.end=new Date(g[g.length-1]))));for(var f=[],y=0;y<g.length;y++){var b=g[y],T=(0,n.l7)({},e,null,!0);b=this.getDSTAdjustedTime(b,T),T[this.parent.eventFields.startTime]=new Date(b),T[this.parent.eventFields.endTime]=new Date(new Date(b).setMilliseconds(c)),T[this.parent.eventFields.recurrenceID]=T[this.parent.eventFields.id],delete T[this.parent.eventFields.recurrenceException],delete T[this.parent.eventFields.followingID],T.Guid=this.generateGuid(),f.push(T)}return f},e.prototype.getDSTAdjustedTime=function(e,t){var i=e;if(this.parent.timezone&&(t[this.parent.eventFields.startTimezone]||t[this.parent.eventFields.endTimezone])){var n=this.getDSTDiff(t[this.parent.eventFields.startTime],new Date(e),t[this.parent.eventFields.startTimezone]),r=this.getDSTDiff(t[this.parent.eventFields.startTime],new Date(e),this.parent.timezone);i=new Date(e).getTime()-(n-r)*6e4}return i},e.prototype.getDSTDiff=function(e,t,i){return this.parent.tzModule.offset(new Date(e),i)-this.parent.tzModule.offset(new Date(t),i)},e.prototype.getParentEvent=function(e,t){void 0===t&&(t=!1);do(e=this.getFollowingEvent(e))&&(i=(0,n.l7)({},e,null,!0));while(e&&t);if(t&&i){var i,r=this.getEventCollections(i),a=r.follow.slice(-1)[0];r.occurrence.length>0&&!i[this.parent.eventFields.recurrenceException]&&(a=r.occurrence.slice(-1)[0]),a&&(i[this.parent.eventFields.recurrenceRule]=a[this.parent.eventFields.recurrenceRule])}return i},e.prototype.getEventCollections=function(e,t){var i=[],n=[],r=e;do(r=this.getFollowingEvent(r,!0))&&i.push(r),n=n.concat(this.getOccurrenceEvent(r||e));while(r);var a={};if(t){var s=this.parent.eventFields;a={follow:i.filter(function(e){return e[s.startTime]>=t[s.startTime]}),occurrence:n.filter(function(e){return e[s.startTime]>=t[s.startTime]})}}else a={follow:i,occurrence:n};return a},e.prototype.getFollowingEvent=function(e,t){var i,n=this.parent.eventFields;return i=t?e[n.id]:e[n.recurrenceID]||e[n.followingID],this.parent.eventsData.filter(function(e){return e[t?n.followingID:n.id]===i}).shift()},e.prototype.isFollowingEvent=function(e,t){var i=e[this.parent.eventFields.startTime],n=t[this.parent.eventFields.startTime];return i.getHours()===n.getHours()&&i.getMinutes()===n.getMinutes()&&i.getSeconds()===n.getSeconds()},e.prototype.getOccurrenceEvent=function(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);var n=t?"Guid":i?this.parent.eventFields.followingID:this.parent.eventFields.recurrenceID,r=t?"Guid":this.parent.eventFields.id;return(t?this.parent.eventsProcessed:this.parent.eventsData).filter(function(t){return t[""+n]===e[""+r]})},e.prototype.getOccurrencesByID=function(e){for(var t=this.parent.eventFields,i=[],r=this.parent.eventsData.filter(function(i){return i[t.id]===e}),a=0;a<r.length;a++){var s=r[a];(0,n.le)(s[t.recurrenceRule])||(i=i.concat(this.generateOccurrence(s)))}return i},e.prototype.getOccurrencesByRange=function(e,t){for(var i=this.parent.eventFields,r=[],a=0,s=this.parent.eventsData;a<s.length;a++){var o=s[a];(0,n.le)(o[i.recurrenceRule])||(r=r.concat(this.generateOccurrence(o)))}return r.filter(function(r){return r[i.startTime]>=e&&r[i.endTime]<=t&&!(0,n.le)(r[i.recurrenceID])})},e.prototype.getDeletedOccurrences=function(e){var t,i=this.parent.eventFields,r=[];if((t="string"==typeof e||"number"==typeof e?this.parent.eventsData.filter(function(t){return t[i.id]===e})[0]:(0,n.l7)({},e,null,!0))[i.recurrenceException])for(var a=t[i.recurrenceException].split(","),o=function(o,h){if(0===l.parent.eventsData.filter(function(e){return e[i.recurrenceID]===t[i.id]&&e[i.recurrenceException]===a[parseInt(o.toString(),10)]}).length){var p=(0,s.IC)(a[parseInt(o.toString(),10)]),c=(0,n.l7)({},e,null,!0);c[i.recurrenceID]=t[i.id],delete c[i.followingID],c[i.recurrenceException]=a[parseInt(o.toString(),10)];var u=new Date(p.getTime()),d=t[i.endTime].getTime()-t[i.startTime].getTime(),m=new Date(u.getTime());m.setMilliseconds(d),c[i.startTime]=new Date(u.getTime()),c[i.endTime]=new Date(m.getTime()),r.push(c)}},l=this,h=0,p=a.length;h<p;h++)o(h,p);return r},e.prototype.applyResourceColor=function(e,t,i,r,a){if(this.parent.resourceBase){var s,o=this.parent.resourceBase.getResourceColor(t,r);o&&(e.style[i]=(0,n.le)(a)?o:"rgba("+parseInt((s=(s=o).replace("#","")).substring(0,s.length/3),16)+", "+parseInt(s.substring(s.length/3,2*s.length/3),16)+", "+parseInt(s.substring(2*s.length/3,3*s.length/3),16)+", "+a+")")}},e.prototype.createBlockAppointmentElement=function(e,t,i){var r,a=e[this.parent.eventFields.subject]||this.parent.eventSettings.fields.subject.default,s=(0,n.az)("div",{className:l.JDZ,attrs:{"data-id":"Appointment_"+e[this.parent.eventFields.id],"aria-disabled":"true"}});if((0,n.le)(this.parent.activeViewOptions.eventTemplate)){var o=(0,n.az)("div",{className:l.jaK});this.parent.sanitize(a,o),r=[o]}else{var h=this.parent.element.id+"_",p=this.parent.activeViewOptions.eventTemplateName,c="eventTemplate"+(i&&-1===this.parent.currentView.indexOf("Year")?"_"+t:"");r=this.parent.getAppointmentTemplate()(e,this.parent,c,h+p+"eventTemplate",!1)}return(0,n.R3)(r,s),this.setWrapperAttributes(s,t),s},e.prototype.setWrapperAttributes=function(e,t){(0,n.le)(this.cssClass)||(0,n.cn)([e],this.cssClass),this.parent.activeViewOptions.group.resources.length>0&&e.setAttribute("data-group-index",t.toString())},e.prototype.getReadonlyAttribute=function(e){return(e[this.parent.eventFields.isReadonly]||this.parent.readonly).toString()},e.prototype.isBlockRange=function(e){for(var t=e instanceof Array?e:[e],i=!1,r=this.parent.eventFields,a=0;a<t.length;a++){var s=t[a],o=[];!(0,n.le)(s[r.recurrenceRule])&&((0,n.le)(s[r.recurrenceID])||s[r.id]===s[r.recurrenceID])?o=this.generateOccurrence(s):o.push(s);for(var l=0,h=o;l<h.length;l++){var p=h[l];if(this.filterBlockEvents(p).length>0){i=!0;break}}}return this.parent.uiStateValues.isBlock=i,i},e.prototype.getFilterEventsList=function(e,t){return new r.h(e).executeLocal(new a.A().where(t))},e.prototype.getSeriesEvents=function(e,t){var i,r,s,o=this.parent.eventFields;t=(0,n.le)(t)?e[o.startTime]:t;var l=[],h=e[o.id],p=e[o.followingID],c="EditSeries"===this.parent.currentAction?"greaterthan":"greaterthanorequal";do s=new a.$(o.followingID,"equal",h).and(new a.$(o.startTime,c,t)),i=(r=this.getFilterEventsList(this.parent.eventsData,s)).slice(-1)[0],(0,n.le)(i)||i[o.id]===p?p=null:(l.push(i),h=i[o.id],p=i[o.followingID]);while(1===r.length&&!(0,n.le)(i[o.followingID]));return l},e.prototype.getEditedOccurrences=function(e,t){for(var i,n=this.parent.eventFields,r=[],s=0;s<e.length;s++){var o=e[s],l=new a.$(n.recurrenceID,"equal",o[n.id]).or(new a.$(n.recurrenceID,"equal",o[n.followingID]).and(new a.$(n.recurrenceID,"notequal",void 0)).and(new a.$(n.recurrenceID,"notequal",null)));("EditFollowingEvents"===this.parent.currentAction||"DeleteFollowingEvents"===this.parent.currentAction)&&(l=l.and(new a.$(n.startTime,"greaterthanorequal",t))),i=this.getFilterEventsList(this.parent.eventsData,l),r=r.concat(i)}return r},e.prototype.getRenderedDates=function(e){var t,i=0,n=e.length;if(e[0]<this.parent.minDate&&e[e.length-1]>this.parent.maxDate){for(var r=0;r<e.length;r++)o.zS(e[parseInt(r.toString(),10)]).getTime()===o.zS(new Date(this.parent.minDate)).getTime()&&(i=r),o.zS(e[parseInt(r.toString(),10)]).getTime()===o.zS(new Date(this.parent.maxDate)).getTime()&&(n=r);t=e.filter(function(t){return t>=e[parseInt(i.toString(),10)]&&t<=e[parseInt(n.toString(),10)]})}return t},e.prototype.isValidEvent=function(e,t,i,n){var r=i.getTime()>n.startHour.getTime()&&t.getTime()<n.endHour.getTime(),a=n.startHour.getTime()<=t.getTime()&&e[this.parent.eventFields.startTime].getTime()>=n.startHour.getTime()&&e[this.parent.eventFields.endTime].getTime()<n.endHour.getTime()&&t.getTime()===i.getTime();return r||a},e.prototype.allDayExpandScroll=function(e){var t=0;[].slice.call(this.parent.element.querySelectorAll("."+l.wKf)).forEach(function(e){[].slice.call(e.children).forEach(function(e){e.style.top=t+"px"}),t+=e.offsetHeight}),t=e.offsetHeight-t,this.parent.element.querySelector("."+l.nqV).style.height=t/12+"em",this.parent.uiStateValues.expand?(0,n.cn)([e],l.WPW):(0,n.IV)([e],l.WPW)},e.prototype.updateEventMinimumDuration=function(e,t,i){if(t.getTime()<i.getTime()&&(o.K$(i)-o.K$(t))/o.X$<this.parent.eventSettings.minimumEventDuration){var n=new Date(t);if(n.setMinutes(n.getMinutes()+this.parent.eventSettings.minimumEventDuration),(i=n).getTime()>e.endHour.getTime()){var r=new Date(e.endHour.getTime());r.setMinutes(r.getMinutes()-this.parent.eventSettings.minimumEventDuration),t=r,i=e.endHour}}return{startDate:t,endDate:i}},e.prototype.createEventWrapper=function(e,t){void 0===e&&(e=""),void 0===t&&(t=0);for(var i=(0,n.az)("tr"),r=this.parent.activeView.colLevels.slice(-1)[0],a=0,s=r.length;a<s;a++){var o=r[parseInt(a.toString(),10)],h=(0,n.az)("td",{className:"allDay"===e?l.AKI:"timeIndicator"===e?l.C9y:l.ZL0,attrs:{"data-date":o.date.getTime().toString()}});if((0,n.le)(o.groupIndex)||h.setAttribute("data-group-index",o.groupIndex.toString()),""===e){var p=(0,n.az)("div",{id:l.Q93+"-"+t.toString(),className:l.Q93});h.appendChild(p)}i.appendChild(h),t+=1}return i},e.prototype.getPageCoordinates=function(e){if((0,n.le)(e))return e;var t=e.event;return t&&t.changedTouches?t.changedTouches[0]:e.changedTouches?e.changedTouches[0]:t||e},e.prototype.renderSpannedIcon=function(e,t){var i=(0,n.az)("div",{className:l.t6b+" "+l.Wmm});if(t.isLeft){var r=i.cloneNode();(0,n.cn)([r],l.aQc),(0,n.Ce)([r],e)}if(t.isRight){var a=i.cloneNode();(0,n.cn)([a],l.QAI),(0,n.R3)([a],e)}if(t.isTop){var s=i.cloneNode();(0,n.cn)([s],l.ACn),(0,n.Ce)([s],e)}if(t.isBottom){var o=i.cloneNode();(0,n.cn)([o],l.qCi),(0,n.R3)([o],e)}},e.prototype.unWireEvents=function(){for(var e=[].slice.call(this.parent.element.querySelectorAll("."+l.MQu)),t=0;t<e.length;t++){var i=e[t];n.bi.clearEvents(i)}},e.prototype.destroy=function(){this.unWireEvents(),this.parent=null},e}()},12162:function(e,t,i){"use strict";i.d(t,{T:function(){return p}});var n,r=i(92268),a=i(50543),s=i(43782),o=i(30811),l=i(66308),h=(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),p=function(e){function t(t){var i=e.call(this,t)||this;return i.renderedEvents=[],i.monthHeaderHeight=0,i.moreIndicatorHeight=19,i.renderType="day",i.element=i.parent.activeView.getPanel(),i.fields=i.parent.eventFields,i.maxHeight=i.parent.eventSettings.enableMaxHeight&&!i.parent.eventSettings.enableIndicator&&!i.parent.rowAutoHeight,i.withIndicator=i.parent.eventSettings.enableMaxHeight&&i.parent.eventSettings.enableIndicator&&!i.parent.rowAutoHeight,i.maxOrIndicator=i.maxHeight||i.withIndicator,i.moreIndicatorHeight=i.parent.rowAutoHeight&&i.parent.eventSettings.ignoreWhitespace?0:i.moreIndicatorHeight,i.addEventListener(),i}return h(t,e),t.prototype.removeEventWrapper=function(e){if(e.length>0){e="Month"!==this.parent.currentView&&(this.parent.activeView.isTimelineView()||this.parent.activeViewOptions.timeScale.enable)?[e[0]]:e;for(var t=0,i=e;t<i.length;t++){var n=i[t];n.parentElement&&n.parentElement.parentNode&&(0,r.Od)(n.parentElement)}}},t.prototype.renderAppointments=function(){this.parent.dragAndDropModule&&this.parent.dragAndDropModule.setDragArea(),this.isResourceEventTemplate=this.parent.isSpecificResourceEvents();var e=this.parent.element.querySelector("."+s.y0r);this.parent.rowAutoHeight&&(this.parent.uiStateValues.top=e.scrollTop,this.parent.uiStateValues.left=e.scrollLeft);var t=[].slice.call(this.element.querySelectorAll("."+s.Q93));if(this.parent.crudModule&&this.parent.crudModule.crudObj.isCrudAction)for(var i=0,n=this.parent.crudModule.crudObj.sourceEvent.length;i<n;i++){var a=[].slice.call(this.element.querySelectorAll('.e-appointment-wrapper [data-group-index="'+this.parent.crudModule.crudObj.sourceEvent[parseInt(i.toString(),10)].groupIndex+'"]'));if(this.removeEventWrapper(a),this.parent.crudModule.crudObj.targetEvent[parseInt(i.toString(),10)]&&this.parent.crudModule.crudObj.sourceEvent[parseInt(i.toString(),10)].groupIndex!==this.parent.crudModule.crudObj.targetEvent[parseInt(i.toString(),10)].groupIndex){var h=[].slice.call(this.element.querySelectorAll('.e-appointment-wrapper [data-group-index="'+this.parent.crudModule.crudObj.targetEvent[parseInt(i.toString(),10)].groupIndex+'"]'));this.removeEventWrapper(h)}}else for(var p=0;p<t.length;p++){var c=t[p];(0,r.Od)(c)}if(this.removeHeightProperty(s.OzO),this.element.querySelector("."+s.bqQ)){if("Month"===this.parent.currentView){var u=(0,r.az)("div",{className:s.Q93}),d=this.parent.element.querySelector("."+s.bqQ);d.appendChild(u),this.monthHeaderHeight=u.offsetTop-d.offsetTop,d.removeChild(u)}this.eventHeight=l.e8(this.element,s.MQu);var m=e.scrollTop;if(this.parent.rowAutoHeight&&this.parent.virtualScrollModule&&!this.parent.virtualScrollModule.isHorizontalScroll&&!(0,r.le)(this.parent.currentAction)&&(e.scrollTop=e.scrollTop-1),this.parent.activeViewOptions.group.resources.length>0?(this.renderResourceEvents(),this.parent.virtualScrollModule&&this.parent.virtualScrollModule.updateFocusedWorkCell()):this.renderEventsHandler(this.parent.activeView.renderDates,this.parent.activeViewOptions.workDays),this.parent.rowAutoHeight){this.updateBlockElements();var v={cssProperties:this.parent.getCssProperties(),module:this.parent.getModuleName(),isPreventScrollUpdate:!0,scrollPosition:{left:this.parent.uiStateValues.left,top:this.parent.uiStateValues.top}};if(this.parent.virtualScrollModule&&!this.parent.virtualScrollModule.isHorizontalScroll&&(this.parent.currentAction?(e.scrollTop=m,this.parent.currentAction=null):this.parent.virtualScrollModule.updateVirtualScrollHeight()),this.parent.enablePersistence||this.parent.notify(o.GE,{}),this.parent.notify(o.Cn,v),"Month"===this.parent.currentView&&this.parent.showWeekNumber){var g=[].slice.call(this.parent.element.querySelectorAll(".e-content-wrap table tr td:first-child"));[].slice.call(this.parent.element.querySelectorAll("."+s.Vbv)).forEach(function(e,t){var i=g[parseInt(t.toString(),10)].offsetHeight;(0,r.V7)(e,{height:i+"px"})}),this.parent.element.querySelector("."+s.eFA).scrollTop=this.parent.element.querySelector("."+s.y0r).scrollTop}}this.parent.renderTemplates()}},t.prototype.renderEventsHandler=function(e,t,i){this.renderedEvents=[];var n,a,o=0;if(i?(o=i.groupIndex,this.cssClass=i.cssClass,this.groupOrder=i.groupOrder,n=this.parent.eventBase.filterEventsByResource(i,this.parent.eventsProcessed),a=this.parent.eventBase.filterEventsByResource(i,this.parent.blockProcessed),this.workCells=[].slice.call(this.element.querySelectorAll("."+s.bqQ+'[data-group-index="'+o+'"]'))):(n=this.parent.eventsProcessed,a=this.parent.blockProcessed,this.workCells=[].slice.call(this.element.querySelectorAll("."+s.bqQ))),this.sortByDateTime(n),this.sortByDateTime(a),"Month"===this.parent.currentView&&this.parent.rowAutoHeight&&0===this.parent.activeViewOptions.group.resources.length){var h=[].slice.call(this.parent.element.querySelectorAll(".e-content-wrap table tr td:first-child")),p=this.parent.element.querySelector("."+s.OzO).clientHeight/h.length;h.forEach(function(e){(0,r.V7)(e,{height:p+"px"})})}var c=this.workCells[this.parent.activeView.isTimelineView()?0:this.workCells.length-1].getBoundingClientRect();this.cellWidth=c.width,this.cellHeight=c.height,this.dateRender=e;var u=this.getRenderedDates(e);this.getSlotDates(t||this.parent.activeViewOptions.workDays),this.processBlockEvents(a,o,i);for(var d=[],m=0,v=n;m<v.length;m++){var g=v[m];this.parent.resourceBase&&!i&&(this.cssClass=this.parent.resourceBase.getCssClass(g)),d=d.concat(this.splitEvent(g,u||this.dateRender))}for(var f=0;f<this.slots.length;f++){this.renderedEvents=[];for(var y=this.slots[parseInt(f.toString(),10)],b=l.E4(new Date(y[y.length-1]),1),T=this.filterEvents(new Date(y[0]),b,d),D=0;D<T.length;D++){var w=T[D];if(this.maxHeight){var C="Month"===this.parent.currentView?w[this.fields.startTime]:this.getStartTime(w,w.data);if(this.getIndex(C)>0)continue}this.updateIndicatorIcon(w),this.renderEvents(w,o,n)}}this.cssClass=null,this.groupOrder=null},t.prototype.processBlockEvents=function(e,t,i){for(var n=0;n<e.length;n++){var a=e[n];this.parent.resourceBase&&!i&&(this.cssClass=this.parent.resourceBase.getCssClass(a));var s=[];if("day"!==this.renderType||a[this.fields.isAllDay])s.push(a);else{var o=(0,r.l7)({},a,null,!0),h=this.isSameDate(o[this.fields.startTime],o[this.fields.endTime]);if(o.isBlockIcon=h,!h&&l.U8(o[this.fields.startTime])>0){var p=(0,r.l7)({},a,null,!0);p[this.fields.endTime]=l.E4(l.zS(new Date(a[this.fields.startTime]+"")),1),p.isBlockIcon=!0,o[this.fields.startTime]=p[this.fields.endTime],s.push(p)}if(!(h=this.isSameDate(o[this.fields.startTime],o[this.fields.endTime]))&&l.U8(o[this.fields.endTime])>0){var p=(0,r.l7)({},a,null,!0);p[this.fields.startTime]=l.zS(new Date(a[this.fields.endTime]+"")),p.isBlockIcon=!0,s.push(p),o[this.fields.endTime]=p[this.fields.startTime]}s.push(o)}for(var c=0;c<s.length;c++)for(var u=s[c],d=this.splitEvent(u,this.dateRender),m=0;m<d.length;m++){var v=d[m];this.renderBlockEvents(v,t,!!u.isBlockIcon)}}},t.prototype.isSameDate=function(e,t){return new Date(+e).setHours(0,0,0,0)===new Date(+t).setHours(0,0,0,0)},t.prototype.renderBlockEvents=function(e,t,i){var n=e.data,a=this.getStartTime(e,n),s=this.getEndTime(e,n),o=this.parent.getIndexOfDate(this.dateRender,l.zS(new Date(a.getTime())));if(!(o<0)&&!(a>s)){var h=this.getCellTd(o),p=this.getPosition(a,s,e[this.fields.isAllDay],o);if(i)this.renderBlockIndicator(h,p,t);else{var c=n.count,u=this.getEventWidth(a,s,e[this.fields.isAllDay],c);u=u<=0?this.cellWidth:u;var d=this.parent.enableRtl?0:p,m=this.parent.enableRtl?p:0,v=this.cellHeight-this.monthHeaderHeight,g=this.getRowTop(t),f=this.createBlockAppointmentElement(e,t,this.isResourceEventTemplate);(0,r.V7)(f,{width:u+"px",height:v+"px",left:d+"px",right:m+"px",top:g+"px"}),this.renderEventElement(e,f,h)}}},t.prototype.renderBlockIndicator=function(e,t,i){var n=(0,r.az)("div",{className:"e-icons "+s.dqd});(0,r.le)(e.querySelector("."+s.dqd))&&e.appendChild(n)},t.prototype.getStartTime=function(e,t){return e[this.fields.startTime]},t.prototype.getEndTime=function(e,t){return e[this.fields.endTime]},t.prototype.getCellTd=function(e){return this.workCells[parseInt(e.toString(),10)]},t.prototype.getEventWidth=function(e,t,i,n){return n*this.cellWidth-1},t.prototype.getPosition=function(e,t,i,n){return 0},t.prototype.getRowTop=function(e){return 0},t.prototype.updateIndicatorIcon=function(e){if(-1!==this.parent.currentView.indexOf("Timeline")&&"TimelineMonth"!==this.parent.currentView&&!e[this.fields.isAllDay]){var t=e.data,i=this.parent.activeView.getStartHour(),n=this.parent.activeView.getEndHour(),r=l.EK(e[this.fields.startTime],i,n),a=l.EK(e[this.fields.endTime],i,n),s=t[this.fields.startTime],o=t[this.fields.endTime];if(t.isLeft=t.isLeft||s.getTime()<r.startHour.getTime(),t.isRight=t.isRight||o.getTime()>a.endHour.getTime(),l.zS(s).getTime()!==l.zS(o).getTime()){var h=r.startHour,p=a.endHour,c=new Date(l.zS(s));if(c.setHours(p.getHours(),p.getMinutes(),p.getSeconds()),t.isLeft=t.isLeft||s.getTime()>=(h.getDate()===r.endHour.getDate()?c.getTime():l.E4(c,1).getTime()),o.getTime()!==l.zS(o).getTime()){var u=new Date(l.zS(o));t.isRight=t.isRight||o.getTime()<=u.setHours(h.getHours(),h.getMinutes(),h.getSeconds())}}}},t.prototype.renderResourceEvents=function(){var e=this.parent.uiStateValues.isGroupAdaptive?[this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex]]:this.parent.resourceBase.renderedResources;if(this.parent.crudModule&&this.parent.crudModule.crudObj.isCrudAction){for(var t=0,i=this.parent.crudModule.crudObj.sourceEvent.length;t<i;t++){var n=this.parent.crudModule.crudObj.sourceEvent[parseInt(t.toString(),10)];if(this.renderEventsHandler(n.renderDates,n.workDays,n),this.parent.crudModule.crudObj.sourceEvent[parseInt(t.toString(),10)].groupIndex!==this.parent.crudModule.crudObj.targetEvent[parseInt(t.toString(),10)].groupIndex){var r=this.parent.crudModule.crudObj.targetEvent[parseInt(t.toString(),10)];this.renderEventsHandler(r.renderDates,r.workDays,r)}}this.parent.crudModule.crudObj.isCrudAction=!1}else for(var a=0;a<e.length;a++){var s=e[a];this.renderEventsHandler(s.renderDates,s.workDays,s)}},t.prototype.getSlotDates=function(e){this.slots=[];for(var t=this.dateRender.map(function(e){return+e}),i=!this.parent.activeViewOptions.showWeekend||this.parent.activeViewOptions.group.byDate&&this.parent.activeViewOptions.group.hideNonWorkingDays?e.length:l.CE;t.length>0;)this.slots.push(t.splice(0,i))},t.prototype.createAppointmentElement=function(e,t,i){void 0===i&&(i=!1);var n,a=e[this.fields.subject]||this.parent.eventSettings.fields.subject.default||this.parent.localeObj.getConstant("addTitle"),o=(0,r.l7)({},e,e.data,!0),l={"data-id":"Appointment_"+e[this.fields.id],role:"button",tabindex:"0","aria-disabled":this.parent.eventBase.getReadonlyAttribute(e),"aria-label":this.parent.getAnnouncementString(o,a)};i||(l["data-guid"]=e.Guid),this.parent.activeViewOptions.group.resources.length>0&&(l["data-group-index"]=t.toString());var h=(0,r.az)("div",{className:s.MQu,attrs:l});(0,r.le)(this.cssClass)||(0,r.cn)([h],this.cssClass),e[this.fields.isReadonly]&&(0,r.cn)([h],"e-read-only");var p=(0,r.az)("div",{className:s.$m5});h.appendChild(p);var c=e.data,u=this.getEventData(e);if((0,r.le)(this.parent.activeViewOptions.eventTemplate)){var d=e[this.fields.location]||this.parent.eventSettings.fields.location.default||"",m=(0,r.az)("div",{className:s.jaK});this.parent.sanitize(a+(d?"; "+d:""),m);var v=(0,r.az)("div",{className:s.Kw_+(this.parent.isAdaptive?" "+s.cSX:""),innerHTML:this.parent.getTimeString(c[this.fields.startTime])}),g=(0,r.az)("div",{className:s.Kw_+(this.parent.isAdaptive?" "+s.cSX:""),innerHTML:this.parent.getTimeString(c[this.fields.endTime])});if("Month"===this.parent.currentView)e[this.fields.isAllDay]?(n=[m],(0,r.cn)([m],"e-text-center")):!(c.count<=1)||c.isLeft||c.isRight?(n=[],(0,r.cn)([m],"e-text-center"),c.isLeft||n.push(v),n.push(m),c.isRight||n.push(g)):n=[v,m];else{var f=void 0;if(e[this.fields.isAllDay])f=[m,(0,r.az)("div",{className:s.Kw_,innerHTML:this.parent.localeObj.getConstant("allDay")})];else{var y=this.parent.getTimeString(c[this.fields.startTime])+" - "+this.parent.getTimeString(c[this.fields.endTime]),b=(0,r.az)("div",{className:s.Kw_+(this.parent.isAdaptive?" "+s.cSX:""),innerHTML:y}),T=(0,r.az)("div",{className:s.mwb});this.parent.sanitize(d,T),f=[m,b,T]}var D=(0,r.az)("div",{className:"e-inner-wrap"});(0,r.R3)(f,D),n=[D]}}else{var w=this.parent.element.id+"_",C=this.parent.activeViewOptions.eventTemplateName,S="eventTemplate"+(this.isResourceEventTemplate?"_"+t:"");n=this.parent.getAppointmentTemplate()(u,this.parent,S,w+C+"eventTemplate",!1)}return(0,r.R3)(n,p),this.appendEventIcons(e,p),this.renderResizeHandler(h,e.data,e[this.fields.isReadonly]),h},t.prototype.appendEventIcons=function(e,t){var i=e.data;if(!(0,r.le)(e[this.fields.recurrenceRule])||!(0,r.le)(e[this.fields.recurrenceID])){var n=e[this.fields.id]===e[this.fields.recurrenceID]?s.S60:s.jJb;t.appendChild((0,r.az)("div",{className:s.Wmm+" "+n+(this.parent.isAdaptive?" "+s.cSX:"")}))}if(i.isLeft){var a=(0,r.az)("div",{className:s.t6b+" "+s.Wmm+" "+s.aQc});(0,r.Ce)([a],t)}if(i.isRight){var o=(0,r.az)("div",{className:s.t6b+" "+s.Wmm+" "+s.QAI});(0,r.R3)([o],t)}},t.prototype.renderEvents=function(e,t,i){var n=e[this.fields.startTime],a=e[this.fields.endTime],o=this.parent.getIndexOfDate(this.dateRender,l.zS(n));if(!(o<0||n.getTime()<this.parent.minDate.getTime()||a.getTime()>this.parent.maxDate.getTime())){var h=this.getIndex(n);e.Index=h;var p=e.data.count;if(n.getTime()<=a.getTime()){var c=p*this.cellWidth-5,u=this.workCells[parseInt(o.toString(),10)],d=h*(this.eventHeight+0),m=this.monthHeaderHeight+(h+1)*(this.eventHeight+0)+this.moreIndicatorHeight,v=this.maxOrIndicator?h<1:this.cellHeight>m;if(this.parent.rowAutoHeight||v){this.renderedEvents.push((0,r.l7)({},e,null,!0));var g=void 0;if(g=this.inlineValue?this.parent.inlineModule.createInlineAppointmentElement():this.createAppointmentElement(e,t),this.applyResourceColor(g,e,"backgroundColor",this.groupOrder),this.wireAppointmentEvents(g,e),(0,r.V7)(g,{width:c+"px",top:d+"px"}),this.renderEventElement(e,g,u),this.parent.rowAutoHeight){var f=u.parentElement.firstElementChild;this.updateCellHeight(f,m)}}else for(var y=0;y<p;y++)if(this.workCells[o+y]){var b=this.workCells[o+y].querySelector("."+s.Fk6);if(b){var T=parseInt(b.getAttribute("data-count"),10)+1;b.setAttribute("data-count",T.toString()),b.innerHTML=this.getMoreIndicatorText(T)}else{var D=new Date(this.dateRender[o+y].getTime()),w=l.E4(this.dateRender[o+y],1),C=this.workCells[o+y].getAttribute("data-group-index"),S=this.getMoreIndicatorElement(1,D,w);(0,r.le)(C)||S.setAttribute("data-group-index",C),S.style.top=this.cellHeight-this.monthHeaderHeight-this.moreIndicatorHeight+"px",S.style.width=this.cellWidth-2+"px",this.renderElement(this.workCells[o+y],S),r.bi.add(S,"click",this.moreIndicatorClick,this)}}}}},t.prototype.updateCellHeight=function(e,t){t>e.offsetHeight&&(0,r.V7)(e,{height:t+"px"})},t.prototype.updateBlockElements=function(){for(var e=[].slice.call(this.element.querySelectorAll("."+s.JDZ)),t=0;t<e.length;t++){var i=e[t],n=(0,r.oq)(i,"tr");this.monthHeaderHeight=i.offsetParent.offsetTop-n.offsetTop,i.style.height=n.offsetHeight-1-this.monthHeaderHeight+"px";var a=n.firstElementChild,o=Math.round(i.offsetWidth/a.offsetWidth);i.style.width=a.offsetWidth*o+"px"}},t.prototype.getFilteredEvents=function(e,t,i,n){var a;if((0,r.le)(i))a=this.filterEvents(e,t);else{var s=this.parent.resourceBase.lastResourceLevel[parseInt(i,10)];a=this.filterEvents(e,t,(0,r.le)(n)?void 0:n,s)}return a},t.prototype.getOverlapEvents=function(e,t){for(var i=[],n=l.zS(e).getTime(),r=0;r<t.length;r++){var a=t[r];l.zS(a[this.fields.startTime]).getTime()<=n&&l.zS(a[this.fields.endTime]).getTime()>=n&&i.push(a)}return i},t.prototype.getIndex=function(e){var t=-1,i=this.renderedEvents;if(i.length>0){var n=this.getOverlapEvents(e,i).map(function(e){return e.Index});t=n.length>0?this.getSmallestMissingNumber(n):0}return -1===t?0:t},t.prototype.moreIndicatorClick=function(e){var t=this,i=(0,r.oq)(e.target,"."+s.Fk6),n=new Date(parseInt(i.getAttribute("data-start-date"),10)),a=new Date(parseInt(i.getAttribute("data-end-date"),10)),l=i.getAttribute("data-group-index"),h={cancel:!1,event:e,element:i,isPopupOpen:!0,startTime:n,endTime:a,viewName:this.parent.getNavigateView()};l&&(h.groupIndex=parseInt(l,10)),this.parent.trigger(o.LA,h,function(i){if(!i.cancel){if(i.isPopupOpen){var r=t.getFilteredEvents(n,a,l),s={date:n,event:r,element:e.target};t.parent.quickPopup.moreEventClick(s,a,l)}else t.parent.setProperties({selectedDate:n},!0),t.parent.changeView(i.viewName,e)}})},t.prototype.renderEventElement=function(e,t,i){var n=this,r=t.classList.contains(s.JDZ)?"blockEvent":"event",a=t.classList.contains(s.MQu),l=this.getEventData(e);this.parent.trigger(o.ZW,{data:l,element:t,cancel:!1,type:r},function(e){e.cancel?n.renderedEvents.pop():n.renderElement(i,t,a)})},t.prototype.getEventData=function(e){var t=(0,r.l7)({},e,null,!0);return t[this.fields.startTime]=e.data[this.fields.startTime],t[this.fields.endTime]=e.data[this.fields.endTime],t},t.prototype.renderElement=function(e,t,i){void 0===i&&(i=!1),this.maxOrIndicator&&i&&this.setMaxEventHeight(t,e);var n=e.querySelector("."+s.Q93);if(n)n.appendChild(t);else{var a=(0,r.az)("div",{className:s.Q93});a.appendChild(t),e.appendChild(a)}},t.prototype.getMoreIndicatorElement=function(e,t,i){return(0,r.az)("div",{className:s.Fk6,innerHTML:this.getMoreIndicatorText(e),attrs:{tabindex:"0","data-count":e.toString(),"data-start-date":t.getTime().toString(),"data-end-date":i.getTime().toString()}})},t.prototype.getMoreIndicatorText=function(e){return"+"+this.parent.globalize.formatNumber(e)+"&nbsp;"+(this.parent.isAdaptive?"":this.parent.localeObj.getConstant("more"))},t.prototype.removeHeightProperty=function(e){for(var t=[].slice.call(this.element.querySelectorAll("."+e+" tbody tr")),i=0;i<t.length;i++)t[i].firstElementChild.style.height=""},t.prototype.setMaxEventHeight=function(e,t){var i=l.zp(t.querySelector("."+s.iGk)),n=t.offsetHeight-i-(this.maxHeight?0:this.moreIndicatorHeight);(0,r.V7)(e,{height:n+"px","align-items":"center"})},t.prototype.destroy=function(){this.element=null,this.fields=null,this.maxHeight=null,this.withIndicator=null,this.maxOrIndicator=null,this.moreIndicatorHeight=null,this.removeEventListener(),e.prototype.destroy.call(this)},t}(a.x)},89124:function(e,t,i){"use strict";i.d(t,{m:function(){return p}});var n,r=i(92268),a=i(50543),s=i(66308),o=i(30811),l=i(43782),h=(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),p=function(e){function t(t){var i=e.call(this,t)||this;return i.dateRender=[],i.renderedEvents=[],i.renderedAllDayEvents=[],i.overlapEvents=[],i.moreEvents=[],i.overlapList=[],i.allDayEvents=[],i.slotCount=i.parent.activeViewOptions.timeScale.slotCount,i.interval=i.parent.activeViewOptions.timeScale.interval,i.allDayLevel=0,i.startHour=i.parent.activeView.getStartHour(),i.endHour=i.parent.activeView.getEndHour(),i.element=i.parent.activeView.getPanel(),i.fields=i.parent.eventFields,i.animation=new r.fw({progress:i.animationUiUpdate.bind(i)}),i.addEventListener(),i}return h(t,e),t.prototype.renderAppointments=function(){if(!(0,r.le)(this.parent)){this.parent.dragAndDropModule&&this.parent.dragAndDropModule.setDragArea(),this.isResourceEventTemplate=this.parent.isSpecificResourceEvents();for(var e=[].slice.call(this.parent.element.querySelectorAll("."+l.JDZ+",."+l.MQu+",."+l.PHR)),t=!!this.parent.crudModule&&!!this.parent.crudModule.crudObj.isCrudAction,i=0;i<e.length;i++){var n=e[i];if(t&&!(n.classList.contains(l.yGK)||n.classList.contains(l.PHR)))for(var a=parseInt(n.getAttribute("data-group-index"),10),s=0,h=this.parent.crudModule.crudObj.sourceEvent.length;s<h;s++)(a===this.parent.crudModule.crudObj.sourceEvent[parseInt(s.toString(),10)].groupIndex||a===this.parent.crudModule.crudObj.targetEvent[parseInt(s.toString(),10)].groupIndex)&&(0,r.Od)(n);else(0,r.Od)(n)}if(this.element.querySelector("."+l.bqQ)&&(this.parent.virtualScrollModule&&this.parent.virtualScrollModule.updateFocusedWorkCell(),this.allDayElement=[].slice.call(this.element.querySelectorAll("."+l.nqV)),this.setAllDayRowHeight(0),0!==this.parent.eventsProcessed.length||0!==this.parent.blockProcessed.length)){var p=this.element.querySelector("."+l.Z6D);r.bi.remove(p,"click",this.rowExpandCollapse),r.bi.add(p,"click",this.rowExpandCollapse,this),this.renderedEvents=[],this.renderedAllDayEvents=[],this.initializeValues(),this.processBlockEvents(),this.renderEvents("normalEvents"),this.allDayEvents.length>0&&(this.allDayEvents=this.allDayEvents.filter(function(e,t,i){return t===i.map(function(e){return e.Guid}).indexOf(e.Guid)}),(0,r.IV)(this.allDayElement,l.MpA),this.slots.push(this.parent.activeView.renderDates.map(function(e){return+e})),this.renderEvents("allDayEvents"),this.animation.animate(this.allDayElement[0])),this.parent.notify(o.GE,{}),(0,r.cn)(this.allDayElement,l.MpA),t&&(this.parent.crudModule.crudObj.isCrudAction=!1),this.parent.renderTemplates()}}},t.prototype.initializeValues=function(){if(this.resources=this.parent.activeViewOptions.group.resources.length>0?this.parent.uiStateValues.isGroupAdaptive?[this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex]]:this.parent.resourceBase.lastResourceLevel:[],this.resources.length>0&&this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.virtualScrollModule&&(this.resources=this.parent.resourceBase.renderedResources),this.cellHeight=parseFloat(this.parent.element.querySelector(".e-content-wrap tbody tr").getBoundingClientRect().height.toFixed(2)),this.dateRender[0]=this.parent.activeView.renderDates,this.parent.activeViewOptions.group.resources.length>0)for(var e=0,t=this.resources.length;e<t;e++)this.dateRender[parseInt(e.toString(),10)]=this.resources[parseInt(e.toString(),10)].renderDates},t.prototype.getHeight=function(e,t){var i=(s.K$(t)-s.K$(e))/s.X$*(this.cellHeight*this.slotCount)/this.interval;return i<=0?this.cellHeight:i},t.prototype.appendEvent=function(e,t,i,n){var a=this.element.querySelector("."+l.Q93+'[id="'+l.Q93+"-"+i+'"]');this.parent.enableRtl?(0,r.V7)(t,{right:n}):(0,r.V7)(t,{left:n});var s=t.classList.contains(l.JDZ)?"blockEvent":"event",h={data:(0,r.l7)({},e,null,!0),element:t,cancel:!1,type:s};this.parent.trigger(o.ZW,h,function(e){e.cancel||a.appendChild(t)})},t.prototype.processBlockEvents=function(){for(var e=this.getResourceList(),t=this.getStartCount(),i=0;i<e.length;i++)for(var n=e[i],r=this.dateRender[parseInt(n.toString(),10)],a=0,o=r.length;a<o;a++){for(var l=new Date(r[parseInt(a.toString(),10)].getTime()),h=s.E4(r[parseInt(a.toString(),10)],1),p=this.filterEvents(l,h,this.parent.blockProcessed,this.resources[parseInt(n.toString(),10)]),c=0;c<p.length;c++){var u=p[c];this.parent.resourceBase&&this.setValues(u,n),this.renderBlockEvents(u,a,n,t),this.cssClass=null,this.groupOrder=null}t+=1}},t.prototype.renderBlockEvents=function(e,t,i,n){var a=this.isSpannedEvent(e,t,i),o=a[this.fields.startTime],h=a[this.fields.endTime],p=s.zS(new Date(this.dateRender[parseInt(i.toString(),10)][parseInt(t.toString(),10)].getTime())),c=s.EK(p,this.startHour,this.endHour);if(o<=h&&this.isValidEvent(e,o,h,c)&&this.isWorkDayAvailable(i,o)){var u=void 0,d=void 0;if(a[this.fields.isAllDay]){var m=this.parent.element.querySelector("."+l.y0r+" table");d=(0,r.Ac)(m.offsetHeight),u=(0,r.Ac)(0)}else d=(0,r.Ac)(this.getHeight(o,h)),u=(0,r.Ac)(this.getTopValue(o,t,i));var v=this.createBlockAppointmentElement(e,i,this.isResourceEventTemplate);(0,r.V7)(v,{width:"100%",height:d,top:u});var g=this.getDayIndex(t,i,n);this.appendEvent(e,v,g,"0px")}},t.prototype.renderEvents=function(e){(0,r.IV)(this.allDayElement,l.MpA);for(var t,i="allDayEvents"===e?this.sortByDateTime(this.allDayEvents):void 0,n=this.getResourceList(),a=this.getStartCount(),o="allDayEvents"===e?s.e8(this.element.querySelector("."+l.AKI),l.MQu):0,h="allDayEvents"===e&&this.allDayElement.length>0?this.allDayElement[0].offsetTop:0,p=function(n){t=!0,c.parent.crudModule&&c.parent.crudModule.crudObj.isCrudAction&&"allDayEvents"!==e&&!c.parent.uiStateValues.isGroupAdaptive&&0===c.parent.crudModule.crudObj.sourceEvent.filter(function(e){return e.groupIndex===n}).length&&0===c.parent.crudModule.crudObj.targetEvent.filter(function(e){return e.groupIndex===n}).length&&(t=!1),c.slots=[];var l=c.dateRender[parseInt(n.toString(),10)],p=c.getRenderedDates(l)||l;c.slots.push(l.map(function(e){return+e}));for(var u=0,d=l.length;u<d&&l[parseInt(u.toString(),10)]<=p[p.length-1];u++){c.renderedEvents=[];var m=new Date(l[parseInt(u.toString(),10)].getTime()),v=s.E4(l[parseInt(u.toString(),10)],1),g=c.filterEvents(m,v,i,c.resources[parseInt(n.toString(),10)]);if(t)for(var f=0;f<g.length;f++){var y=g[f];if(c.parent.resourceBase&&c.setValues(y,n),"allDayEvents"===e)c.renderAllDayEvents(y,u,n,a,!1,h,o);else if(c.isAllDayAppointment(y))c.allDayEvents.push((0,r.l7)({},y,null,!0));else{if(c.parent.eventSettings.enableMaxHeight&&c.getOverlapIndex(y,u,!1,n)>0)continue;c.renderNormalEvents(y,u,n,a)}c.cssClass=null,c.groupOrder=null}else for(var b=0;b<g.length;b++){var T=g[b];c.isAllDayAppointment(T)&&c.allDayEvents.push((0,r.l7)({},T,null,!0))}a+=1}},c=this,u=0;u<n.length;u++)p(n[u])},t.prototype.getStartCount=function(){return this.parent.virtualScrollModule&&this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.timeScale.enable?parseInt(this.element.querySelector("."+l.Q93).getAttribute("id").split("-").slice(-1)[0],10):0},t.prototype.getDayIndex=function(e,t,i){var n=this;if(!this.parent.activeViewOptions.group.byDate)return i;if(this.parent.activeViewOptions.group.byDate&&!this.parent.activeViewOptions.group.hideNonWorkingDays){var r=this.parent.resourceBase.lastResourceLevel[0].renderDates.indexOf(this.dateRender[parseInt(t.toString(),10)][parseInt(e.toString(),10)]);return this.resources.length*r+t}for(var a=0,s=this.parent.activeView.colLevels[0],o=this.dateRender[parseInt(t.toString(),10)][parseInt(e.toString(),10)].getTime(),l=[],h=0;h<s.length&&(l=this.parent.resourceBase.resourceDateTree[parseInt(h.toString(),10)],o!==s[parseInt(h.toString(),10)].date.getTime());h++)a+=s[parseInt(h.toString(),10)].colSpan;var p=l.findIndex(function(e){return e.groupOrder.toString()===n.resources[parseInt(t.toString(),10)].groupOrder.toString()});return p<0?a:a+p},t.prototype.setValues=function(e,t){this.parent.activeViewOptions.group.resources.length>0?(this.cssClass=this.resources[parseInt(t.toString(),10)].cssClass,this.groupOrder=this.resources[parseInt(t.toString(),10)].groupOrder):this.cssClass=this.parent.resourceBase.getCssClass(e)},t.prototype.getResourceList=function(){return Array.apply(null,{length:this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive?this.resources.length:1}).map(function(e,t){return t})},t.prototype.createAppointmentElement=function(e,t,i,n){var a,s=this.parent.eventFields,o=e[s.subject]||this.parent.eventSettings.fields.subject.default||this.parent.localeObj.getConstant("addTitle"),h=(0,r.az)("div",{className:l.MQu,attrs:{"data-id":"Appointment_"+e[s.id],"data-guid":e.Guid,role:"button",tabindex:"0","aria-disabled":this.parent.eventBase.getReadonlyAttribute(e),"aria-label":this.parent.getAnnouncementString(e)}});e[this.fields.isReadonly]&&(0,r.cn)([h],"e-read-only");var p=(0,r.az)("div",{className:l.$m5});if(h.appendChild(p),this.parent.activeViewOptions.group.resources.length>0){var c=this.parent.uiStateValues.isGroupAdaptive?this.parent.uiStateValues.groupIndex:n;h.setAttribute("data-group-index",c.toString())}if((0,r.le)(this.parent.activeViewOptions.eventTemplate)){var u=(0,r.az)("div",{className:l.jaK});if(this.parent.sanitize(o,u),t){if(e[s.isAllDay])a=[u];else{a=[];var d=(0,r.az)("div",{className:l.Kw_+(this.parent.isAdaptive?" "+l.cSX:""),innerHTML:this.parent.getTimeString(e[s.startTime])}),m=(0,r.az)("div",{className:l.Kw_+(this.parent.isAdaptive?" "+l.cSX:""),innerHTML:this.parent.getTimeString(e[s.endTime])});(0,r.cn)([u],"e-text-center"),i.isLeft||a.push(d),a.push(u),i.isRight||a.push(m)}}else{var v=this.parent.getTimeString(e[s.startTime])+" - "+this.parent.getTimeString(e[s.endTime]),g=(0,r.az)("div",{className:l.Kw_+(this.parent.isAdaptive?" "+l.cSX:""),innerHTML:v}),f=(0,r.az)("div",{className:l.mwb});this.parent.sanitize(e[s.location]||this.parent.eventSettings.fields.location.default||"",f),a=[u,g,f]}}else{var y=this.parent.element.id+"_",b=this.parent.activeViewOptions.eventTemplateName,T=this.parent.uiStateValues.isGroupAdaptive?this.parent.uiStateValues.groupIndex:n,D="eventTemplate"+(this.isResourceEventTemplate?"_"+T:"");a=this.parent.getAppointmentTemplate()(e,this.parent,D,y+b+"eventTemplate",!1)}if((0,r.R3)(a,p),!this.parent.isAdaptive&&(!(0,r.le)(e[s.recurrenceRule])||!(0,r.le)(e[s.recurrenceID]))){var w=e[s.id]===e[s.recurrenceID]?l.S60:l.jJb,C=(0,r.az)("div",{className:l.Wmm+" "+w});t?p.appendChild(C):h.appendChild(C)}return this.parent.eventBase.renderSpannedIcon(t?p:h,i),(0,r.le)(this.cssClass)||(0,r.cn)([h],this.cssClass),this.applyResourceColor(h,e,"backgroundColor",this.groupOrder),this.renderResizeHandler(h,i,e[this.fields.isReadonly]),h},t.prototype.createMoreIndicator=function(e,t,i){var n=i+t,a=e[parseInt(n.toString(),10)];if(a.childElementCount<=0){var s=(0,r.az)("div",{className:l.PHR,id:l.PHR+"-"+n.toString()}),o=(0,r.az)("div",{className:l.Fk6,attrs:{tabindex:"0","data-index":n.toString(),"data-count":"1"},innerHTML:"+1&nbsp;"+(this.parent.isAdaptive?"":this.parent.localeObj.getConstant("more"))});s.appendChild(o),a.appendChild(s),r.bi.add(o,"click",this.rowExpandCollapse,this)}else{var h=a.querySelector("."+l.Fk6),p=parseInt(h.getAttribute("data-count"),10)+1;h.setAttribute("data-count",p.toString()),h.innerHTML="+"+this.parent.globalize.formatNumber(p)+"&nbsp;"+(this.parent.isAdaptive?"":this.parent.localeObj.getConstant("more"))}},t.prototype.isSpannedEvent=function(e,t,i){var n=s.zS(this.dateRender[parseInt(i.toString(),10)][parseInt(t.toString(),10)]),a=this.getRenderedDates(this.dateRender[parseInt(i.toString(),10)])||[n];0===a.filter(function(e){return e.getDay()===t}).length&&(n=s.zS(a[0]));var o=this.parent.eventFields,l=s.EK(n,this.startHour,this.endHour),h=(0,r.l7)({},e,null,!0);h.isSpanned={isBottom:!1,isTop:!1},e[o.startTime].getTime()<l.startHour.getTime()&&(h[o.startTime]=l.startHour,h.isSpanned.isTop=!0),e[o.endTime].getTime()>l.endHour.getTime()&&(h[o.endTime]=l.endHour,h.isSpanned.isBottom=!0);var p=this.updateEventMinimumDuration(l,h[o.startTime],h[o.endTime]);return h[o.startTime]=p.startDate,h[o.endTime]=p.endDate,h},t.prototype.isWorkDayAvailable=function(e,t){if(this.parent.activeViewOptions.group.hideNonWorkingDays&&this.resources.length>0){var i=this.resources[parseInt(e.toString(),10)].resourceData[this.resources[parseInt(e.toString(),10)].resource.workDaysField]||this.parent.activeViewOptions.workDays;return i&&i.indexOf(t.getDay())>=0}return!0},t.prototype.renderAllDayEvents=function(e,t,i,n,a,h,p){var c=this,u=this.getRenderedDates(this.dateRender[parseInt(i.toString(),10)])||this.dateRender[parseInt(i.toString(),10)];this.parent.activeViewOptions.group.byDate&&(this.slots[0]=[this.dateRender[parseInt(i.toString(),10)][parseInt(t.toString(),10)].getTime()],u=[this.dateRender[parseInt(i.toString(),10)][parseInt(t.toString(),10)]]);var d=this.splitEvent(e,u)[0],m=new Date(d[this.parent.eventFields.startTime].getTime()),v=new Date(d[this.parent.eventFields.endTime].getTime()),g=0,f=1,y=u[0].getTime()<=m.getTime()&&s.E4(u.slice(-1)[0],1).getTime()>=m.getTime();if(m<=v&&y&&this.isWorkDayAvailable(i,m)){var b=[];if(this.renderedAllDayEvents[parseInt(i.toString(),10)]&&(b=this.renderedAllDayEvents[parseInt(i.toString(),10)].filter(function(t){return t.Guid===e.Guid}),this.parent.activeViewOptions.group.byDate&&(b=b.filter(function(e){return e[c.parent.eventFields.startTime]>=u[parseInt(t.toString(),10)]&&e[c.parent.eventFields.endTime]<=s.E4(new Date(+u[parseInt(t.toString(),10)]),1)}))),0===b.length){var T,D=d.data.count,w=this.getOverlapIndex(d,t,!0,i);d.Index=w,this.allDayLevel=this.allDayLevel<w?w:this.allDayLevel;var C=d.data.isRight?0:"Day"===this.parent.currentView?4:7;D>=0&&(g=100*D-C),(0,r.le)(this.renderedAllDayEvents[parseInt(i.toString(),10)])&&(this.renderedAllDayEvents[parseInt(i.toString(),10)]=[]),this.renderedAllDayEvents[parseInt(i.toString(),10)].push((0,r.l7)({},d,null,!0));var S=[].slice.call(this.element.querySelector("."+l.aT7).children),E=this.getDayIndex(t,i,n),k=this.element.querySelector("."+l.AKI+":nth-child("+(E+1)+")");T=a?this.parent.inlineModule.createInlineAppointmentElement(e):this.createAppointmentElement(e,!0,d.data,i),(0,r.cn)([T],l.yGK);var A=(0,r.l7)({},d.data,null,!0);e.data=A,this.parent.trigger(o.ZW,{data:e,element:T,cancel:!1},function(t){if(!t.cancel){if(k.appendChild(T),f+=(0===w?h:h+w*p)+1,(0,r.V7)(T,{width:g+"%",top:(0,r.Ac)(f)}),w>1){c.moreEvents.push(T);for(var i=0;i<D;i++)c.createMoreIndicator(S,i,E)}c.allDayElement[0].setAttribute("data-count",c.allDayLevel.toString());var n=(!c.parent.uiStateValues.expand&&c.allDayLevel>2?3*p:(c.allDayLevel+1)*p)+4;c.setAllDayRowHeight(n),c.addOrRemoveClass(),c.wireAppointmentEvents(T,e)}})}}},t.prototype.renderNormalEvents=function(e,t,i,n,a){var o=this.isSpannedEvent(e,t,i),h=o[this.fields.startTime],p=o[this.fields.endTime],c=0,u=s.zS(new Date(this.dateRender[parseInt(i.toString(),10)][parseInt(t.toString(),10)].getTime())),d=s.EK(u,this.startHour,this.endHour),m=this.isValidEvent(e,h,p,d);if(!(h.getTime()<this.parent.minDate.getTime()||p.getTime()>this.parent.maxDate.getTime())&&h<=p&&m&&this.isWorkDayAvailable(i,h)){var v=this.getHeight(h,p);h.getTime()>d.startHour.getTime()&&(c=this.getTopValue(h,t,i));var g=this.getOverlapIndex(o,t,!1,i);o.Index=g,this.overlapList.push(o),this.overlapList.length>1?((0,r.le)(this.overlapEvents[parseInt(g.toString(),10)])&&(this.overlapEvents[parseInt(g.toString(),10)]=[]),this.overlapEvents[parseInt(g.toString(),10)].push(o)):(this.overlapEvents=[],this.overlapEvents.push([o]));var f={index:g,left:"0%",width:this.getEventWidth(),day:n,dayIndex:t,record:o,resource:i},y=this.adjustOverlapElements(f);y.appWidth,(0,r.le)(this.renderedEvents[parseInt(i.toString(),10)])&&(this.renderedEvents[parseInt(i.toString(),10)]=[]),this.renderedEvents[parseInt(i.toString(),10)].push((0,r.l7)({},o,null,!0));var b=void 0;b=a?this.parent.inlineModule.createInlineAppointmentElement(e):this.createAppointmentElement(e,!1,o.isSpanned,i),(0,r.V7)(b,{width:this.parent.eventSettings.enableMaxHeight?"100%":y.appWidth,height:v+"px",top:c+"px"});var T=15*b.querySelectorAll("."+l.t6b).length,D=b.querySelector("."+l.jaK);!this.parent.isAdaptive&&D&&(D.style.maxHeight=(0,r.Ac)(v-40-T));var w=this.getDayIndex(t,i,n),C={};C[this.fields.startTime]=e[this.fields.startTime],C[this.fields.endTime]=e[this.fields.endTime],o.data=C,this.appendEvent(o,b,w,y.appLeft),this.wireAppointmentEvents(b,e)}},t.prototype.getEventWidth=function(){var e=(("Day"===this.parent.currentView?97:94)-this.overlapEvents.length)/this.overlapEvents.length;return(e<0?0:e)+"%"},t.prototype.getEventLeft=function(e,t){var i=(parseFloat(e)+1)*t;return(i>99?99:i)+"%"},t.prototype.getTopValue=function(e,t,i){var n=s.EK(s.zS(this.dateRender[parseInt(i.toString(),10)][parseInt(t.toString(),10)]),this.startHour,this.endHour).startHour,r=(e.getHours()-n.getHours())*60+(e.getMinutes()-n.getMinutes());return this.parent.activeViewOptions.timeScale.enable?r*this.cellHeight*this.slotCount/this.interval:0},t.prototype.getOverlapIndex=function(e,t,i,n){var a=this,o=this.parent.eventFields,l=[],h=-1;if(this.overlapEvents=[],i){if(!(0,r.le)(this.renderedAllDayEvents[parseInt(n.toString(),10)])){var p=s.zS(new Date(this.dateRender[parseInt(n.toString(),10)][parseInt(t.toString(),10)].getTime()));l=this.renderedAllDayEvents[parseInt(n.toString(),10)].filter(function(e){return s.zS(e[o.startTime]).getTime()<=p.getTime()&&s.zS(e[o.endTime]).getTime()>=p.getTime()}),this.parent.activeViewOptions.group.resources.length>0&&(l=this.filterEventsByResource(this.resources[parseInt(n.toString(),10)],l))}}else{var c=(0,r.le)(this.renderedEvents[parseInt(n.toString(),10)])?[]:this.renderedEvents[parseInt(n.toString(),10)],u=[],d=e[o.startTime],m=e[o.endTime];this.overlapList=c.filter(function(e){return e[o.endTime]>d&&e[o.startTime]<=m||e[o.startTime]>=m&&e[o.endTime]<=d||e[o.endTime].getTime()===e[o.startTime].getTime()&&e[o.startTime].getTime()===d.getTime()&&e[o.endTime]<m}),this.parent.activeViewOptions.group.resources.length>0&&(this.overlapList=this.filterEventsByResource(this.resources[parseInt(n.toString(),10)],this.overlapList)),this.overlapList.forEach(function(e){var t=c.filter(function(t){return t[o.endTime]>e[o.startTime]&&t[o.startTime]<=e[o.endTime]});a.parent.activeViewOptions.group.resources.length>0&&(t=a.filterEventsByResource(a.resources[parseInt(n.toString(),10)],t));var i=t.filter(function(e){return -1===a.overlapList.indexOf(e)});i.length>0&&(u=u.concat(i))});for(var v=0;v<u.length-1;v++)for(var g=v+1;g<u.length;g++)u[parseInt(v.toString(),10)][o.id]===u[parseInt(g.toString(),10)][o.id]&&(u.splice(g,1),g--);this.overlapList=this.overlapList.concat(u),l=this.overlapList;for(var f=0,y=l;f<y.length;f++){var b=y[f],T=b.Index;(0,r.le)(this.overlapEvents[parseInt(T.toString(),10)])?this.overlapEvents[parseInt(T.toString(),10)]=[b]:this.overlapEvents[parseInt(T.toString(),10)].push(b)}}if(i||(l=l.filter(function(t){return t[o.startTime]===e[o.startTime]&&t[o.endTime]>e[o.endTime]||t[o.endTime]>e[o.startTime]&&t[o.startTime]<e[o.endTime]||t[o.endTime]===e[o.startTime]&&t[o.startTime]===e[o.endTime]||t[o.startTime].getTime()===e[o.startTime].getTime()&&t[o.endTime].getTime()===e[o.endTime].getTime()||t[o.startTime].getTime()===e[o.startTime].getTime()&&t[o.endTime].getTime()<e[o.endTime].getTime()||t[o.endTime].getTime()>e[o.endTime].getTime()})),l.length>0){var D=l.map(function(e){return e.Index});h=D.length>0?this.getSmallestMissingNumber(D):0}return -1===h?0:h},t.prototype.adjustOverlapElements=function(e){for(var t={appWidth:e.width,appLeft:e.left},i=0,n=this.overlapEvents.length;i<n;i++)if(!(0,r.le)(this.overlapEvents[parseInt(i.toString(),10)]))for(var a=0,s=this.overlapEvents[parseInt(i.toString(),10)].length;a<s;a++){var o=this.getDayIndex(e.dayIndex,e.resource,e.day),l=this.element.querySelector("#e-appointment-wrapper-"+o);if(l&&l.childElementCount>0){var h=this.overlapEvents[parseInt(i.toString(),10)][parseInt(a.toString(),10)].Guid;if(l.querySelectorAll('div[data-guid="'+h+'"]').length>0&&h!==e.record.Guid){var p=l.querySelector('div[data-guid="'+h+'"]');parseFloat(e.width)<=parseFloat(p.style.width)&&(this.parent.enableRtl?p.style.right=this.getEventLeft(e.width,i):p.style.left=this.getEventLeft(e.width,i),p.style.width=parseFloat(e.width)+"%"),t.appWidth=p.style.width}else{var c=e.width;(0,r.le)(this.overlapEvents[i-1])&&(c=this.getEventWidth()),t.appWidth=c,t.appLeft=this.getEventLeft(c,e.index)}}}return t},t.prototype.setAllDayRowHeight=function(e){var t=this.parent.element.querySelector("."+l.S7y);"auto"!==this.parent.height&&this.parent.enableAllDayScroll||(0,r.cn)([t],l.F9U);var i=this.parent.element.querySelector("."+l.aT7);if(i.style.height="",this.parent.uiStateValues.expand&&"auto"!==this.parent.height&&this.parent.enableAllDayScroll)i.style.height=e/12+"em",this.parent.eventBase.allDayExpandScroll(t);else{for(var n=0,a=this.allDayElement;n<a.length;n++)a[n].style.height=e/12+"em";(0,r.IV)([t],l.WPW)}},t.prototype.addOrRemoveClass=function(){var e=this;this.moreEvents.filter(function(t){!e.parent.uiStateValues.expand&&e.allDayLevel>2?((0,r.cn)([t],l.f4m),t.setAttribute("tabindex","-1")):((0,r.IV)([t],l.f4m),t.setAttribute("tabindex","0"))});var t=this.element.querySelector("."+l.Z6D);this.parent.uiStateValues.expand?((0,r.IV)([t],l.qro),(0,r.cn)([t],l.G4M)):((0,r.IV)([t],l.G4M),(0,r.cn)([t],l.qro)),this.allDayLevel>2?(0,r.IV)([t],l.cSX):(0,r.cn)([t],l.cSX),[].slice.call(this.element.querySelectorAll("."+l.PHR)).forEach(function(t){!e.parent.uiStateValues.expand&&e.allDayLevel>2?(0,r.IV)([t],l.cSX):(0,r.cn)([t],l.cSX)})},t.prototype.getEventHeight=function(){var e=(0,r.az)("div",{className:l.MQu,styles:"visibility:hidden"});this.element.querySelector("."+l.AKI+":first-child").appendChild(e);var t=e.offsetHeight;return(0,r.Od)(e),t},t.prototype.rowExpandCollapse=function(){var e,t=this.element.querySelector("."+l.Z6D);this.parent.uiStateValues.expand=t.classList.contains(l.qro),this.parent.uiStateValues.expand?(t.setAttribute("title",this.parent.localeObj.getConstant("collapseAllDaySection")),t.setAttribute("aria-label","Collapse section"),e=(this.allDayLevel+1)*this.getEventHeight()+4):(t.setAttribute("title",this.parent.localeObj.getConstant("expandAllDaySection")),t.setAttribute("aria-label","Expand section"),e=3*this.getEventHeight()+4,this.parent.element.querySelector("."+l.S7y).scrollTop=0),this.setAllDayRowHeight(e),this.animation.animate(this.allDayElement[0]),this.addOrRemoveClass(),this.animation.animate(t)},t.prototype.animationUiUpdate=function(){this.parent.notify(o.GE,{})},t.prototype.destroy=function(){!this.parent||this.parent&&this.parent.isDestroyed||(this.removeEventListener(),this.allDayElement=null,this.renderedAllDayEvents=null,this.renderedEvents=null,this.slotCount=null,this.interval=null,this.startHour=null,this.endHour=null,this.element=null,this.fields=null,this.animation=null,e.prototype.destroy.call(this))},t}(a.x)},84127:function(e,t,i){"use strict";i.d(t,{B:function(){return m}});var n,r,a=i(92268),s=i(49794),o=i(98095),l=i(66308),h=i(43782),p=i(30811),c=(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),u=function(e){function t(t){return e.call(this,t)||this}return c(t,e),t.prototype.createAgendaContentElement=function(e,t,i,n,r){var o,c=this,u=this.parent.eventFields;if("noEvents"===e){var d=[{subject:this.parent.localeObj.getConstant("noEvents")}];0===(o=s.Kh.createList(this.parent.createElement,d,{moduleName:"agenda",listClass:this.parent.activeView.viewClass,itemClass:this.parent.activeView.viewClass,template:'<div class="'+h.P0O+'">'+this.parent.localeObj.getConstant("noEvents")+"</div>"})).querySelector(".e-agenda-item").children.length&&o.firstElementChild.appendChild((0,a.az)("div",{className:h.P0O,innerHTML:this.parent.localeObj.getConstant("noEvents")}))}else o=s.Kh.createList(this.parent.createElement,t,{moduleName:"agenda",listClass:this.parent.activeView.viewClass,itemClass:this.parent.activeView.viewClass}),[].slice.call(o.children).forEach(function(e,i){var s,o=(0,a.az)("div",{className:h.MQu,attrs:{"data-id":"Appointment_"+t[parseInt(i.toString(),10)][""+c.parent.eventFields.id],"data-guid":t[parseInt(i.toString(),10)].Guid,role:"button",tabindex:"0","aria-disabled":c.parent.eventBase.getReadonlyAttribute(t[parseInt(i.toString(),10)]),"aria-label":c.parent.getAnnouncementString(t[parseInt(i.toString(),10)])}});if((0,a.le)(r)||o.setAttribute("data-group-index",r.toString()),c.parent.eventBase.applyResourceColor(o,t[parseInt(i.toString(),10)],"borderColor",n),(0,a.le)(c.parent.activeViewOptions.eventTemplate))s=c.createAppointment(t[parseInt(i.toString(),10)]);else{(0,a.cn)([o],h.Lmf);var d=c.parent.element.id+"_",m=c.parent.activeViewOptions.eventTemplateName;if(s=c.parent.getAppointmentTemplate()(t[parseInt(i.toString(),10)],c.parent,"eventTemplate",d+m+"eventTemplate",!1),!(0,a.le)(t[parseInt(i.toString(),10)][u.recurrenceRule])){var v=t[parseInt(i.toString(),10)][u.id]===t[parseInt(i.toString(),10)][u.recurrenceID]?h.S60:h.jJb;o.appendChild((0,a.az)("div",{className:h.Wmm+" "+v}))}}(0,a.R3)([].slice.call(s),o),l.ep(e),e.appendChild(o);var g={data:(0,a.l7)({},t[parseInt(i.toString(),10)],null,!0),element:e,cancel:!1};c.parent.trigger(p.ZW,g,function(t){t.cancel&&(0,a.Od)(e)})});return i.appendChild(o),("MonthAgenda"===this.parent.currentView&&this.parent.activeViewOptions.group.resources.length>0||"Agenda"===this.parent.currentView)&&(0,a.cn)([i],h.vd9),this.parent.renderTemplates(),i},t.prototype.createAppointment=function(e){var t=this.parent.eventFields,i=e[t.subject]||this.parent.eventSettings.fields.subject.default||this.parent.localeObj.getConstant("addTitle"),n=e[t.location]||this.parent.eventSettings.fields.location.default,r=(0,a.az)("div",{className:h.l3X});(0,a.le)(n)||""===n||(i+=",");var s=(0,a.az)("div",{className:h.jaK});if(this.parent.sanitize(i,s),r.appendChild(s),!(0,a.le)(n)&&""!==n){var o=(0,a.az)("div",{className:h.mwb});this.parent.sanitize(n,o),r.appendChild(o)}if(!(0,a.le)(e[t.recurrenceRule])){var p=e[t.id]===e[t.recurrenceID]?h.S60:h.jJb;r.appendChild((0,a.az)("div",{className:h.Wmm+" "+p}))}var c=e[t.startTime],u=e[t.endTime],d=e[t.isAllDay],m=this.parent.localeObj.getConstant("allDay"),v=this.parent.getTimeString(c)+" - "+this.parent.getTimeString(u);(0,a.le)(e.data)||(m=((u.getTimezoneOffset()!==c.getTimezoneOffset()?u.getTime()-c.getTime()+36e5:u.getTime()-c.getTime())/l.Mb>=1?m:v)+" ("+this.parent.localeObj.getConstant("day")+" "+e.data.index+"/"+e.data.count+")");var g=!(0,a.le)(e.data)||d?m:v;return[r,(0,a.az)("div",{className:h.rZq,innerHTML:g})]},t.prototype.processAgendaEvents=function(e){var t=[];if((0,a.le)(e))return t;for(var i=0;i<e.length;i++){var n=e[i],r=this.parent.eventBase.splitEventByDay(n);t=t.concat(r.length>1?r:n)}return t},t.prototype.wireEventActions=function(){for(var e=[].slice.call(this.parent.element.querySelectorAll("."+h.MQu)),t=0;t<e.length;t++){var i=e[t];this.parent.eventBase.wireAppointmentEvents(i,this.parent.getEventDetails(i),!0)}for(var n=[].slice.call(this.parent.element.querySelectorAll(".e-m-date")),r=0;r<n.length;r++){var i=n[r];a.bi.add(i,"click",this.parent.agendaModule.dayNavigationClick,this)}},t.prototype.calculateResourceTableElement=function(e,t,i){if((0,a.le)(this.parent.resourceBase.lastResourceLevel)){var n=this.getDateSlots(this.renderDates,this.parent.activeViewOptions.workDays);this.parent.resourceBase.generateResourceLevels(n)}for(var r=l.E4(new Date(i.getTime()),t),s=this.parent.activeViewOptions.group.byDate||"MonthAgenda"===this.parent.currentView?t:1,o=this.parent.resourceBase.resourceCollection,p=this.parent.resourceBase.lastResourceLevel,c=i,u=0;u<s;u++){var d=[],m=[],v=0,g=void 0,f=void 0,y=l.E4(c,u),b=this.parent.activeViewOptions.group.byDate||"MonthAgenda"===this.parent.currentView?l.E4(y,1):r,T=this.parent.eventBase.filterEvents(y,b);if(T.length>0||!this.parent.hideEmptyAgendaDays||"MonthAgenda"===this.parent.currentView){for(var D=0;D<p.length;D++){t=this.parent.activeViewOptions.group.byDate&&"MonthAgenda"!==this.parent.currentView?1:t;var w=[];i=y;var C=this.parent.eventBase.filterEvents(i,r,T,p[parseInt(D.toString(),10)]);if(C.length>0||!this.parent.hideEmptyAgendaDays||"MonthAgenda"===this.parent.currentView)for(var S=0;S<t;S++){var E=this.parent.eventBase.filterEvents(i,l.E4(i,1),C,void 0);if((E.length>0||!this.parent.hideEmptyAgendaDays||"MonthAgenda"===this.parent.currentView)&&(w.push(E[0]),g={rowSpan:1,type:"eventColumn",resource:o[o.length-1],groupIndex:p[parseInt(D.toString(),10)].groupIndex,groupOrder:p[parseInt(D.toString(),10)].groupOrder,resourceData:p[parseInt(D.toString(),10)].resourceData,eventData:E,date:i},f={rowSpan:1,type:"dateColumn",resource:o[parseInt((o.length-1).toString(),10)],groupOrder:p[parseInt(D.toString(),10)].groupOrder,resourceData:p[parseInt(D.toString(),10)].resourceData,date:i},d[parseInt(v.toString(),10)]||(d[parseInt(v.toString(),10)]=[]),d[parseInt(v.toString(),10)].push(g),d[parseInt(v.toString(),10)].push(f),v++),(i=l.E4(i,1)).getTime()>=r.getTime()||this.parent.activeViewOptions.group.byDate||"MonthAgenda"===this.parent.currentView){d[d.length-1][1].cssClass=h.vd9;var k={rowSpan:w.length,type:"resourceColumn",resource:o[parseInt((o.length-1).toString(),10)],groupOrder:p[parseInt(D.toString(),10)].groupOrder.slice(0,-1),resourceData:p[parseInt(D.toString(),10)].resourceData,groupIndex:d.length-w.length,className:[h.Ufx],date:i};d[parseInt((d.length-w.length).toString(),10)].push(k),m.push((0,a.l7)({},k,null,!0));break}}}for(var A=o.slice(0,-1),V=[],M=0,x=0;x<A.length;x++)for(var w=A[A.length-(x+1)].dataSource,I=0;I<w.length;I++)for(var O=0,R=0;R<m.length;R++)m[parseInt(R.toString(),10)].groupOrder[A.length-(x+1)]===w[parseInt(I.toString(),10)][A[A.length-(x+1)].idField]&&(M+=m[parseInt(R.toString(),10)].rowSpan,V.push((0,a.l7)({},m[parseInt(R.toString(),10)],null,!0))),++O===m.length&&V.length>0&&(V[0].rowSpan=M,V[0].type="parentColumnLevel_"+(x+1),V[0].resource=A[A.length-(x+1)],V[0].resourceData=w[parseInt(I.toString(),10)],V[0].date=i,d[V[0].groupIndex].push(V[0]),V=[],M=0);this.createResourceTableRow(d,e)}}0===this.parent.eventBase.filterEvents(c,r).length&&!this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.hideEmptyAgendaDays&&this.renderEmptyContent(e,c)},t.prototype.createResourceTableRow=function(e,t){var i,n,r,s=(0,a.az)("tr"),o=(0,a.az)("td",{attrs:{"aria-selected":"false"}}),p=0;if(this.parent.activeViewOptions.group.byDate||"MonthAgenda"===this.parent.currentView){for(var c=[],u=this.parent.resourceBase.resourceCollection.slice(0,-1),d=0;d<e.length;d++)c=c.concat(e[parseInt(d.toString(),10)]);r=u.length>0?"parentColumnLevel_"+u.length:"resourceColumn";for(var m=c.filter(function(e){return e.type===r}),v=0;v<m.length;v++)p+=m[parseInt(v.toString(),10)].rowSpan}for(var g=0;g<e.length;g++){i=s.cloneNode();for(var f=e[parseInt(g.toString(),10)].length-1;f>=0;f--){var y=e[parseInt(g.toString(),10)][parseInt(f.toString(),10)],b=o.cloneNode();if("dateColumn"===y.type){if(this.parent.activeViewOptions.group.byDate||"MonthAgenda"===this.parent.currentView){n=e[parseInt(g.toString(),10)][parseInt(f.toString(),10)];continue}b.setAttribute("data-date",y.date.getTime().toString()),b.appendChild(this.createDateHeaderElement(y.date));var T=[h.AuV,h.xsK];y.cssClass&&T.push(y.cssClass),(0,a.cn)([b],T),this.isCurrentDate(new Date(y.date.getTime()))&&(0,a.cn)(b.childNodes,h.sNi),i.appendChild(b)}else if("eventColumn"===y.type){var D=0===y.eventData.length?"noEvents":"data";(b=this.createAgendaContentElement(D,y.eventData,b,y.groupOrder,y.groupIndex)).setAttribute("data-date",y.date.getTime().toString()),(this.parent.activeViewOptions.group.byDate||"MonthAgenda"===this.parent.currentView)&&(0,a.cn)([b],[h.AuV,h.cLr]),i.appendChild(b)}else b.setAttribute("rowspan",y.rowSpan.toString()),(0,a.cn)([b],h.d2X),this.setResourceHeaderContent(b,y,y.className[0]),i.appendChild(b)}if(this.parent.activeViewOptions.group.byDate&&0===g&&"MonthAgenda"!==this.parent.currentView){var b=o.cloneNode();b.setAttribute("data-date",n.date.getTime().toString()),b.setAttribute("rowspan",p.toString()),b.appendChild(this.createDateHeaderElement(n.date)),(0,a.cn)([b],[h.AuV,h.xsK,h.u_Y]);var w=l.TT(this.parent.selectedDate.getTime(),n.date.getTime());if(i.setAttribute("data-row-index",w.toString()),this.parent.element.querySelector('.e-agenda-view tr[data-row-index="'+w+'"]'))break;i.insertBefore(b,i.childNodes[0])}t.appendChild(i)}},t.prototype.createDateHeaderElement=function(e){var t;if(this.parent.activeViewOptions.dateHeaderTemplate){t=(0,a.az)("div",{className:h.rHD});var i=this.parent.element.id+"_",n=this.parent.activeViewOptions.dateHeaderTemplateName,r=[].slice.call(this.parent.getDateHeaderTemplate()({date:e,type:"dateHeader"},this.parent,"dateHeaderTemplate",i+n+"dateHeaderTemplate",!1));(0,a.R3)(r,t)}else t=this.getMobileDateElement(e,h.rHD);return t},t.prototype.renderEmptyContent=function(e,t){var i=this.createTableRowElement(t,"noEvents"),n=i.children[0],r=(0,a.az)("div",{className:h.dgm,innerHTML:this.parent.localeObj.getConstant("noEvents")});n.appendChild(r),e.appendChild(i)},t.prototype.createTableRowElement=function(e,t){var i=l.TT(this.parent.selectedDate.getTime(),e.getTime()),n=(0,a.az)("tr",{attrs:{"data-row-index":i.toString()}}),r=(0,a.az)("td",{attrs:{class:"monthHeader"===t?h._cW:h.AuV,"aria-selected":"false","data-column-index":i.toString(),"data-date":e.getTime().toString()}}),s=r.cloneNode(),o=r.cloneNode();return n.appendChild(s),"noEvents"!==t&&n.appendChild(o),n},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(o._),d=(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),m=function(e){function t(t){var i=e.call(this,t)||this;return i.viewClass="e-agenda-view",i.isInverseTableSelect=!1,i.agendaDates={},i.virtualScrollTop=1,i}return d(t,e),t.prototype.getModuleName=function(){return"agenda"},t.prototype.renderLayout=function(){this.agendaDates={},this.element=(0,a.az)("div",{className:h.FiE}),(0,a.cn)([this.element],this.viewClass),this.element.appendChild(this.createTableLayout(h.NM_)),this.element.querySelector("table").setAttribute("role","presentation"),this.parent.element.querySelector("."+h.x83).appendChild(this.element);var e=(0,a.az)("tr");this.element.querySelector("tbody").appendChild(e);var t=(0,a.az)("td");e.appendChild(t);var i=(0,a.az)("div",{className:h.y0r});t.appendChild(i);var n=this.createTableLayout(h.OzO);this.setAriaAttributes(n),i.appendChild(n);var r=n.querySelector("tbody"),s=l.zS(this.parent.selectedDate);this.renderEmptyContent(r,s),this.wireEvents(),this.parent.resourceBase&&this.parent.resourceBase.generateResourceLevels([{renderDates:this.parent.activeView.renderDates}]),this.parent.uiStateValues.isGroupAdaptive&&!this.parent.element.querySelector("."+h.W52)&&this.renderResourceMobileLayout(),this.parent.notify(p.GE,{})},t.prototype.eventLoad=function(e){this.dataSource=(0,a.l7)([],this.parent.eventsData,null,!0);for(var t=0,i=this.parent.eventsData;t<i.length;t++){var n=i[t];delete n.generatedDates}var r=this.parent.activeViewOptions.allowVirtualScrolling?e.processedData:this.parent.eventsProcessed;if(this.parent.uiStateValues.isGroupAdaptive){var s=this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex];this.dataSource=this.parent.eventBase.filterEventsByResource(s,this.dataSource),r=this.parent.eventBase.filterEventsByResource(s,r)}this.parent.eventsProcessed=this.processAgendaEvents(r);var o=l.zS(this.parent.selectedDate),c=this.element.querySelector("."+h.OzO+" tbody");l.ep(c),this.renderInitialContent(c,o),this.wireEventActions(),(0,a.oq)(c,"."+h.y0r).scrollTop=1,this.parent.notify(p.FJ,{}),this.parent.activeViewOptions.allowVirtualScrolling||this.retainScrollPosition()},t.prototype.refreshEvent=function(e){for(var t=[],i=this.parent.eventFields,n=0,r=this.dataSource;n<r.length;n++){var s=r[n];(0,a.le)(s[i.recurrenceID])&&!(0,a.le)(s[i.recurrenceRule])&&!(0,a.le)(s.generatedDates)&&e>=s.generatedDates.end&&(t=t.concat(this.parent.eventBase.generateOccurrence(s,e)))}this.parent.eventsProcessed=this.parent.eventsProcessed.concat(this.processAgendaEvents(t))},t.prototype.refreshHeader=function(){var e=this.element.querySelector("."+h.OzO+" tbody");this.parent.activeViewOptions.group.byDate?l.ep(e):(0,a.Od)(e.firstElementChild);var t=l.zS(this.parent.selectedDate),i=(0,a.az)("tbody"),n=new Date(t.getTime()),r=this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.hideEmptyAgendaDays?this.getEndDateFromStartDate(n):l.E4(n,this.parent.agendaDaysCount);this.renderContent(i,n,r),(0,a.R3)([].slice.call(i.childNodes),e)},t.prototype.renderInitialContent=function(e,t){var i=(0,a.az)("tbody"),n=new Date(t.getTime()),r=this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.hideEmptyAgendaDays?this.getEndDateFromStartDate(n):l.E4(n,this.parent.agendaDaysCount);if(this.renderContent(i,n,r),(0,a.R3)([].slice.call(i.childNodes),e),this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.hideEmptyAgendaDays&&this.parent.eventsData.length>0)for(var s=this.getContentAreaElement(),o=s.querySelector(".e-content-table");s.offsetWidth<=s.clientWidth&&(!this.parent.isAdaptive||!(o.offsetHeight>=s.clientHeight));){var h=(0,a.az)("tbody");if(r=n,n=l.E4(r,-this.parent.agendaDaysCount),this.renderContent(h,n,r),(0,a.Ce)([].slice.call(h.childNodes),e),n<=this.parent.minDate)break}e.childNodes.length<=0&&this.renderEmptyContent(e,t)},t.prototype.renderContent=function(e,t,i){var n,r=this.parent.eventFields,s=new Date(t.getTime()),o=this.appointmentFiltering(s,i);if(o.length>0&&this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.hideEmptyAgendaDays&&(t=o[0][r.startTime],t=new Date(new Date(t.getTime()).setHours(0,0,0,0)),this.updateHeaderText(o[0][r.startTime])),!this.parent.hideEmptyAgendaDays||this.parent.agendaDaysCount>0&&o.length>0){if(this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive){var p=t;!this.parent.activeViewOptions.group.byDate&&(this.parent.activeViewOptions.allowVirtualScrolling=!1,p=s,this.parent.headerModule&&(this.parent.headerModule.updateDateRange(),this.parent.headerModule.updateHeaderItems("remove"))),this.calculateResourceTableElement(e,this.parent.agendaDaysCount,p)}else for(var c=0;c<this.parent.agendaDaysCount;c++){var u=this.appointmentFiltering(t),d=this.createTableRowElement(t,"data");if(this.element.querySelector('tr[data-row-index="'+parseInt(d.getAttribute("data-row-index"),10)+'"]')){t=l.E4(t,1);continue}var m=d.children[0],v=d.children[1];if(u.length>0||!this.parent.hideEmptyAgendaDays&&0===u.length){var g=this.parent.hideEmptyAgendaDays||0!==u.length?"data":"noEvents";m.appendChild(this.createDateHeaderElement(t)),d.appendChild(m);var f=this.createAgendaContentElement(g,u,v);d.appendChild(f),f.querySelectorAll("li").length>0&&e.appendChild(d)}else this.parent.activeViewOptions.allowVirtualScrolling&&c--;if(this.isCurrentDate(new Date(t.getTime()))&&(0,a.cn)(m.childNodes,h.sNi),(t=l.E4(t,1)).getTime()>i.getTime())break}n=new Date(t.getTime()-l.Mb)}this.agendaDates={start:s,end:n}},t.prototype.agendaScrolling=function(e){this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide(),this.parent.activeViewOptions.allowVirtualScrolling&&this.virtualScrolling(e),this.parent.activeViewOptions.allowVirtualScrolling||this.setPersistence()},t.prototype.virtualScrolling=function(e){var t,i=e.target,n=i.scrollTop,r=i.scrollHeight,s=i.clientHeight,o=this.virtualScrollTop<n?"next":"previous",h=i.querySelector("tbody"),p=(0,a.az)("tbody"),c=this.getElementFromScrollerPosition(e),u=this.parent.getDateFromElement(c);if(0===n){if(t=this.getPreviousNextDate(l.E4(u,-1),o),this.appointmentFiltering(t.start,t.end).length>0||!this.parent.hideEmptyAgendaDays){this.renderContent(p,t.start,t.end),(0,a.Ce)([].slice.call(p.childNodes),h),this.wireEventActions();for(var d=0,m=h.children;d<m.length;d++)if(m[parseInt(d.toString(),10)].getAttribute("data-row-index")===c.getAttribute("data-column-index")){var v=m[parseInt(d.toString(),10)].offsetTop-this.element.querySelector(".e-agenda-item").offsetHeight;i.scrollTop=v;break}this.updateHeaderText(u)}}else n+s>=r-5?(t=this.getPreviousNextDate(l.E4(u,1),o),(this.appointmentFiltering(t.start,t.end).length>0||!this.parent.hideEmptyAgendaDays)&&(this.renderContent(p,t.start,t.end),(0,a.R3)([].slice.call(p.childNodes),h),this.wireEventActions(),this.updateHeaderText(u))):this.updateHeaderText(u);this.virtualScrollTop=n;var g=this.parent.eventBase.getSelectedAppointments();g.length>0&&g[g.length-1].focus()},t.prototype.getElementFromScrollerPosition=function(e){var t,i,n=e.target,r=n.scrollTop,s=n.scrollHeight,o=n.clientHeight,l=[].slice.call(n.querySelectorAll(".e-agenda-item"));if(l.length>0){if(0===r)i=l[0],t=(0,a.oq)(i,"."+h.AuV);else if(r+o===s)i=l[l.length-1],t=(0,a.oq)(i,"."+h.AuV);else for(var p=0,c=l.length;p<c;p++)if((i=l[parseInt(p.toString(),10)]).getBoundingClientRect().top>=0){t=(0,a.oq)(i,"."+h.AuV);break}}return t},t.prototype.updateHeaderText=function(e){this.parent.showHeaderBar&&this.parent.headerModule.updateDateRange(e)},t.prototype.getPreviousNextDate=function(e,t){var i=new Date(e.getTime()),n=this.getStartDateFromEndDate(e),r=this.getEndDateFromStartDate(e),a=0;do if((this.appointmentFiltering(i).length>0||!this.parent.hideEmptyAgendaDays)&&a++,(i=l.E4(i,"next"===t?1:-1))<n||i>r)break;while(a!==this.parent.agendaDaysCount);var s=l.E4(i,"next"===t?-1:1);return"next"===t?{start:e,end:l.E4(s,1)}:{start:s,end:l.E4(e,1)}},t.prototype.appointmentFiltering=function(e,t){!(0,a.le)(e)&&(0,a.le)(t)?(i=l.zS(new Date(e.getTime())),n=l.q_(new Date(i.getTime()),l.Mb)):(i=new Date(e.getTime()),n=new Date(t.getTime()));var i,n,r=this.parent.eventBase.filterEvents(i,n);return 0===r.length&&(this.refreshEvent(e),r=this.parent.eventBase.filterEvents(i,n)),r},t.prototype.getStartDateFromEndDate=function(e){var t,i=this.parent.eventFields;if(this.parent.eventsProcessed.length>0){var n=Math.min.apply(Math,this.parent.eventsProcessed.map(function(e){return e[i.startTime].getTime()}));t=this.parent.hideEmptyAgendaDays?new Date(n):this.parent.minDate}else t=this.parent.hideEmptyAgendaDays?l.zI(e,-1):this.parent.minDate;return l.zS(t)},t.prototype.getEndDateFromStartDate=function(e){var t,i=this.parent.eventFields;if(this.parent.eventsProcessed.length>0){var n=Math.max.apply(Math,this.parent.eventsProcessed.map(function(e){return e[i.endTime].getTime()}));t=this.parent.hideEmptyAgendaDays?new Date(n):this.parent.maxDate}else t=this.parent.hideEmptyAgendaDays?l.zI(e,1):this.parent.maxDate;return l.zS(l.E4(t,1))},t.prototype.getNextPreviousDate=function(e){return l.E4(this.parent.selectedDate,"next"===e?1:-1)},t.prototype.startDate=function(){return l.zS(this.parent.selectedDate)},t.prototype.endDate=function(){return this.parent.activeViewOptions.allowVirtualScrolling?this.getEndDateFromStartDate(this.startDate()):l.E4(this.startDate(),this.parent.agendaDaysCount)},t.prototype.getDateRangeText=function(e){var t=this.parent.activeViewOptions.dateFormat?this.parent.activeViewOptions.dateFormat:"MMMM y";if(this.parent.activeViewOptions.allowVirtualScrolling||this.parent.isAdaptive){var i=(0,a.le)(e)?this.parent.selectedDate:e;return l.hz(this.parent.globalize.formatDate(i,{format:t,calendar:this.parent.getCalendarMode()}),"multiple")}var n=this.parent.selectedDate,r=l.E4(n,this.parent.agendaDaysCount-1);return this.formatDateRange(n,r)},t.prototype.dayNavigationClick=function(e){var t=(0,a.oq)(e.currentTarget,"."+h.AuV),i=this.parent.getDateFromElement(t);!(0,a.le)(i)&&!this.parent.isAdaptive&&this.parent.isMinMaxDate(i)&&(this.parent.setProperties({selectedDate:i},!0),this.parent.changeView("Day",e))},t.prototype.wireEvents=function(){a.bi.add(this.element.querySelector("."+h.y0r),p.AR,this.agendaScrolling,this)},t.prototype.unWireEvents=function(){a.bi.remove(this.element.querySelector("."+h.y0r),p.AR,this.agendaScrolling);for(var e=[].slice.call(this.element.querySelectorAll(".e-m-date")),t=0;t<e.length;t++){var i=e[t];a.bi.remove(i,"click",this.dayNavigationClick)}},t.prototype.addEventListener=function(){this.parent.on(p.Cn,this.onAgendaScrollUiUpdate,this),this.parent.on(p.mH,this.eventLoad,this)},t.prototype.removeEventListener=function(){this.parent&&(this.parent.off(p.Cn,this.onAgendaScrollUiUpdate),this.parent.off(p.mH,this.eventLoad))},t.prototype.onAgendaScrollUiUpdate=function(){var e=this.getHeaderBarHeight();this.parent.headerModule&&(this.parent.activeViewOptions.allowVirtualScrolling?this.parent.headerModule.updateHeaderItems("add"):this.parent.headerModule.updateHeaderItems("remove"));var t=this.element.querySelector("."+h.y0r);"auto"!==this.parent.height&&(t.style.height=(0,a.Ac)(this.parent.element.offsetHeight-e))},t.prototype.scrollToDate=function(e){var t=new Date(+l.zS(e));if(this.parent.activeViewOptions.allowVirtualScrolling)(!this.parent.hideEmptyAgendaDays||this.parent.getEvents(t,l.E4(t,1),!0).length>0)&&this.parent.changeDate(t);else{var i=this.element.querySelector("."+h.AuV+'[data-date="'+t.getTime()+'"]');i&&(this.getContentAreaElement().scrollTop=i.offsetTop)}},t.prototype.destroy=function(){this.parent&&(!this.parent||!this.parent.isDestroyed)&&this.element&&(this.unWireEvents(),this.parent.resourceBase&&this.parent.resourceBase.destroy(),this.parent.headerModule&&this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.headerModule.updateHeaderItems("remove"),e.prototype.destroy.call(this))},t}(u)},31794:function(e,t,i){"use strict";i.d(t,{J:function(){return s}});var n,r=i(25074),a=(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=function(e){function t(t){var i=e.call(this,t)||this;return i.viewClass="e-day-view",i}return a(t,e),t.prototype.getModuleName=function(){return"day"},t}(r.X)},90866:function(e,t,i){"use strict";i.d(t,{m:function(){return c}});var n,r=i(92268),a=i(98095),s=i(12162),o=i(66308),l=i(30811),h=i(43782),p=(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),c=function(e){function t(t){var i=e.call(this,t)||this;return i.dayNameFormat="wide",i.viewClass="e-month-view",i.isInverseTableSelect=!1,i.monthEvent=null,i.monthDates={},i}return p(t,e),t.prototype.addEventListener=function(){this.parent.on(l.Cn,this.onScrollUIUpdate,this),this.parent.on(l.mH,this.onDataReady,this),this.parent.on(l.kj,this.onCellClick,this)},t.prototype.removeEventListener=function(){this.parent&&(this.parent.off(l.Cn,this.onScrollUIUpdate),this.parent.off(l.mH,this.onDataReady),this.parent.off(l.kj,this.onCellClick))},t.prototype.onDataReady=function(e){this.monthEvent=new s.T(this.parent),this.monthEvent.renderAppointments(),this.parent.notify(l.FJ,{})},t.prototype.onCellClick=function(e){},t.prototype.onContentScroll=function(e){this.parent.removeNewEventElement(),this.parent.notify(l.X6,e),this.scrollTopPanel(e.target),this.scrollLeftPanel(e.target),this.parent.uiStateValues.top=e.target.scrollTop,this.parent.uiStateValues.left=e.target.scrollLeft,this.setPersistence()},t.prototype.scrollLeftPanel=function(e){var t=this.getLeftPanelElement();t&&(t.scrollTop=e.scrollTop)},t.prototype.getLeftPanelElement=function(){return this.element.querySelector("."+h.eFA)},t.prototype.onScrollUIUpdate=function(e){var t=this.getHeaderBarHeight(),i=this.getDatesHeaderElement(),n=this.getContentAreaElement(),r=this.parent.element.offsetHeight-t-i.offsetHeight,a=this.getLeftPanelElement();"auto"!==this.parent.height&&this.setContentHeight(n,a,r);var s=o.Iz();if(i.firstElementChild.style[e.cssProperties.rtlBorder]="",i.style[e.cssProperties.rtlPadding]="",n.offsetWidth-n.clientWidth>0?(i.firstElementChild.style[e.cssProperties.border]=s>0?"1px":"0px",i.style[e.cssProperties.padding]=s>0?s-1+"px":"0px"):(i.firstElementChild.style[e.cssProperties.border]="",i.style[e.cssProperties.padding]=""),this.setColWidth(n),e.scrollPosition||!e.isPreventScrollUpdate&&"TimelineMonth"===this.parent.currentView){var l="TimelineMonth"===this.parent.currentView?this.parent.uiStateValues.top:e.scrollPosition.top;a&&(a.scrollTop=l),n.scrollTop=l,this.parent.uiStateValues.isInitial?(this.scrollToSelectedDate(),this.parent.uiStateValues.isInitial=!1):n.scrollLeft="TimelineMonth"===this.parent.currentView?this.parent.uiStateValues.left:e.scrollPosition.left}else this.scrollToSelectedDate();this.retainScrollPosition()},t.prototype.scrollToSelectedDate=function(){var e=this.element.querySelector("."+h.Tb6+'[data-date="'+this.parent.selectedDate.getTime().toString()+'"]'),t=this.getContentAreaElement();(0,r.le)(e)?t.scrollLeft=0:t.scrollLeft=this.parent.enableRtl?-(this.parent.getContentTable().offsetWidth-e.offsetLeft-e.offsetWidth):e.offsetLeft,0===t.scrollLeft&&this.parent.uiStateValues.isInitial&&(this.parent.uiStateValues.left=0)},t.prototype.setContentHeight=function(e,t,i){e.style.height="auto","Month"===this.parent.currentView&&(e.style.height=(0,r.Ac)(i)),t&&("MonthAgenda"===this.parent.currentView&&(i=this.parent.activeViewOptions.interval>1?this.getContentAreaElement().firstElementChild.offsetHeight:this.element.querySelector("."+h.OzO).offsetHeight),t.style.height="auto",t.style.height=(0,r.Ac)(i-this.getScrollXIndent(e)))},t.prototype.generateColumnLevels=function(){var e=[],t=this.getDateSlots(this.renderDates,this.parent.activeViewOptions.workDays);if(this.parent.activeViewOptions.group.resources.length>0){if(e=this.parent.resourceBase.generateResourceLevels(t),"MonthAgenda"===this.parent.currentView&&(e=[t]),this.parent.uiStateValues.isGroupAdaptive&&this.parent.resourceBase.lastResourceLevel.length>0){var i=this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex],n=this.getDateSlots(i.renderDates,i.workDays);if(this.parent.activeViewOptions.group.byDate&&this.parent.activeViewOptions.group.hideNonWorkingDays){var r=n.findIndex(function(e,t){return 0!==t&&e.date.getDay()===n[0].date.getDay()});n=r>-1?n.slice(0,r):n}e=[n]}}else e.push(t);return this.colLevels=e,e},t.prototype.getDateSlots=function(e,t){for(var i=this.parent.activeViewOptions.showWeekend?o.CE:t.length,n=[],r=this.isCurrentMonth(this.parent.selectedDate),a=0;a<i;a++){var s=[h.Tb6],l=e.slice(0,i).map(function(e){return e.getDay()});r&&l.indexOf(this.parent.currentTimezoneDate.getDay())===a&&s.push(h.CgT),n.push({date:e[parseInt(a.toString(),10)],type:"monthDay",className:s,colSpan:1,workDays:t})}return n},t.prototype.getDayNameFormat=function(){return this.parent.isAdaptive||this.parent.activeViewOptions.group.resources.length>0?"abbreviated":"wide"},t.prototype.renderLayout=function(e){this.dayNameFormat=this.getDayNameFormat(),this.setPanel((0,r.az)("div",{className:h.FiE}));var t=[this.viewClass];t.push(e),this.parent.activeViewOptions.group.byDate&&(t.push("e-by-date"),"Month"!==this.parent.currentView&&(this.parent.activeViewOptions.group.hideNonWorkingDays=!1)),this.parent.activeViewOptions.allowVirtualScrolling&&!this.parent.uiStateValues.isGroupAdaptive&&t.push(h.Yn1),this.parent.rowAutoHeight&&this.parent.eventSettings.ignoreWhitespace&&t.push(h.na1),(0,r.cn)([this.element],t),this.renderPanel(e),this.element.appendChild(this.createTableLayout(h.NM_)),this.element.querySelector("table").setAttribute("role","presentation"),this.colLevels=this.generateColumnLevels(),this.renderHeader(),this.renderContent();var i="MonthAgenda"===this.parent.currentView?this.parent.activeView.getPanel():this.parent.element;this.parent.uiStateValues.isGroupAdaptive&&!i.querySelector("."+h.W52)&&this.renderResourceMobileLayout(),this.parent.notify(l.GE,{}),this.parent.uiStateValues.isCustomMonth&&(this.parent.uiStateValues.isCustomMonth=!1)},t.prototype.refreshHeader=function(){(0,r.Od)(this.element.querySelector("tbody tr")),this.renderHeader(),this.parent.notify(l.GE,{})},t.prototype.wireCellEvents=function(e){r.bi.add(e,"mousedown",this.parent.workCellAction.cellMouseDown,this.parent.workCellAction),r.bi.add(e,"click",this.parent.workCellAction.cellClick,this.parent.workCellAction),this.parent.isAdaptive||r.bi.add(e,"dblclick",this.parent.workCellAction.cellDblClick,this.parent.workCellAction)},t.prototype.renderHeader=function(){var e=(0,r.az)("tr");this.renderLeftIndent(e);var t=(0,r.az)("td");t.appendChild(this.renderDatesHeader()),e.appendChild(t),(0,r.Ce)([e],this.element.querySelector("tbody"))},t.prototype.renderLeftIndent=function(e){this.parent.activeViewOptions.showWeekNumber&&e.appendChild((0,r.az)("td",{className:"e-left-indent"}))},t.prototype.renderContent=function(){this.parent.activeViewOptions.group.resources.length>0&&(this.parent.resourceBase.renderedResources=(0,r.l7)([],this.parent.resourceBase.lastResourceLevel,null,!0));var e=(0,r.az)("tr");this.parent.activeViewOptions.showWeekNumber&&e.appendChild(this.renderWeekNumberContent());var t=(0,r.az)("td"),i=this.colLevels.slice(0);this.parent.virtualScrollModule&&this.resetColLevels();var n=(0,r.az)("div",{className:h.y0r}),a=this.renderContentArea();if("Month"===this.parent.currentView)n.appendChild(a);else{var s=(0,r.az)("div",{className:h.x83});s.appendChild(a),n.appendChild(s)}r.bi.add(n,"scroll",this.onContentScroll,this),t.appendChild(n),e.appendChild(t),this.parent.virtualScrollModule&&(this.colLevels=i,this.parent.virtualScrollModule.renderVirtualTrack(n)),this.element.querySelector("tbody").appendChild(e),this.renderAppointmentContainer()},t.prototype.renderWeekNumberContent=function(){var e=this.renderDates.map(function(e){return new Date(+e)}),t=(0,r.az)("td"),i=(0,r.az)("div",{className:h.eFA});t.appendChild(i);var n=this.createTableLayout();i.appendChild(n);for(var a=this.parent.activeViewOptions.showWeekend?o.CE:this.parent.activeViewOptions.workDays.length,s=0,l=this.renderDates.length/a;s<l;s++){var p=e.splice(0,a),c=this.parent.getWeekNumberContent(p);n.querySelector("tbody").appendChild(this.createWeekNumberElement(c))}return t},t.prototype.renderAppointmentContainer=function(){},t.prototype.renderDatesHeader=function(){var e=(0,r.az)("div",{className:h.nXq}),t=(0,r.az)("div",{className:h.S7y});e.appendChild(t);var i=this.createTableLayout();if("Month"===this.parent.currentView){var n=(0,r.az)("thead");n.appendChild((0,r.az)("tr")),(0,r.Ce)([n],i)}this.createColGroup(i,this.colLevels[this.colLevels.length-1]);for(var a=(0,r.az)("tr"),s=0;s<this.colLevels.length;s++){for(var o=this.colLevels[parseInt(s.toString(),10)],l=a.cloneNode(),p=0;p<o.length;p++){var c=o[parseInt(p.toString(),10)];l.appendChild(this.createHeaderCell(c))}i.querySelector("tbody").appendChild(l)}return t.appendChild(i),e},t.prototype.createHeaderCell=function(e){var t=(0,r.az)("td");if(this.addAttributes(e,t),"monthDay"===e.type){var i=(0,r.az)("span",{innerHTML:o.hz(this.parent.getDayNames(this.dayNameFormat)[e.date.getDay()],"single")});t.appendChild(i)}if("resourceHeader"===e.type&&this.setResourceHeaderContent(t,e),"dateHeader"===e.type){if((0,r.cn)([t],h.iGk),t.setAttribute("data-date",e.date.getTime().toString()),this.parent.activeViewOptions.dateHeaderTemplate){var n={date:e.date,type:e.type},a=this.parent.element.id+"_",s=this.parent.activeViewOptions.dateHeaderTemplateName,p=[].slice.call(this.parent.getDateHeaderTemplate()(n,this.parent,"dateHeaderTemplate",a+s+"dateHeaderTemplate",!1));p&&p.length&&(0,r.R3)(p,t)}else{var i=(0,r.az)("span",{className:h.DaF}),c=this.parent.globalize.formatDate(e.date,{skeleton:"full",calendar:this.parent.getCalendarMode()});i.setAttribute("title",o.hz(c,"multiple"));var u=!this.parent.calendarUtil.isMonthStart(e.date)||this.isCurrentDate(e.date)||this.parent.isAdaptive?this.parent.globalize.formatDate(e.date,{skeleton:"d",calendar:this.parent.getCalendarMode()}):this.parent.globalize.formatDate(e.date,{format:"MMM d",calendar:this.parent.getCalendarMode()});i.innerHTML=o.hz(u,"single"),t.appendChild(i)}this.wireCellEvents(t)}var d={elementType:e.type,element:t,date:e.date,groupIndex:e.groupIndex};return this.parent.trigger(l.cw,d),t},t.prototype.getContentSlots=function(){if(!(this.colLevels[this.colLevels.length-1]&&this.colLevels[this.colLevels.length-1][0]))return[];var e=[],t=function(t,i,n,r){var a={date:new Date(+i),groupIndex:n.groupIndex,workDays:n.workDays,type:"monthCells",className:r||[h.bqQ]};e[parseInt(t.toString(),10)]||(e[parseInt(t.toString(),10)]=[]),e[parseInt(t.toString(),10)].push(a)},i="MonthAgenda"!==this.parent.currentView&&this.parent.activeViewOptions.group.resources.length>0;if(!i||this.parent.uiStateValues.isGroupAdaptive||this.parent.activeViewOptions.group.byDate)for(var n=this.renderDates.map(function(e){return new Date(+e)}),r=this.parent.activeViewOptions.showWeekend?o.CE:this.parent.activeViewOptions.workDays.length,a=this.colLevels.slice(0,1)[0],s=this.renderDates.map(Number).indexOf(+a[0].date),l=0;l<this.renderDates.length/r;l++)for(var p,c=n.splice(0,r),u=s,d=this,m=s;m<this.colLevels[0].length+s&&m<c.length;m++)(function(e){var n=c[parseInt(u.toString(),10)];if(u++,i){var a=d.colLevels[d.colLevels.length-1],s=a.length/r,o=a.slice(0,s);if(d.parent.activeViewOptions.group.hideNonWorkingDays&&0===(o=a.filter(function(e){return e.date.getDay()===n.getDay()})).length)return e-=1,p=e;for(var m=0;m<o.length;m++){var v=void 0;0!==m&&(v=[h.bqQ,h.X3y]),t(l,n,o[parseInt(m.toString(),10)],v)}}else t(l,n,d.colLevels[d.colLevels.length-1][0]);p=e})(m),m=p;else for(var v=0,g=this.colLevels[this.colLevels.length-2];v<g.length;v++)for(var f=g[v],n=f.renderDates.map(function(e){return new Date(+e)}),r=this.parent.activeViewOptions.showWeekend?o.CE:f.workDays.length,l=0;l<f.renderDates.length/r;l++)for(var c=n.splice(0,r),y=0,b=c;y<b.length;y++){var T=b[y];t(l,T,f)}return e},t.prototype.updateClassList=function(e){!this.isCustomMonth()&&this.isOtherMonth(e.date)&&e.className.push(h.Bgl),this.parent.isMinMaxDate(e.date)||e.className.push(h.U9N),this.updateSelectedCellClass(e)},t.prototype.updateSelectedCellClass=function(e){},t.prototype.isOtherMonth=function(e){return e.getTime()<this.monthDates.start.getTime()||e.getTime()>this.monthDates.end.getTime()},t.prototype.renderContentArea=function(){var e=this.createTableLayout(h.OzO);this.setAriaAttributes(e),this.addAutoHeightClass(e),"TimelineMonth"===this.parent.currentView&&this.createColGroup(e,this.colLevels[this.colLevels.length-1]);var t=new Date(this.parent.selectedDate.getTime());this.monthDates={start:this.parent.calendarUtil.firstDateOfMonth(t),end:this.parent.calendarUtil.lastDateOfMonth(o.zI(t,this.parent.activeViewOptions.interval-1))};var i=e.querySelector("tbody");return(0,r.R3)(this.getContentRows(),i),this.wireCellEvents(i),e},t.prototype.getContentRows=function(){for(var e=[],t=(0,r.az)("tr"),i=(0,r.az)("td",{attrs:{"aria-selected":"false"}}),n=this.getContentSlots(),a=0;a<n.length;a++){for(var s=t.cloneNode(),o=0;o<n[parseInt(a.toString(),10)].length;o++){var l=this.createContentTd(n[parseInt(a.toString(),10)][parseInt(o.toString(),10)],i);s.appendChild(l)}e.push(s)}return e},t.prototype.createContentTd=function(e,t){var i=t.cloneNode();e.colSpan&&i.setAttribute("colspan",e.colSpan.toString()),this.updateClassList(e);var n=e.type;if(-1!==e.className.indexOf(h.jKe)&&(e.className.push(h.usT),n="resourceGroupCells"),this.parent.workHours.highlight&&this.isWorkDay(e.date,e.workDays)&&e.className.push(h.ion),this.isCurrentDate(e.date)&&e.className.push(h.Ix6),(0,r.cn)([i],e.className),i.setAttribute("data-date",e.date.getTime().toString()),!(0,r.le)(e.groupIndex)||this.parent.uiStateValues.isGroupAdaptive){var a=this.parent.uiStateValues.isGroupAdaptive?this.parent.uiStateValues.groupIndex:e.groupIndex;i.setAttribute("data-group-index",""+a)}if(this.renderDateHeaderElement(e,i),this.parent.activeViewOptions.cellTemplate){var s={date:e.date,type:n,groupIndex:e.groupIndex},o=this.parent.element.id+"_",p=this.parent.activeViewOptions.cellTemplateName,c=[].slice.call(this.parent.getCellTemplate()(s,this.parent,"cellTemplate",o+p+"cellTemplate",!1));(0,r.R3)(c,i)}var u={elementType:n,element:i,date:e.date,groupIndex:e.groupIndex};return this.parent.trigger(l.cw,u),i},t.prototype.renderDateHeaderElement=function(e,t){if("TimelineMonth"!==this.parent.currentView){var i=(0,r.az)("div",{className:h.iGk});if(this.parent.activeViewOptions.cellHeaderTemplate){var n={date:e.date,type:e.type,groupIndex:e.groupIndex},a=this.parent.element.id+"_",s=this.parent.activeViewOptions.cellHeaderTemplateName,l=[].slice.call(this.parent.getCellHeaderTemplate()(n,this.parent,"cellHeaderTemplate",a+s+"cellHeaderTemplate",!1));(0,r.R3)(l,i)}else{var p=!this.parent.calendarUtil.isMonthStart(e.date)||this.isCurrentDate(e.date)||this.parent.isAdaptive?this.parent.globalize.formatDate(e.date,{skeleton:"d",calendar:this.parent.getCalendarMode()}):this.parent.globalize.formatDate(e.date,{format:"MMM d",calendar:this.parent.getCalendarMode()});i.innerHTML=o.hz(p,"single")}if(t.appendChild(i),"month"===this.getModuleName()){(0,r.cn)([i],h.DaF);var c=this.parent.globalize.formatDate(e.date,{skeleton:"full",calendar:this.parent.getCalendarMode()});t.setAttribute("aria-label",c)}}},t.prototype.getMonthStart=function(e){var t="Month"===this.parent.currentView&&!(0,r.le)(this.parent.activeViewOptions.displayDate)&&(this.parent.uiStateValues.isCustomMonth||this.isCustomRange())?this.parent.activeViewOptions.displayDate:!(this.parent.uiStateValues.isCustomMonth||this.isCustomRange())&&this.isCustomMonth()?e:this.parent.calendarUtil.firstDateOfMonth(e),i=o.tk(t,this.parent.activeViewOptions.firstDayOfWeek);return new Date(i.getFullYear(),i.getMonth(),i.getDate())},t.prototype.getMonthEnd=function(e){if(this.isCustomMonth()){var t=this.getMonthStart(e),i=o.CE*(this.parent.activeViewOptions.numberOfWeeks>0?this.parent.activeViewOptions.numberOfWeeks:o.aJ);return o.E4(t,i-1)}var n=o.zI(e,this.parent.activeViewOptions.interval-1),r=o.tk(this.parent.calendarUtil.lastDateOfMonth(n),this.parent.activeViewOptions.firstDayOfWeek);return o.E4(r,o.CE-1)},t.prototype.isCustomRange=function(){var e=this.parent.getCurrentViewDates();if(e&&e.length>0){var t=o.zS(this.parent.selectedDate).getTime(),i=o.tk(e[e.length-1],this.parent.activeViewOptions.firstDayOfWeek);return!(t>=o.tk(e[0],this.parent.activeViewOptions.firstDayOfWeek).getTime()&&t<=o.E4(i,6).getTime())}return!1},t.prototype.getRenderDates=function(e){var t=[],i=o.zS(this.parent.selectedDate),n=this.getMonthStart(i),r=this.getMonthEnd(i);do this.parent.activeViewOptions.showWeekend?t.push(n):this.isWorkDay(n,e)&&t.push(n),(n=o.E4(n,1)).getHours()>0&&(n=o.zS(n));while(n.getTime()<=r.getTime());return e||(this.renderDates=t),this.parent.headerModule&&this.parent.headerModule.previousNextIconHandler(),t},t.prototype.getNextPreviousDate=function(e){if(!this.isCustomMonth())return o.zI(this.parent.selectedDate,("next"===e?1:-1)*this.parent.activeViewOptions.interval);var t=this.parent.getCurrentViewDates(),i=o.tk("next"===e?t[t.length-1]:t[0],this.parent.activeViewOptions.firstDayOfWeek);return o.E4(i,"next"===e?o.CE:-(this.parent.activeViewOptions.numberOfWeeks>0?this.parent.activeViewOptions.numberOfWeeks:o.aJ)*o.CE)},t.prototype.getStartDate=function(){return this.getMonthStart(this.parent.selectedDate)},t.prototype.getEndDate=function(){return this.getMonthEnd(this.parent.selectedDate)},t.prototype.getEndDateFromStartDate=function(e){return o.E4(new Date(e.getTime()),1)},t.prototype.getDateRangeText=function(){if(this.parent.isAdaptive||(0,r.le)(this.parent.activeViewOptions.dateFormat)){var e=this.parent.selectedDate,t=void 0,i=!1;if(this.isCustomMonth()){var n=this.parent.getCurrentViewDates();(i=n[0].getMonth()!==n[n.length-1].getMonth()||n[0].getFullYear()!==n[n.length-1].getFullYear())&&(e=n[0],t=n[n.length-1])}var a="Month"!==this.parent.currentView||!this.isCustomMonth();if(this.parent.activeViewOptions.interval>1&&a||i){if(t=t||o.zI(o._m(e),this.parent.activeViewOptions.interval-1),e.getFullYear()===t.getFullYear()){var s=this.parent.globalize.formatDate(e,{format:"MMMM",calendar:this.parent.getCalendarMode()})+" - "+this.parent.globalize.formatDate(t,{format:"MMMM ",calendar:this.parent.getCalendarMode()})+this.parent.globalize.formatDate(t,{skeleton:"y",calendar:this.parent.getCalendarMode()});return o.hz(s,"single")}var l=this.parent.globalize.formatDate(e,{format:"MMMM",calendar:this.parent.getCalendarMode()})+" "+e.getFullYear()+" - "+this.parent.globalize.formatDate(t,{format:"MMMM ",calendar:this.parent.getCalendarMode()})+this.parent.globalize.formatDate(t,{skeleton:"y",calendar:this.parent.getCalendarMode()});return o.hz(l,"single")}var h=this.parent.activeViewOptions.dateFormat?this.parent.activeViewOptions.dateFormat:"MMMM y";return o.hz(this.parent.globalize.formatDate(e,{format:h,calendar:this.parent.getCalendarMode()}),"single")}return this.formatDateRange(this.parent.selectedDate)},t.prototype.getLabelText=function(e){return this.parent.localeObj.getConstant(e)+" of "+o.hz(this.parent.globalize.formatDate(this.parent.selectedDate,{format:"MMMM y",calendar:this.parent.getCalendarMode()}),"single")},t.prototype.createWeekNumberElement=function(e){var t=(0,r.az)("tr"),i=(0,r.az)("td",{className:h.Vbv,attrs:{title:e?this.parent.localeObj.getConstant("week")+" "+e:""},innerHTML:e||""});return t.appendChild(i),this.parent.trigger(l.cw,{elementType:"weekNumberCell",element:i}),t},t.prototype.unWireEvents=function(){var e=this.element.querySelector("."+h.y0r);e&&r.bi.remove(e,"scroll",this.onContentScroll)},t.prototype.isCustomMonth=function(){return"Month"===this.parent.currentView&&(!(0,r.le)(this.parent.activeViewOptions.displayDate)||this.parent.activeViewOptions.numberOfWeeks>0)},t.prototype.getModuleName=function(){return"month"},t.prototype.destroy=function(){this.parent&&(!this.parent||!this.parent.isDestroyed)&&this.element&&(this.monthEvent&&(this.monthEvent.destroy(),this.monthEvent=null),this.unWireEvents(),this.parent.resourceBase&&this.parent.resourceBase.destroy(),this.parent.scheduleTouchModule&&this.parent.scheduleTouchModule.resetValues(),e.prototype.destroy.call(this))},t}(a._)},25074:function(e,t,i){"use strict";i.d(t,{X:function(){return u}});var n,r=i(92268),a=i(98095),s=i(89124),o=i(12162),l=i(66308),h=i(30811),p=i(43782),c=(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),u=function(e){function t(t){var i=e.call(this,t)||this;return i.viewClass="e-day-view",i.isInverseTableSelect=!0,i.baseCssClass="e-vertical-view",i.appointment=null,i}return c(t,e),t.prototype.getModuleName=function(){return"verticalView"},t.prototype.addEventListener=function(){this.parent.on(h.Cn,this.scrollUiUpdate,this),this.parent.on(h.mH,this.renderEvents,this)},t.prototype.removeEventListener=function(){this.parent&&(this.parent.off(h.Cn,this.scrollUiUpdate),this.parent.off(h.mH,this.renderEvents))},t.prototype.renderEvents=function(){this.appointment=this.parent.activeViewOptions.timeScale.enable?new s.m(this.parent):new o.T(this.parent),this.appointment.renderAppointments(),this.parent.notify(h.FJ,{})},t.prototype.onContentScroll=function(e){this.parent.removeNewEventElement();var t=e.target;this.parent.notify(h.X6,e),this.scrollLeftPanel(t),this.scrollTopPanel(t),this.parent.isAdaptive||(this.parent.uiStateValues.top=t.scrollTop),this.parent.uiStateValues.left=t.scrollLeft,(0,r.le)(this.parent.quickPopup)||this.parent.quickPopup.quickPopupHide(),this.setPersistence()},t.prototype.onAdaptiveMove=function(e){this.parent.uiStateValues.action&&e.preventDefault()},t.prototype.onAdaptiveScroll=function(e){this.parent&&!this.parent.isDestroyed&&(this.parent.removeNewEventElement(),this.parent.uiStateValues.top=e.target.scrollTop)},t.prototype.scrollLeftPanel=function(e){var t=this.getLeftPanelElement();(0,r.le)(t)||(t.scrollTop=e.scrollTop)},t.prototype.scrollUiUpdate=function(e){if(this.parent){var t=this.parent.element.querySelector("."+p.S7y),i=this.getHeaderBarHeight(),n=this.getLeftPanelElement(),r=this.getScrollableElement(),a=this.getDatesHeaderElement(),s=this.parent.element.offsetHeight-i-a.offsetHeight;this.setContentHeight(r,n,s),this.setColWidth(r);var o=l.Iz();a.firstElementChild.style[e.cssProperties.rtlBorder]="",a.style[e.cssProperties.rtlPadding]="";var h=!this.parent.enableAllDayScroll||!(r.offsetWidth-r.clientWidth<=t.offsetWidth-t.clientWidth&&t.classList.contains("e-all-day-scroll"));r.offsetWidth-r.clientWidth>0&&h?(a.firstElementChild.style[e.cssProperties.border]=o>0?"1px":"0px",a.style[e.cssProperties.padding]=o>0?o-1+"px":"0px"):(a.firstElementChild.style[e.cssProperties.border]="",a.style[e.cssProperties.padding]=""),e.isPreventScrollUpdate||(this.parent.uiStateValues.isInitial?(this.parent.currentView.indexOf("Timeline")>-1&&(r.scrollTop=this.parent.uiStateValues.top),this.scrollToWorkHour(),this.parent.uiStateValues.isInitial=!1):(n&&(n.scrollTop=this.parent.uiStateValues.top),r.scrollTop=this.parent.uiStateValues.top,r.scrollLeft=this.parent.uiStateValues.left)),this.parent.activeViewOptions.timeScale.enable&&this.highlightCurrentTime(),this.retainScrollPosition()}},t.prototype.setContentHeight=function(e,t,i){(!this.parent.isAdaptive||this.isTimelineView())&&((0,r.le)(t)||(t.style.height="auto"===this.parent.height?"auto":(0,r.Ac)(i-this.getScrollXIndent(e)))),e.style.height="auto"===this.parent.height?"auto":(0,r.Ac)(i)},t.prototype.scrollToWorkHour=function(){if(this.parent.workHours.highlight){var e=this.element.querySelector("."+p.shB);e&&(this.getScrollableElement().scrollTop=e.offsetTop,this.parent.uiStateValues.top=e.offsetTop,this.parent.uiStateValues.left=0)}},t.prototype.scrollToHour=function(e,t){var i=this.parent.getStartEndTime(e);if(!(0,r.le)(t)){var n=this.element.querySelector("."+p.Tb6+'[data-date="'+new Date(l.zS(t)).getTime()+'"]');if(n){if(this.parent.enableRtl){var a=this.element.querySelector("."+p.OzO);this.getScrollableElement().scrollLeft=-(a.offsetWidth-n.offsetLeft-n.offsetWidth)}else this.getScrollableElement().scrollLeft=n.offsetLeft}}(0,r.le)(i)||(this.getScrollableElement().scrollTop=this.getTopFromDateTime(i))},t.prototype.scrollToDate=function(e){this.scrollToHour(null,e)},t.prototype.generateColumnLevels=function(){var e=this.getDateSlots(this.renderDates,this.parent.activeViewOptions.workDays),t=[];if(this.parent.activeViewOptions.group.resources.length>0){if(t=this.parent.resourceBase.generateResourceLevels(e),this.parent.activeViewOptions.group.hideNonWorkingDays)for(;0===t[0].length;)this.parent.setProperties({selectedDate:this.parent.activeView.getNextPreviousDate(this.previousNextAction)},!0),this.parent.activeView.getRenderDates(),this.parent.headerModule&&(this.parent.headerModule.setCalendarDate(this.parent.selectedDate),this.parent.headerModule.updateDateRange()),e=this.getDateSlots(this.renderDates,this.parent.activeViewOptions.workDays),t=this.parent.resourceBase.generateResourceLevels(e);if(this.parent.uiStateValues.isGroupAdaptive&&this.parent.resourceBase.lastResourceLevel.length>0){var i=this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex],n=i.resourceData[i.resource.startHourField],r=i.resourceData[i.resource.endHourField];t=[this.getDateSlots(i.renderDates,i.workDays,n,r)]}}else t.push(e);return this.colLevels=t,t},t.prototype.getDateSlots=function(e,t,i,n){void 0===i&&(i=this.parent.workHours.start),void 0===n&&(n=this.parent.workHours.end);for(var r=[],a=this.parent.getStartEndTime(i),s=this.parent.getStartEndTime(n),o=0;o<e.length;o++){var l=e[o],h=[p.Tb6];this.isCurrentDate(l)&&h.push(p.CgT),r.push({date:l,type:"dateHeader",className:h,colSpan:1,workDays:t,startHour:new Date(+a),endHour:new Date(+s)})}return r},t.prototype.isWorkHourRange=function(e){return this.getStartHour().getTime()<=e.getTime()&&this.getEndHour().getTime()>=e.getTime()},t.prototype.highlightCurrentTime=function(){var e=this;if(!(this.parent.activeViewOptions.headerRows.length>0)||"Hour"===this.parent.activeViewOptions.headerRows.slice(-1)[0].option){var t=this.parent.getCurrentTime();if(this.parent.showTimeIndicator&&this.isWorkHourRange(t)){if(this.getCurrentTimeIndicatorIndex().length>0){if([].slice.call(this.element.querySelectorAll("."+p.bqQ)).length>0&&this.changeCurrentTimePosition(),(0,r.le)(this.currentTimeIndicatorTimer)){var i=l.X$-(1e3*t.getSeconds()+t.getMilliseconds());i<=l.X$-1e3&&window.setTimeout(function(){(0,r.le)(e.currentTimeIndicatorTimer)||(e.clearCurrentTimeIndicatorTimer(),e.changeCurrentTimePosition(),e.updateCurrentTimeIndicatorTimer())},i),this.updateCurrentTimeIndicatorTimer()}}else this.clearCurrentTimeIndicatorTimer()}else this.clearCurrentTimeIndicatorTimer()}},t.prototype.getCurrentTimeIndicatorIndex=function(){var e=[];if((0,r.le)(this.parent.resourceBase)||!(this.parent.activeViewOptions.group.resources.length>0)||this.parent.uiStateValues.isGroupAdaptive){var t=this.parent.uiStateValues.isGroupAdaptive&&this.parent.resourceBase.lastResourceLevel.length>0?this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex].renderDates:this.renderDates,i=this.parent.getIndexOfDate(t,l.zS(this.parent.getCurrentTime()));i>=0&&e.push(i)}else{var n=0,a=l.zS(this.parent.getCurrentTime());if(this.parent.virtualScrollModule&&this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.activeViewOptions.group.byDate)for(var s=0,o=this.parent.resourceBase.expandedResources;s<o.length;s++){var h=o[s];l.zS(h.date).getTime()===a.getTime()&&e.push(n),n+=1}else for(var p=0,c=this.parent.resourceBase.renderedResources;p<c.length;p++){var h=c[p],i=this.parent.getIndexOfDate(h.renderDates,a);if(i>=0){var u=this.parent.activeViewOptions.group.byDate?this.parent.resourceBase.lastResourceLevel.length*i+n:n+i;e.push(u)}n+=this.parent.activeViewOptions.group.byDate?1:h.renderDates.length}}return e},t.prototype.clearCurrentTimeIndicatorTimer=function(){(0,r.le)(this.currentTimeIndicatorTimer)||(window.clearInterval(this.currentTimeIndicatorTimer),this.currentTimeIndicatorTimer=null,this.removeCurrentTimeIndicatorElements())},t.prototype.updateCurrentTimeIndicatorTimer=function(){var e=this;this.currentTimeIndicatorTimer=window.setInterval(function(){e.changeCurrentTimePosition()},l.X$)},t.prototype.removeCurrentTimeIndicatorElements=function(){for(var e="."+p.SVS+",."+p.PQI+",."+p.MPN,t=[].slice.call(this.element.querySelectorAll(e)),i=0;i<t.length;i++){var n=t[i];(0,r.Od)(n)}},t.prototype.changeCurrentTimePosition=function(){if(this.parent&&(!this.parent||!this.parent.isDestroyed)){this.removeCurrentTimeIndicatorElements();var e=this.getCurrentTimeIndicatorIndex(),t=this.parent.getContentTable().rows[0],i=this.getTopFromDateTime(this.parent.getCurrentTime()),n=(0,r.Ac)(i),a=Math.floor(i/t.cells[0].offsetHeight),s=this.getLeftPanelElement(),o=[].slice.call(s.querySelectorAll("tr"));if(!((0,r.le)(a)||isNaN(a))&&a!==o.length){for(var l=[].slice.call(this.element.querySelectorAll("."+p.C9y)),h=0,c=e[0];h<c;h++)l[parseInt(h.toString(),10)].appendChild((0,r.az)("div",{className:p.SVS,styles:"top:"+n}));for(var u=0;u<e.length;u++)l[parseInt(e[u].toString(),10)].appendChild((0,r.az)("div",{className:p.PQI,styles:"top:"+n}));var d=(0,r.az)("div",{innerHTML:this.parent.getTimeString(this.parent.getCurrentTime()),className:p.MPN,styles:"top:"+n});a<=o.length&&((0,r.IV)(s.querySelectorAll("."+p.qMM),p.qMM),o[parseInt(a.toString(),10)]&&(0,r.cn)([o[parseInt(a.toString(),10)].lastElementChild],p.qMM),(0,r.Ce)([d],s),d.style.top=(0,r.Ac)(d.offsetTop-d.offsetHeight/2))}}},t.prototype.getTopFromDateTime=function(e){var t=this.getStartHour();return((e.getHours()-t.getHours())*60+(e.getMinutes()-t.getMinutes()))*this.getWorkCellHeight()*this.parent.activeViewOptions.timeScale.slotCount/this.parent.activeViewOptions.timeScale.interval},t.prototype.getWorkCellHeight=function(){return parseFloat(this.element.querySelector("."+p.bqQ).getBoundingClientRect().height.toFixed(2))},t.prototype.getTdContent=function(e,t,i){var n,a=(0,r.az)("div"),s="",o=this.parent.element.id+"_";switch(t){case"dateHeader":if(this.parent.activeViewOptions.dateHeaderTemplate){s="dateHeaderTemplate";var h={date:e,type:t},p=this.parent.activeViewOptions.dateHeaderTemplateName;n=[].slice.call(this.parent.getDateHeaderTemplate()(h,this.parent,s,o+p+s,!1))}else a.innerHTML=this.parent.activeView.isTimelineView()?'<span class="e-header-date e-navigate">'+this.getTimelineDate(e)+"</span>":'<div class="e-header-day">'+l.hz(this.getDayName(e),"single")+'</div><div class="e-header-date e-navigate" role="link">'+this.getDate(e)+"</div>",n=[].slice.call(a.childNodes);break;case"majorSlot":if(this.parent.activeViewOptions.timeScale.majorSlotTemplate){s="majorSlotTemplate";var h={date:e,type:t};n=[].slice.call(this.parent.getMajorSlotTemplate()(h,this.parent,s,o+s,!1))}else a.innerHTML="<span>"+this.getTime(e)+"</span>",n=[].slice.call(a.childNodes);break;case"minorSlot":if(this.parent.activeViewOptions.timeScale.minorSlotTemplate){s="minorSlotTemplate";var h={date:e,type:t};n=[].slice.call(this.parent.getMinorSlotTemplate()(h,this.parent,s,o+s,!1))}else n=[].slice.call(a.childNodes);break;case"alldayCells":if(this.parent.activeViewOptions.cellTemplate){var p=this.parent.activeViewOptions.cellTemplateName;s="cellTemplate";var h={date:e,type:t,groupIndex:i};n=[].slice.call(this.parent.getCellTemplate()(h,this.parent,s,o+p+s,!1))}}return n},t.prototype.refreshHeader=function(){(0,r.Od)(this.element.querySelector("tbody tr")),this.renderHeader(),this.parent.notify(h.GE,{})},t.prototype.renderLayout=function(e){this.setPanel((0,r.az)("div",{className:p.FiE}));var t=[this.baseCssClass,this.viewClass];t.push(e),this.parent.activeViewOptions.group.byDate&&t.push("e-by-date"),this.parent.activeViewOptions.timeScale.enable||(0,r.cn)([this.element],[p.lr9,this.viewClass]),this.parent.activeViewOptions.allowVirtualScrolling&&!this.parent.uiStateValues.isGroupAdaptive&&t.push(p.Yn1),this.parent.rowAutoHeight&&this.parent.eventSettings.ignoreWhitespace&&t.push(p.na1),this.renderPanel(e),(0,r.cn)([this.element],t),this.element.appendChild(this.createTableLayout(p.NM_)),this.element.querySelector("table").setAttribute("role","presentation"),this.colLevels=this.generateColumnLevels(),this.renderHeader(),this.renderContent(),this.parent.uiStateValues.isGroupAdaptive&&!this.parent.element.querySelector("."+p.W52)&&this.renderResourceMobileLayout(),this.parent.notify(h.GE,{})},t.prototype.renderHeader=function(){var e=(0,r.az)("tr"),t=(0,r.az)("td");if(t.appendChild(this.renderDatesHeader()),this.parent.activeViewOptions.timeScale.enable){var i=(0,r.az)("td",{className:p.ZjX});i.appendChild(this.renderLeftIndent()),e.appendChild(i)}e.appendChild(t),(0,r.Ce)([e],this.element.querySelector("tbody"))},t.prototype.renderContent=function(){this.parent.activeViewOptions.group.resources.length>0&&(this.parent.resourceBase.renderedResources=(0,r.l7)([],this.parent.resourceBase.lastResourceLevel,null,!0));var e=(0,r.az)("tr"),t=(0,r.az)("td");if(this.parent.isAdaptive){t.setAttribute("colspan",this.parent.activeViewOptions.timeScale.enable?"2":"1");var i=(0,r.az)("div",{className:p.mbx});this.parent.activeViewOptions.timeScale.enable&&i.appendChild(this.renderTimeCells()),i.appendChild(this.renderContentArea()),t.appendChild(i),r.bi.add(i,"scroll",this.onAdaptiveScroll,this),r.bi.add(i,r.AR.touchMoveEvent,this.onAdaptiveMove,this),e.appendChild(t)}else{var n=this.colLevels.slice(0);this.parent.virtualScrollModule&&this.resetColLevels();var a=this.renderContentArea();if(t.appendChild(a),this.parent.activeViewOptions.timeScale.enable){var s=(0,r.az)("td");s.appendChild(this.renderTimeCells()),e.appendChild(s)}e.appendChild(t),this.parent.virtualScrollModule&&(this.colLevels=n,this.parent.virtualScrollModule.renderVirtualTrack(a))}this.element.querySelector("tbody").appendChild(e)},t.prototype.renderLeftIndent=function(){for(var e,t=(0,r.az)("div",{className:p.HRJ}),i=this.createTableLayout(),n=(0,r.az)("tr"),a=this.colLevels.length,s=0;s<a;s++){var o=n.cloneNode(),l={className:[this.colLevels[parseInt(s.toString(),10)][0]&&this.colLevels[parseInt(s.toString(),10)][0].className[0]],type:"emptyCells"};if(this.parent.activeViewOptions.showWeekNumber&&-1!==l.className.indexOf(p.Tb6)){l.className.push(p.Vbv);var h=this.parent.getWeekNumberContent(this.renderDates);l.template=[(0,r.az)("span",{innerHTML:""+h,attrs:{title:this.parent.localeObj.getConstant("week")+" "+h}})]}e=this.createTd(l),this.parent.renderHeaderIndentTemplate(l,e),o.appendChild(e),i.querySelector("tbody").appendChild(o)}var c=n.cloneNode(),u=(0,r.az)("div",{attrs:{tabindex:"0",role:"list",title:this.parent.localeObj.getConstant("expandAllDaySection"),"aria-disabled":"false","aria-label":"Expand section"},className:p.Z6D+" "+p.qro+" "+p.Wmm+" "+p.cSX}),d={className:[p.nqV],type:"emptyCells"};return(e=this.createTd(d)).appendChild(u),this.parent.renderHeaderIndentTemplate(d,e),c.appendChild(e),i.querySelector("tbody").appendChild(c),t.appendChild(i),t},t.prototype.renderDatesHeader=function(){var e=(0,r.az)("div",{className:p.nXq}),t=(0,r.az)("div",{className:p.S7y});e.appendChild(t);for(var i=this.createTableLayout(),n=(0,r.az)("tr",{className:p.wKf}),a=this.colLevels.length,s=this.colLevels[a-1],o=0;o<a;o++){for(var l=n.cloneNode(),h=this.colLevels[parseInt(o.toString(),10)],c=0;c<h.length;c++)l.appendChild(this.createTd(h[parseInt(c.toString(),10)]));i.querySelector("tbody").appendChild(l)}return this.createAllDayRow(i,s),this.createColGroup(i,s),t.appendChild(i),e},t.prototype.createAllDayRow=function(e,t){for(var i=(0,r.az)("tr",{className:p.aT7}),n=0;n<t.length;n++){var a=(0,r.l7)({},t[parseInt(n.toString(),10)]);a.className=[p.nqV],a.type="alldayCells";var s=this.createTd(a);s.setAttribute("data-date",a.date.getTime().toString()),(0,r.le)(a.groupIndex)?this.parent.uiStateValues.isGroupAdaptive&&s.setAttribute("data-group-index",""+this.parent.uiStateValues.groupIndex):s.setAttribute("data-group-index",""+a.groupIndex),this.wireCellEvents(s),i.appendChild(s)}e.querySelector("tbody").appendChild(i);var o=(0,r.az)("thead");o.appendChild(this.parent.eventBase.createEventWrapper("allDay")),(0,r.Ce)([o],e)},t.prototype.createTd=function(e){var t=(0,r.az)("td");if(this.addAttributes(e,t),e.date&&e.type){var i=this.getTdContent(e.date,e.type,e.groupIndex);i&&i.length&&(0,r.R3)(i,t)}this.parent.isMinMaxDate(l.zS(new Date(""+e.date)))||(0,r.cn)([t],p.U9N),"resourceHeader"===e.type&&this.setResourceHeaderContent(t,e),"dateHeader"===e.type&&e.className.indexOf(p.Tb6)>=0&&(t.setAttribute("data-date",e.date.getTime().toString()),(0,r.le)(e.groupIndex)||t.setAttribute("data-group-index",""+e.groupIndex),this.wireMouseEvents(t));var n={elementType:e.type,element:t,date:e.date,groupIndex:e.groupIndex};return this.parent.trigger(h.cw,n),t},t.prototype.wireCellEvents=function(e){r.bi.add(e,"mousedown",this.parent.workCellAction.cellMouseDown,this.parent.workCellAction),this.wireMouseEvents(e)},t.prototype.wireMouseEvents=function(e){r.bi.add(e,"click",this.parent.workCellAction.cellClick,this.parent.workCellAction),this.parent.isAdaptive||r.bi.add(e,"dblclick",this.parent.workCellAction.cellDblClick,this.parent.workCellAction)},t.prototype.renderTimeCells=function(){var e=this,t=(0,r.az)("div",{className:p.JhI}),i=this.createTableLayout(),n=(0,r.az)("tr");return this.getTimeSlotRows(function(t){t.type=t.first?"majorSlot":"minorSlot",t.className=t.last?[p.yux,p.re0]:[p.re0];var r=n.cloneNode(),a={date:t.date,type:t.type,className:t.className};return r.appendChild(e.createTd(a)),i.querySelector("tbody").appendChild(r),t}),t.appendChild(i),t},t.prototype.renderContentArea=function(){var e=(0,r.az)("div",{className:p.y0r}),t=this.createTableLayout(p.OzO);return this.setAriaAttributes(t),this.addAutoHeightClass(t),this.renderContentTable(t),this.createColGroup(t,this.colLevels.slice(-1)[0]),e.appendChild(t),this.wireCellEvents(t.querySelector("tbody")),r.bi.add(e,"scroll",this.onContentScroll,this),r.bi.add(e,r.AR.touchMoveEvent,this.onAdaptiveMove,this),e},t.prototype.renderContentTable=function(e){var t=e.querySelector("tbody");(0,r.R3)(this.getContentRows(),t),this.renderContentTableHeader(e)},t.prototype.getContentRows=function(){var e=this,t=[],i=(0,r.az)("tr"),n=(0,r.az)("td",{attrs:{"aria-selected":"false"}});return this.getTimeSlotRows(function(r){for(var a=i.cloneNode(),s=0,o=e.colLevels[e.colLevels.length-1];s<o.length;s++){var l=o[s],h=e.createContentTd(l,r,n);a.appendChild(h)}return t.push(a),r}),t},t.prototype.createContentTd=function(e,t,i){var n=i.cloneNode();e.colSpan&&n.setAttribute("colspan",e.colSpan.toString());var a=this.getContentTdClass(t),s=l.zS(e.date);this.parent.isMinMaxDate(s)||a.push(p.U9N),l.q_(s,l.U8(t.date));var o="workCells";if(-1!==e.className.indexOf(p.jKe)&&(a.push(p.usT),o="resourceGroupCells"),this.parent.workHours.highlight&&(this.parent.activeViewOptions.timeScale.enable&&this.isWorkHour(s,e.startHour,e.endHour,e.workDays)||!this.parent.activeViewOptions.timeScale.enable&&this.isWorkDay(s,e.workDays))&&a.push(p.shB),(0,r.cn)([n],a),this.parent.activeViewOptions.cellTemplate){var c={date:s,type:o,groupIndex:e.groupIndex},u=this.parent.element.id+"_",d=this.parent.activeViewOptions.cellTemplateName,m=[].slice.call(this.parent.getCellTemplate()(c,this.parent,"cellTemplate",u+d+"cellTemplate",!1));(0,r.R3)(m,n)}if(n.setAttribute("data-date",s.getTime().toString()),!(0,r.le)(e.groupIndex)||this.parent.uiStateValues.isGroupAdaptive){var v=this.parent.uiStateValues.isGroupAdaptive?this.parent.uiStateValues.groupIndex:e.groupIndex;n.setAttribute("data-group-index",""+v)}var g={elementType:o,element:n,date:s,groupIndex:e.groupIndex};return this.parent.trigger(h.cw,g),n},t.prototype.getContentTdClass=function(e){return e.last?[p.bqQ]:[p.bqQ,p.pMB]},t.prototype.renderContentTableHeader=function(e){var t=(0,r.az)("thead");t.appendChild(this.parent.eventBase.createEventWrapper()),this.parent.activeViewOptions.timeScale.enable&&t.appendChild(this.parent.eventBase.createEventWrapper("timeIndicator")),(0,r.Ce)([t],e)},t.prototype.getScrollableElement=function(){return this.parent.isAdaptive&&!this.isTimelineView()?this.element.querySelector("."+p.mbx):this.getContentAreaElement()},t.prototype.getLeftPanelElement=function(){return this.element.querySelector("."+p.JhI)},t.prototype.getEndDateFromStartDate=function(e){var t=this.parent.activeViewOptions.timeScale.interval*l.X$/this.parent.activeViewOptions.timeScale.slotCount,i=new Date(e.getTime());return i.setMilliseconds(i.getMilliseconds()+t),i},t.prototype.getTimeSlotRows=function(e){var t=[],i=this.getStartHour(),n=this.getEndHour(),r=this.parent.activeViewOptions.timeScale.interval*l.X$,a=r/this.parent.activeViewOptions.timeScale.slotCount,s=Math.round(l.Mb/a),o=i.getTime(),h=n.getTime();if(o!==h){var p=this.parent.activeViewOptions.timeScale.interval/this.parent.activeViewOptions.timeScale.slotCount;s=Math.abs(h-o)/a-(new Date(h).getTimezoneOffset()-new Date(o).getTimezoneOffset())/p}this.parent.activeViewOptions.timeScale.enable||(s=1);for(var c=this.parent.getStartEndTime(this.parent.workHours.start),u=this.parent.getStartEndTime(this.parent.workHours.end),d=0;d<s;d++){var m=new Date(o+a*d);if(l.f3(m)||new Date(o).getTimezoneOffset()!==m.getTimezoneOffset()){var v=new Date(o).getTimezoneOffset()-m.getTimezoneOffset();m=new Date(m.getTime()-6e4*v)}var g=d%(r/a),f={date:new Date(""+m),startHour:c,endHour:u,first:0===g,middle:g<this.parent.activeViewOptions.timeScale.slotCount-1,last:g===this.parent.activeViewOptions.timeScale.slotCount-1,type:""};e&&e(f),t.push(f)}return t},t.prototype.getAdjustedDate=function(e){if(!this.parent.activeViewOptions.timeScale.enable)return new Date(e.setHours(0,0,0,0));for(var t=this.getTimeSlotRows(),i=new Date(new Date(t[0].date.getTime()).setHours(e.getHours(),e.getMinutes(),e.getMilliseconds())),n=0;n<t.length;n++)if(t[parseInt(n.toString(),10)].date.getTime()>i.getTime())return e.setHours(t[n-1].date.getHours(),t[n-1].date.getMinutes(),t[n-1].date.getMilliseconds()),new Date(e);return null},t.prototype.destroy=function(){if(this.parent&&(!this.parent||!this.parent.isDestroyed)&&(this.clearCurrentTimeIndicatorTimer(),this.element)){this.appointment&&(this.appointment.destroy(),this.appointment=null);var t=this.getContentAreaElement();t&&(r.bi.remove(t,"scroll",this.onContentScroll),r.bi.remove(t,r.AR.touchMoveEvent,this.onAdaptiveMove)),this.parent.resourceBase&&this.parent.resourceBase.destroy(),this.parent.scheduleTouchModule&&this.parent.scheduleTouchModule.resetValues(),e.prototype.destroy.call(this)}},t}(a._)},98095:function(e,t,i){"use strict";i.d(t,{_:function(){return o}});var n=i(92268),r=i(43782),a=i(30811),s=i(66308),o=function(){function e(e){this.previousNextAction="next",this.parent=e}return e.prototype.isTimelineView=function(){return -1!==this.parent.currentView.indexOf("Timeline")},e.prototype.getContentRows=function(){return[]},e.prototype.refreshHeader=function(){},e.prototype.refreshResourceHeader=function(){(0,n.Od)(this.element.querySelector("tbody").lastElementChild.firstElementChild);var e=(0,n.az)("td");e.appendChild(this.parent.resourceBase.createResourceColumn()),(0,n.Ce)([e],this.element.querySelector("tbody").lastElementChild),this.parent.notify(a.GE,{})},e.prototype.getDayName=function(e){return this.parent.getDayNames("abbreviated")[e.getDay()]},e.prototype.getDate=function(e){return this.parent.globalize.formatDate(e,{format:"d",calendar:this.parent.getCalendarMode()})},e.prototype.getTime=function(e){return this.parent.isAdaptive?"HH:mm"===this.parent.activeViewOptions.timeFormat||"HH.mm"===this.parent.activeViewOptions.timeFormat?this.parent.globalize.formatDate(e,{format:"H",calendar:this.parent.getCalendarMode()}):this.parent.globalize.formatDate(e,{skeleton:"h",calendar:this.parent.getCalendarMode()}):this.parent.getTimeString(e)},e.prototype.getTimelineDate=function(e){var t=this.parent.globalize.formatDate(e,{skeleton:"MMMd",calendar:this.parent.getCalendarMode()})+", "+this.parent.getDayNames("wide")[e.getDay()];return s.hz(t,"multiple")},e.prototype.createEventTable=function(e){var t=(0,n.az)("div",{className:r.XMQ});return(0,n.R3)(this.getEventRows(e),t),t},e.prototype.getEventRows=function(e){for(var t,i=[],a=0;a<e;a++)t=(0,n.az)("div",{className:r.eK$}),this.parent.resourceBase&&!this.parent.uiStateValues.isGroupAdaptive&&this.parent.resourceBase.renderedResources&&t.setAttribute("data-group-index",this.parent.resourceBase.renderedResources[parseInt(a.toString(),10)].groupIndex.toString()),i.push(t);return i},e.prototype.collapseRows=function(e){this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&(this.parent.resourceBase.hideResourceRows(e.querySelector("tbody")),this.parent.resourceBase.hideResourceRows(e.querySelector("."+r.XMQ)))},e.prototype.createTableLayout=function(e){var t=(0,n.az)("table",{className:r.Jj+" "+(e||"")}),i=(0,n.az)("tbody");return t.appendChild(i),t},e.prototype.setAriaAttributes=function(e){e.setAttribute("role","grid"),e.setAttribute("aria-label",this.getLabelText(this.parent.currentView))},e.prototype.createColGroup=function(e,t){var i=t.length;t[0]&&t[0].colSpan&&(i=t.map(function(e){return e.colSpan}).reduce(function(e,t){return e+t}));for(var r=(0,n.az)("colgroup"),a=0;a<i;a++)r.appendChild((0,n.az)("col"));(0,n.Ce)([r],e)},e.prototype.getScrollXIndent=function(e){return e.offsetHeight-e.clientHeight>0?s.Iz():0},e.prototype.scrollTopPanel=function(e){this.getDatesHeaderElement().firstElementChild.scrollLeft=e.scrollLeft},e.prototype.scrollHeaderLabels=function(e){for(var t=this.element.querySelector(".e-date-header-wrap table"),i=t.offsetWidth/t.querySelectorAll("colgroup col").length,r=0,a=[".e-header-year-cell",".e-header-month-cell",".e-header-week-cell",".e-header-cells"];r<a.length;r++){var s=a[r],o=[].slice.call(this.element.querySelectorAll(s));if(o.length>0){for(var l=0;l<o.length;l++)o[l].children[0].style[this.parent.enableRtl?"right":"left"]="";!function(t,r){for(var a,s=0,o=0,l=r?-e.scrollLeft:e.scrollLeft,h=0;h<t.length;h++){var p=t[h];if((o+=parseInt(p.getAttribute("colSpan"),10))>Math.floor(l/i)){a=p;break}s+=p.offsetWidth}(0,n.le)(a)||(a.children[0].style[r?"right":"left"]=l-s+"px")}(o,this.parent.enableRtl)}}},e.prototype.addAttributes=function(e,t){e.template&&(0,n.R3)(e.template,t),e.colSpan&&t.setAttribute("colspan",e.colSpan.toString()),e.className&&(0,n.cn)([t],e.className)},e.prototype.getHeaderBarHeight=function(){var e=2;if(this.parent.headerModule&&(e+=s.zp(this.parent.headerModule.getHeaderElement())),this.parent.uiStateValues.isGroupAdaptive){var t=this.parent.element.querySelector("."+r.pqP);t&&(e+=t.offsetHeight)}return e},e.prototype.renderPanel=function(e){e===r.Zr4?(0,n.Ce)([this.element],this.parent.element.querySelector("."+r.x83)):this.parent.element.querySelector("."+r.x83).appendChild(this.element)},e.prototype.setPanel=function(e){this.element=e},e.prototype.getPanel=function(){return this.element},e.prototype.getDatesHeaderElement=function(){return this.element.querySelector("."+r.nXq)},e.prototype.getDateSlots=function(e,t){return[]},e.prototype.generateColumnLevels=function(){return[]},e.prototype.getColumnLevels=function(){return this.colLevels},e.prototype.highlightCurrentTime=function(){},e.prototype.getStartDate=function(){return this.renderDates[0]},e.prototype.getEndDate=function(){return this.renderDates[this.renderDates.length-1]},e.prototype.startDate=function(){return this.renderDates[0]},e.prototype.endDate=function(){return s.E4(this.renderDates[this.renderDates.length-1],1)},e.prototype.getStartHour=function(){var e=this.parent.getStartEndTime(this.parent.activeViewOptions.startHour);return(0,n.le)(e)&&(e=new Date(2e3,0,0,0)),e},e.prototype.getEndHour=function(){var e=this.parent.getStartEndTime(this.parent.activeViewOptions.endHour);return(0,n.le)(e)&&(e=new Date(2e3,0,0,0)),e},e.prototype.isCurrentDate=function(e){return e.setHours(0,0,0,0)===new Date(this.parent.currentTimezoneDate).setHours(0,0,0,0)},e.prototype.isCurrentMonth=function(e){return this.parent.activeViewOptions.displayDate||this.parent.activeViewOptions.numberOfWeeks>0?this.parent.activeView.getStartDate().getTime()<=this.parent.getCurrentTime().getTime()&&this.parent.activeView.getEndDate().getTime()>=this.parent.getCurrentTime().getTime():e.getFullYear()===this.parent.getCurrentTime().getFullYear()&&e.getMonth()===this.parent.getCurrentTime().getMonth()},e.prototype.isWorkDay=function(e,t){return void 0===t&&(t=this.parent.activeViewOptions.workDays),t.indexOf(e.getDay())>=0},e.prototype.isWorkHour=function(e,t,i,r){return!((0,n.le)(t)||(0,n.le)(i))&&(t.setMilliseconds(0),i.setMilliseconds(0),!(s.U8(e)<s.U8(t)||s.U8(e)>=s.U8(i)||!this.isWorkDay(e,r)))},e.prototype.getRenderDates=function(e){var t=[];if("Week"===this.parent.currentView||"TimelineWeek"===this.parent.currentView)for(var i=s.zS(this.parent.selectedDate),n=s.tk(i,this.parent.activeViewOptions.firstDayOfWeek),r=0,a=s.CE*this.parent.activeViewOptions.interval;r<a;r++)this.parent.activeViewOptions.showWeekend?t.push(n):this.isWorkDay(n,e)&&t.push(n),n=s.E4(n,1);else if("WorkWeek"===this.parent.currentView||"TimelineWorkWeek"===this.parent.currentView)for(var n=s.tk(s.zS(this.parent.selectedDate),this.parent.activeViewOptions.firstDayOfWeek),r=0,o=s.CE*this.parent.activeViewOptions.interval;r<o;r++)this.isWorkDay(n,e)&&t.push(n),n=s.E4(n,1);else{var l="Agenda"===this.parent.currentView?this.parent.agendaDaysCount:this.parent.activeViewOptions.interval,n=s.zS(this.parent.selectedDate);do this.parent.activeViewOptions.showWeekend?t.push(n):this.isWorkDay(n,e)&&t.push(n),n=s.E4(n,1);while(l!==t.length)}return e||(this.renderDates=t),this.parent.headerModule&&this.parent.headerModule.previousNextIconHandler(),t},e.prototype.getNextPreviousDate=function(e){if(this.previousNextAction=e,"Day"===this.parent.currentView||"TimelineDay"===this.parent.currentView){if(this.parent.activeViewOptions.showWeekend){var t=this.parent.activeViewOptions.interval;return s.E4(this.parent.selectedDate,"next"===e?t:-t)}var i=void 0;if("next"===e)for(i=s.E4(this.renderDates.slice(-1)[0],1);!this.isWorkDay(i);)i=s.E4(i,1);else{i=s.E4(this.renderDates[0],-1);var n=0;do this.isWorkDay(i)&&(n+=1),this.parent.activeViewOptions.interval!==n&&(i=s.E4(i,-1));while(this.parent.activeViewOptions.interval!==n)}return i}var r="next"===e?s.CE:-s.CE;return s.E4(this.parent.selectedDate,r*this.parent.activeViewOptions.interval)},e.prototype.getLabelText=function(e){var t=e.charAt(0).toLowerCase()+e.substring(1);return this.parent.localeObj.getConstant(t)+" of "+s.hz(this.parent.globalize.formatDate(this.parent.selectedDate,{skeleton:"long",calendar:this.parent.getCalendarMode()}),"single")},e.prototype.getDateRangeText=function(){if(this.parent.isAdaptive){var e=this.parent.activeViewOptions.dateFormat?this.parent.activeViewOptions.dateFormat:"MMMM y";return s.hz(this.parent.globalize.formatDate(this.parent.selectedDate,{format:e,calendar:this.parent.getCalendarMode()}),"single")}return this.formatDateRange(this.renderDates[0],this.renderDates[this.renderDates.length-1])},e.prototype.formatDateRange=function(e,t){var i,r,a=this.parent.globalize,o=this.parent.getCalendarMode();if(e===t&&(t=null),!(0,n.le)(this.parent.activeViewOptions.dateFormat)){var l="";return l=t?a.formatDate(e,{format:this.parent.activeViewOptions.dateFormat,calendar:o})+" - "+a.formatDate(t,{format:this.parent.activeViewOptions.dateFormat,calendar:o}):a.formatDate(e,{format:this.parent.activeViewOptions.dateFormat,calendar:o}),s.hz(l,"multiple")}if(r="en"===this.parent.locale||"en-US"===this.parent.locale?(0,n.NA)("dateFormats.long",(0,n.bD)(o)):(0,n.NA)("main."+this.parent.locale+".dates.calendars."+o+".dateFormats.long",n.qV),!t)return s.hz(a.formatDate(e,{format:r,calendar:o}),"single");var h=r.trim().toLocaleLowerCase();return i="d"===h.substr(0,1)?e.getFullYear()===t.getFullYear()?e.getMonth()===t.getMonth()?a.formatDate(e,{format:"dd",calendar:o})+" - "+a.formatDate(t,{format:"dd MMMM yyyy",calendar:o}):a.formatDate(e,{format:"dd MMM",calendar:o})+" - "+a.formatDate(t,{format:"dd MMM yyyy",calendar:o}):a.formatDate(e,{format:"dd MMM yyyy",calendar:o})+" - "+a.formatDate(t,{format:"dd MMM yyyy",calendar:o}):"m"===h.substr(0,1)?e.getFullYear()===t.getFullYear()?e.getMonth()===t.getMonth()?a.formatDate(e,{format:"MMMM dd",calendar:o})+" - "+a.formatDate(t,{format:"dd, yyyy",calendar:o}):a.formatDate(e,{format:"MMM dd",calendar:o})+" - "+a.formatDate(t,{format:"MMM dd, yyyy",calendar:o}):a.formatDate(e,{format:"MMM dd, yyyy",calendar:o})+" - "+a.formatDate(t,{format:"MMM dd, yyyy",calendar:o}):a.formatDate(e,{format:r,calendar:o})+" - "+a.formatDate(t,{format:r,calendar:o}),s.hz(i,"multiple")},e.prototype.getMobileDateElement=function(e,t){return(0,n.az)("div",{className:t,innerHTML:'<div class="e-m-date">'+this.parent.globalize.formatDate(e,{format:"d",calendar:this.parent.getCalendarMode()})+'</div><div class="e-m-day">'+s.hz(this.parent.globalize.formatDate(e,{format:"E",calendar:this.parent.getCalendarMode()}),"single")+"</div>"})},e.prototype.setResourceHeaderContent=function(e,t,i){if(void 0===i&&(i=r.khW),this.parent.activeViewOptions.resourceHeaderTemplate){var a={resource:t.resource,resourceData:t.resourceData},s=this.parent.element.id+"_",o=this.parent.activeViewOptions.resourceHeaderTemplateName,l=[].slice.call(this.parent.getResourceHeaderTemplate()(a,this.parent,"resourceHeaderTemplate",s+o+"resourceHeaderTemplate",!1));(0,n.R3)(l,e)}else{var h=(0,n.az)("div",{className:i});this.parent.sanitize(t.resourceData[t.resource.textField],h),e.appendChild(h)}},e.prototype.renderResourceMobileLayout=function(){this.parent.resourceBase.lastResourceLevel&&this.parent.resourceBase.lastResourceLevel.length<=0||(this.parent.resourceBase.renderResourceHeader(),this.parent.resourceBase.renderResourceTree())},e.prototype.addAutoHeightClass=function(e){!this.parent.uiStateValues.isGroupAdaptive&&this.parent.rowAutoHeight&&this.isTimelineView()&&this.parent.activeViewOptions.group.resources.length>0&&(0,n.cn)([e],r.p2T)},e.prototype.getColElements=function(){return[].slice.call(this.element.querySelectorAll("."+r.y0r+" col, ."+r.S7y+" col"))},e.prototype.setColWidth=function(e){if(this.isTimelineView()){var t=this.getColElements(),i=this.element.querySelector("."+r.OzO+" tbody").getBoundingClientRect().width/(t.length/2);if(e.offsetHeight!==e.clientHeight){var a=this.parent.element.querySelector("."+r.OPv);(0,n.le)(a)||(0,n.V7)(a,{height:(0,n.Ac)(e.clientHeight)})}var s="."+r.Tb6+",."+r.re0+",."+r.xHy+",."+r.Gb7+",."+r.w9j;[].slice.call(this.element.querySelectorAll(s)).forEach(function(e){var t=parseInt((0,n.le)(e.getAttribute("colspan"))?"1":e.getAttribute("colspan"),10);(0,n.V7)(e,{width:(0,n.Ac)(i*t)})})}},e.prototype.resetColWidth=function(){for(var e=this.getColElements(),t=0;t<e.length;t++)e[t].style.width=""},e.prototype.getContentAreaElement=function(){return this.element.querySelector("."+r.y0r)},e.prototype.wireExpandCollapseIconEvents=function(){if(this.parent.resourceBase&&this.parent.resourceBase.resourceCollection.length>1)for(var e=[].slice.call(this.element.querySelectorAll("."+r.o_S)),t=0;t<e.length;t++){var i=e[t];n.bi.clearEvents(i),n.bi.add(i,"click",this.parent.resourceBase.onTreeIconClick,this.parent.resourceBase)}},e.prototype.scrollToDate=function(e){if(!(-1===["Month","TimelineMonth"].indexOf(this.parent.currentView)||(0,n.le)(e))){var t=this.getContentAreaElement(),i=new Date(s.zS(new Date(+e)).getTime()).getTime(),a=t.querySelector("."+r.bqQ+'[data-date="'+i+'"]');"Month"===this.parent.currentView&&a&&(t.scrollWidth>t.clientWidth&&(this.parent.enableRtl?t.scrollLeft=-(this.parent.getContentTable().offsetWidth-a.offsetLeft-a.offsetWidth):t.scrollLeft=a.offsetLeft),t.scrollTop=a.offsetTop),"TimelineMonth"===this.parent.currentView&&a&&(this.parent.enableRtl?t.scrollLeft=-(this.parent.getContentTable().offsetWidth-a.offsetLeft-a.offsetWidth):t.scrollLeft=a.offsetLeft)}},e.prototype.setPersistence=function(){if(this.parent.enablePersistence){var e=this.element.querySelector(".e-content-wrap");(0,n.le)(e)||(this.parent.scrollLeft=e.scrollLeft,this.parent.scrollTop=e.scrollTop)}},e.prototype.retainScrollPosition=function(){if(this.parent.enablePersistence){var e=this.parent.element.querySelector(".e-content-wrap");(0,n.le)(e)||(0,n.le)(this.parent.scrollLeft)||(0,n.le)(this.parent.scrollTop)||(e.scrollTop=this.parent.scrollTop,e.scrollLeft=this.parent.scrollLeft)}},e.prototype.getViewStartDate=function(){var e=this.renderDates[0];return this.parent.activeViewOptions.group.resources.length>0&&this.parent.resourceBase.lastResourceLevel.length>0&&(e=this.parent.resourceBase.getResourceRenderDates()[0]),e},e.prototype.getViewEndDate=function(){var e=s.E4(this.renderDates[this.renderDates.length-1],1);return this.parent.activeViewOptions.group.resources.length>0&&this.parent.resourceBase.lastResourceLevel.length>0&&(e=s.E4(this.parent.resourceBase.getResourceRenderDates().slice(-1)[0],1)),e},e.prototype.getAdjustedDate=function(e){return this.parent.activeViewOptions.timeScale.enable&&"Month"!==this.parent.currentView&&("TimelineYear"!==this.parent.currentView||0!==this.parent.activeViewOptions.group.resources.length)?"TimelineYear"===this.parent.currentView&&this.parent.activeViewOptions.group.resources.length>0?(e.setHours(0,0,0,0),new Date(e.setDate(1))):null:new Date(e.setHours(0,0,0,0))},e.prototype.resetColLevels=function(){this.parent.resourceBase.expandedResources=[];for(var e=this.parent.virtualScrollModule.getRenderedCount(),t=this.parent.activeViewOptions.group.byDate?this.colLevels[0]:this.parent.resourceBase.renderedResources,i=0,n=0;n<t.length&&!(i>=e);n++)i+=t[parseInt(n.toString(),10)].colSpan,this.parent.resourceBase.expandedResources.push(t[parseInt(n.toString(),10)]);this.parent.activeViewOptions.group.byDate?(this.colLevels[0]=this.parent.resourceBase.expandedResources,this.parent.virtualScrollModule.setRenderedDates(this.parent.resourceBase.expandedResources)):(this.colLevels[this.colLevels.length-2]=this.parent.resourceBase.expandedResources,this.parent.resourceBase.renderedResources=this.parent.resourceBase.expandedResources),"Month"!==this.parent.currentView&&(this.colLevels[this.colLevels.length-1]=this.colLevels[this.colLevels.length-1].slice(0,i),this.parent.resourceBase.expandedResources=this.colLevels[this.colLevels.length-1])},e.prototype.destroy=function(){this.element&&this.element.parentNode&&(0,n.Od)(this.element),this.element=null,this.renderDates=null,this.colLevels=null},e}()},60814:function(e,t,i){"use strict";i.d(t,{H:function(){return s}});var n,r=i(25074),a=(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=function(e){function t(t){var i=e.call(this,t)||this;return i.viewClass="e-week-view",i}return a(t,e),t.prototype.startDate=function(){return this.getViewStartDate()},t.prototype.endDate=function(){return this.getViewEndDate()},t.prototype.getModuleName=function(){return"week"},t}(r.X)},37774:function(e,t,i){"use strict";i.d(t,{U:function(){return s}});var n,r=i(25074),a=(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=function(e){function t(t){var i=e.call(this,t)||this;return i.viewClass="e-work-week-view",i}return a(t,e),t.prototype.startDate=function(){return this.getViewStartDate()},t.prototype.endDate=function(){return this.getViewEndDate()},t.prototype.getModuleName=function(){return"workWeek"},t}(r.X)},60201:function(e,t,i){"use strict";i.d(t,{S:function(){return r},r:function(){return n}});var n=function(){function e(){this.timezoneData=[],this.timezoneData=this.getTimezoneData()}return e.prototype.offset=function(e,t){var i=e.getTimezoneOffset();try{var n=new Date(e.toLocaleString("en-US",{timeZone:t}));if(!isNaN(n.getTime()))return(e.getTime()-n.getTime())/6e4+i;return 0}catch(e){return 0}},e.prototype.convert=function(e,t,i){"string"==typeof t&&(t=this.offset(e,t)),"string"==typeof i&&(i=this.offset(e,i));var n=e.getTimezoneOffset(),r=(e=new Date(e.getTime()+(t-i)*6e4)).getTimezoneOffset();return new Date(e.getTime()+(r-n)*6e4)},e.prototype.add=function(e,t){return this.convert(e,e.getTimezoneOffset(),t)},e.prototype.remove=function(e,t){return this.convert(e,t,e.getTimezoneOffset())},e.prototype.removeLocalOffset=function(e){return new Date(e.getTime()-6e4*e.getTimezoneOffset())},e.prototype.getLocalTimezoneName=function(){return window.Intl&&Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC"},e.prototype.getTimezoneData=function(){return r},e}(),r=[{Value:"Pacific/Niue",Text:"(UTC-11:00) Niue"},{Value:"Pacific/Pago_Pago",Text:"(UTC-11:00) Pago Pago"},{Value:"Pacific/Honolulu",Text:"(UTC-10:00) Hawaii Time"},{Value:"Pacific/Rarotonga",Text:"(UTC-10:00) Rarotonga"},{Value:"Pacific/Tahiti",Text:"(UTC-10:00) Tahiti"},{Value:"Pacific/Marquesas",Text:"(UTC-09:30) Marquesas"},{Value:"America/Anchorage",Text:"(UTC-09:00) Alaska Time"},{Value:"Pacific/Gambier",Text:"(UTC-09:00) Gambier"},{Value:"America/Los_Angeles",Text:"(UTC-08:00) Pacific Time"},{Value:"America/Tijuana",Text:"(UTC-08:00) Pacific Time - Tijuana"},{Value:"America/Vancouver",Text:"(UTC-08:00) Pacific Time - Vancouver"},{Value:"America/Whitehorse",Text:"(UTC-08:00) Pacific Time - Whitehorse"},{Value:"Pacific/Pitcairn",Text:"(UTC-08:00) Pitcairn"},{Value:"America/Denver",Text:"(UTC-07:00) Mountain Time"},{Value:"America/Phoenix",Text:"(UTC-07:00) Mountain Time - Arizona"},{Value:"America/Mazatlan",Text:"(UTC-07:00) Mountain Time - Chihuahua, Mazatlan"},{Value:"America/Dawson_Creek",Text:"(UTC-07:00) Mountain Time - Dawson Creek"},{Value:"America/Edmonton",Text:"(UTC-07:00) Mountain Time - Edmonton"},{Value:"America/Hermosillo",Text:"(UTC-07:00) Mountain Time - Hermosillo"},{Value:"America/Yellowknife",Text:"(UTC-07:00) Mountain Time - Yellowknife"},{Value:"America/Belize",Text:"(UTC-06:00) Belize"},{Value:"America/Chicago",Text:"(UTC-06:00) Central Time"},{Value:"America/Mexico_City",Text:"(UTC-06:00) Central Time - Mexico City"},{Value:"America/Regina",Text:"(UTC-06:00) Central Time - Regina"},{Value:"America/Tegucigalpa",Text:"(UTC-06:00) Central Time - Tegucigalpa"},{Value:"America/Winnipeg",Text:"(UTC-06:00) Central Time - Winnipeg"},{Value:"America/Costa_Rica",Text:"(UTC-06:00) Costa Rica"},{Value:"America/El_Salvador",Text:"(UTC-06:00) El Salvador"},{Value:"Pacific/Galapagos",Text:"(UTC-06:00) Galapagos"},{Value:"America/Guatemala",Text:"(UTC-06:00) Guatemala"},{Value:"America/Managua",Text:"(UTC-06:00) Managua"},{Value:"America/Cancun",Text:"(UTC-05:00) America Cancun"},{Value:"America/Bogota",Text:"(UTC-05:00) Bogota"},{Value:"Pacific/Easter",Text:"(UTC-05:00) Easter Island"},{Value:"America/New_York",Text:"(UTC-05:00) Eastern Time"},{Value:"America/Iqaluit",Text:"(UTC-05:00) Eastern Time - Iqaluit"},{Value:"America/Toronto",Text:"(UTC-05:00) Eastern Time - Toronto"},{Value:"America/Guayaquil",Text:"(UTC-05:00) Guayaquil"},{Value:"America/Havana",Text:"(UTC-05:00) Havana"},{Value:"America/Jamaica",Text:"(UTC-05:00) Jamaica"},{Value:"America/Lima",Text:"(UTC-05:00) Lima"},{Value:"America/Nassau",Text:"(UTC-05:00) Nassau"},{Value:"America/Panama",Text:"(UTC-05:00) Panama"},{Value:"America/Port-au-Prince",Text:"(UTC-05:00) Port-au-Prince"},{Value:"America/Rio_Branco",Text:"(UTC-05:00) Rio Branco"},{Value:"America/Halifax",Text:"(UTC-04:00) Atlantic Time - Halifax"},{Value:"America/Barbados",Text:"(UTC-04:00) Barbados"},{Value:"Atlantic/Bermuda",Text:"(UTC-04:00) Bermuda"},{Value:"America/Boa_Vista",Text:"(UTC-04:00) Boa Vista"},{Value:"America/Caracas",Text:"(UTC-04:00) Caracas"},{Value:"America/Curacao",Text:"(UTC-04:00) Curacao"},{Value:"America/Grand_Turk",Text:"(UTC-04:00) Grand Turk"},{Value:"America/Guyana",Text:"(UTC-04:00) Guyana"},{Value:"America/La_Paz",Text:"(UTC-04:00) La Paz"},{Value:"America/Manaus",Text:"(UTC-04:00) Manaus"},{Value:"America/Martinique",Text:"(UTC-04:00) Martinique"},{Value:"America/Port_of_Spain",Text:"(UTC-04:00) Port of Spain"},{Value:"America/Porto_Velho",Text:"(UTC-04:00) Porto Velho"},{Value:"America/Puerto_Rico",Text:"(UTC-04:00) Puerto Rico"},{Value:"America/Santo_Domingo",Text:"(UTC-04:00) Santo Domingo"},{Value:"America/Thule",Text:"(UTC-04:00) Thule"},{Value:"America/St_Johns",Text:"(UTC-03:30) Newfoundland Time - St. Johns"},{Value:"America/Araguaina",Text:"(UTC-03:00) Araguaina"},{Value:"America/Asuncion",Text:"(UTC-03:00) Asuncion"},{Value:"America/Belem",Text:"(UTC-03:00) Belem"},{Value:"America/Argentina/Buenos_Aires",Text:"(UTC-03:00) Buenos Aires"},{Value:"America/Campo_Grande",Text:"(UTC-03:00) Campo Grande"},{Value:"America/Cayenne",Text:"(UTC-03:00) Cayenne"},{Value:"America/Cuiaba",Text:"(UTC-03:00) Cuiaba"},{Value:"America/Fortaleza",Text:"(UTC-03:00) Fortaleza"},{Value:"America/Godthab",Text:"(UTC-03:00) Godthab"},{Value:"America/Maceio",Text:"(UTC-03:00) Maceio"},{Value:"America/Miquelon",Text:"(UTC-03:00) Miquelon"},{Value:"America/Montevideo",Text:"(UTC-03:00) Montevideo"},{Value:"Antarctica/Palmer",Text:"(UTC-03:00) Palmer"},{Value:"America/Paramaribo",Text:"(UTC-03:00) Paramaribo"},{Value:"America/Punta_Arenas",Text:"(UTC-03:00) Punta Arenas"},{Value:"America/Recife",Text:"(UTC-03:00) Recife"},{Value:"Antarctica/Rothera",Text:"(UTC-03:00) Rothera"},{Value:"America/Bahia",Text:"(UTC-03:00) Salvador"},{Value:"America/Santiago",Text:"(UTC-03:00) Santiago"},{Value:"Atlantic/Stanley",Text:"(UTC-03:00) Stanley"},{Value:"America/Noronha",Text:"(UTC-02:00) Noronha"},{Value:"America/Sao_Paulo",Text:"(UTC-02:00) Sao Paulo"},{Value:"Atlantic/South_Georgia",Text:"(UTC-02:00) South Georgia"},{Value:"Atlantic/Azores",Text:"(UTC-01:00) Azores"},{Value:"Atlantic/Cape_Verde",Text:"(UTC-01:00) Cape Verde"},{Value:"America/Scoresbysund",Text:"(UTC-01:00) Scoresbysund"},{Value:"Africa/Abidjan",Text:"(UTC+00:00) Abidjan"},{Value:"Africa/Accra",Text:"(UTC+00:00) Accra"},{Value:"Africa/Bissau",Text:"(UTC+00:00) Bissau"},{Value:"Atlantic/Canary",Text:"(UTC+00:00) Canary Islands"},{Value:"Africa/Casablanca",Text:"(UTC+00:00) Casablanca"},{Value:"America/Danmarkshavn",Text:"(UTC+00:00) Danmarkshavn"},{Value:"Europe/Dublin",Text:"(UTC+00:00) Dublin"},{Value:"Africa/El_Aaiun",Text:"(UTC+00:00) El Aaiun"},{Value:"Atlantic/Faroe",Text:"(UTC+00:00) Faeroe"},{Value:"Etc/UTC",Text:"(UTC+00:00) UTC (no daylight saving)"},{Value:"Europe/Lisbon",Text:"(UTC+00:00) Lisbon"},{Value:"Europe/London",Text:"(UTC+00:00) London"},{Value:"Africa/Monrovia",Text:"(UTC+00:00) Monrovia"},{Value:"Atlantic/Reykjavik",Text:"(UTC+00:00) Reykjavik"},{Value:"UTC",Text:"UTC"},{Value:"Africa/Algiers",Text:"(UTC+01:00) Algiers"},{Value:"Europe/Amsterdam",Text:"(UTC+01:00) Amsterdam"},{Value:"Europe/Andorra",Text:"(UTC+01:00) Andorra"},{Value:"Europe/Berlin",Text:"(UTC+01:00) Berlin"},{Value:"Europe/Brussels",Text:"(UTC+01:00) Brussels"},{Value:"Europe/Budapest",Text:"(UTC+01:00) Budapest"},{Value:"Europe/Belgrade",Text:"(UTC+01:00) Central European Time - Belgrade"},{Value:"Europe/Prague",Text:"(UTC+01:00) Central European Time - Prague"},{Value:"Africa/Ceuta",Text:"(UTC+01:00) Ceuta"},{Value:"Europe/Copenhagen",Text:"(UTC+01:00) Copenhagen"},{Value:"Europe/Gibraltar",Text:"(UTC+01:00) Gibraltar"},{Value:"Africa/Lagos",Text:"(UTC+01:00) Lagos"},{Value:"Europe/Luxembourg",Text:"(UTC+01:00) Luxembourg"},{Value:"Europe/Madrid",Text:"(UTC+01:00) Madrid"},{Value:"Europe/Malta",Text:"(UTC+01:00) Malta"},{Value:"Europe/Monaco",Text:"(UTC+01:00) Monaco"},{Value:"Africa/Ndjamena",Text:"(UTC+01:00) Ndjamena"},{Value:"Europe/Oslo",Text:"(UTC+01:00) Oslo"},{Value:"Europe/Paris",Text:"(UTC+01:00) Paris"},{Value:"Europe/Rome",Text:"(UTC+01:00) Rome"},{Value:"Europe/Stockholm",Text:"(UTC+01:00) Stockholm"},{Value:"Europe/Tirane",Text:"(UTC+01:00) Tirane"},{Value:"Africa/Tunis",Text:"(UTC+01:00) Tunis"},{Value:"Europe/Vienna",Text:"(UTC+01:00) Vienna"},{Value:"Europe/Warsaw",Text:"(UTC+01:00) Warsaw"},{Value:"Europe/Zurich",Text:"(UTC+01:00) Zurich"},{Value:"Asia/Amman",Text:"(UTC+02:00) Amman"},{Value:"Europe/Athens",Text:"(UTC+02:00) Athens"},{Value:"Asia/Beirut",Text:"(UTC+02:00) Beirut"},{Value:"Europe/Bucharest",Text:"(UTC+02:00) Bucharest"},{Value:"Africa/Cairo",Text:"(UTC+02:00) Cairo"},{Value:"Europe/Chisinau",Text:"(UTC+02:00) Chisinau"},{Value:"Asia/Damascus",Text:"(UTC+02:00) Damascus"},{Value:"Asia/Gaza",Text:"(UTC+02:00) Gaza"},{Value:"Europe/Helsinki",Text:"(UTC+02:00) Helsinki"},{Value:"Asia/Jerusalem",Text:"(UTC+02:00) Jerusalem"},{Value:"Africa/Johannesburg",Text:"(UTC+02:00) Johannesburg"},{Value:"Africa/Khartoum",Text:"(UTC+02:00) Khartoum"},{Value:"Europe/Kiev",Text:"(UTC+02:00) Kiev"},{Value:"Africa/Maputo",Text:"(UTC+02:00) Maputo"},{Value:"Europe/Kaliningrad",Text:"(UTC+02:00) Moscow-01 - Kaliningrad"},{Value:"Asia/Nicosia",Text:"(UTC+02:00) Nicosia"},{Value:"Europe/Riga",Text:"(UTC+02:00) Riga"},{Value:"Europe/Sofia",Text:"(UTC+02:00) Sofia"},{Value:"Europe/Tallinn",Text:"(UTC+02:00) Tallinn"},{Value:"Africa/Tripoli",Text:"(UTC+02:00) Tripoli"},{Value:"Europe/Vilnius",Text:"(UTC+02:00) Vilnius"},{Value:"Africa/Windhoek",Text:"(UTC+02:00) Windhoek"},{Value:"Asia/Baghdad",Text:"(UTC+03:00) Baghdad"},{Value:"Europe/Istanbul",Text:"(UTC+03:00) Istanbul"},{Value:"Europe/Minsk",Text:"(UTC+03:00) Minsk"},{Value:"Europe/Moscow",Text:"(UTC+03:00) Moscow+00 - Moscow"},{Value:"Africa/Nairobi",Text:"(UTC+03:00) Nairobi"},{Value:"Asia/Qatar",Text:"(UTC+03:00) Qatar"},{Value:"Asia/Riyadh",Text:"(UTC+03:00) Riyadh"},{Value:"Antarctica/Syowa",Text:"(UTC+03:00) Syowa"},{Value:"Asia/Tehran",Text:"(UTC+03:30) Tehran"},{Value:"Asia/Baku",Text:"(UTC+04:00) Baku"},{Value:"Asia/Dubai",Text:"(UTC+04:00) Dubai"},{Value:"Indian/Mahe",Text:"(UTC+04:00) Mahe"},{Value:"Indian/Mauritius",Text:"(UTC+04:00) Mauritius"},{Value:"Europe/Samara",Text:"(UTC+04:00) Moscow+01 - Samara"},{Value:"Indian/Reunion",Text:"(UTC+04:00) Reunion"},{Value:"Asia/Tbilisi",Text:"(UTC+04:00) Tbilisi"},{Value:"Asia/Yerevan",Text:"(UTC+04:00) Yerevan"},{Value:"Asia/Kabul",Text:"(UTC+04:30) Kabul"},{Value:"Asia/Aqtau",Text:"(UTC+05:00) Aqtau"},{Value:"Asia/Aqtobe",Text:"(UTC+05:00) Aqtobe"},{Value:"Asia/Ashgabat",Text:"(UTC+05:00) Ashgabat"},{Value:"Asia/Dushanbe",Text:"(UTC+05:00) Dushanbe"},{Value:"Asia/Karachi",Text:"(UTC+05:00) Karachi"},{Value:"Indian/Kerguelen",Text:"(UTC+05:00) Kerguelen"},{Value:"Indian/Maldives",Text:"(UTC+05:00) Maldives"},{Value:"Antarctica/Mawson",Text:"(UTC+05:00) Mawson"},{Value:"Asia/Yekaterinburg",Text:"(UTC+05:00) Moscow+02 - Yekaterinburg"},{Value:"Asia/Tashkent",Text:"(UTC+05:00) Tashkent"},{Value:"Asia/Colombo",Text:"(UTC+05:30) Colombo"},{Value:"Asia/Kolkata",Text:"(UTC+05:30) India Standard Time"},{Value:"Asia/Katmandu",Text:"(UTC+05:45) Katmandu"},{Value:"Asia/Almaty",Text:"(UTC+06:00) Almaty"},{Value:"Asia/Bishkek",Text:"(UTC+06:00) Bishkek"},{Value:"Indian/Chagos",Text:"(UTC+06:00) Chagos"},{Value:"Asia/Dhaka",Text:"(UTC+06:00) Dhaka"},{Value:"Asia/Omsk",Text:"(UTC+06:00) Moscow+03 - Omsk"},{Value:"Asia/Thimphu",Text:"(UTC+06:00) Thimphu"},{Value:"Antarctica/Vostok",Text:"(UTC+06:00) Vostok"},{Value:"Indian/Cocos",Text:"(UTC+06:30) Cocos"},{Value:"Asia/Yangon",Text:"(UTC+06:30) Rangoon"},{Value:"Asia/Bangkok",Text:"(UTC+07:00) Bangkok"},{Value:"Indian/Christmas",Text:"(UTC+07:00) Christmas"},{Value:"Antarctica/Davis",Text:"(UTC+07:00) Davis"},{Value:"Asia/Saigon",Text:"(UTC+07:00) Hanoi"},{Value:"Asia/Hovd",Text:"(UTC+07:00) Hovd"},{Value:"Asia/Jakarta",Text:"(UTC+07:00) Jakarta"},{Value:"Asia/Krasnoyarsk",Text:"(UTC+07:00) Moscow+04 - Krasnoyarsk"},{Value:"Asia/Brunei",Text:"(UTC+08:00) Brunei"},{Value:"Asia/Shanghai",Text:"(UTC+08:00) China Time - Beijing"},{Value:"Asia/Choibalsan",Text:"(UTC+08:00) Choibalsan"},{Value:"Asia/Hong_Kong",Text:"(UTC+08:00) Hong Kong"},{Value:"Asia/Kuala_Lumpur",Text:"(UTC+08:00) Kuala Lumpur"},{Value:"Asia/Macau",Text:"(UTC+08:00) Macau"},{Value:"Asia/Makassar",Text:"(UTC+08:00) Makassar"},{Value:"Asia/Manila",Text:"(UTC+08:00) Manila"},{Value:"Asia/Irkutsk",Text:"(UTC+08:00) Moscow+05 - Irkutsk"},{Value:"Asia/Singapore",Text:"(UTC+08:00) Singapore"},{Value:"Asia/Taipei",Text:"(UTC+08:00) Taipei"},{Value:"Asia/Ulaanbaatar",Text:"(UTC+08:00) Ulaanbaatar"},{Value:"Australia/Perth",Text:"(UTC+08:00) Western Time - Perth"},{Value:"Asia/Pyongyang",Text:"(UTC+08:30) Pyongyang"},{Value:"Asia/Dili",Text:"(UTC+09:00) Dili"},{Value:"Asia/Jayapura",Text:"(UTC+09:00) Jayapura"},{Value:"Asia/Yakutsk",Text:"(UTC+09:00) Moscow+06 - Yakutsk"},{Value:"Pacific/Palau",Text:"(UTC+09:00) Palau"},{Value:"Asia/Seoul",Text:"(UTC+09:00) Seoul"},{Value:"Asia/Tokyo",Text:"(UTC+09:00) Tokyo"},{Value:"Australia/Darwin",Text:"(UTC+09:30) Central Time - Darwin"},{Value:"Antarctica/DumontDUrville",Text:'(UTC+10:00) Dumont D"Urville'},{Value:"Australia/Brisbane",Text:"(UTC+10:00) Eastern Time - Brisbane"},{Value:"Pacific/Guam",Text:"(UTC+10:00) Guam"},{Value:"Asia/Vladivostok",Text:"(UTC+10:00) Moscow+07 - Vladivostok"},{Value:"Pacific/Port_Moresby",Text:"(UTC+10:00) Port Moresby"},{Value:"Pacific / Chuuk",Text:"(UTC+10:00) Truk"},{Value:"Australia/Adelaide",Text:"(UTC+10:30) Central Time - Adelaide"},{Value:"Antarctica/Casey",Text:"(UTC+11:00) Casey"},{Value:"Australia/Hobart",Text:"(UTC+11:00) Eastern Time - Hobart"},{Value:"Australia/Sydney",Text:"(UTC+11:00) Eastern Time - Melbourne, Sydney"},{Value:"Pacific/Efate",Text:"(UTC+11:00) Efate"},{Value:"Pacific/Guadalcanal",Text:"(UTC+11:00) Guadalcanal"},{Value:"Pacific/Kosrae",Text:"(UTC+11:00) Kosrae"},{Value:"Asia/Magadan",Text:"(UTC+11:00) Moscow+08 - Magadan"},{Value:"Pacific / Norfolk",Text:"(UTC+11:00) Norfolk"},{Value:"Pacific/Noumea",Text:"(UTC+11:00) Noumea"},{Value:"Pacific/Pohnpei",Text:"(UTC+11:00) Ponape"},{Value:"Pacific/Funafuti",Text:"(UTC+12:00) Funafuti"},{Value:"Pacific/Kwajalein",Text:"(UTC+12:00) Kwajalein"},{Value:"Pacific/Majuro",Text:"(UTC+12:00) Majuro"},{Value:"Asia/Kamchatka",Text:"(UTC+12:00) Moscow+09 - Petropavlovsk - Kamchatskiy"},{Value:"Pacific / Nauru",Text:"(UTC+12:00) Nauru"},{Value:"Pacific/Tarawa",Text:"(UTC+12:00) Tarawa"},{Value:"Pacific/Wake",Text:"(UTC+12:00) Wake"},{Value:"Pacific/Wallis",Text:"(UTC+12:00) Wallis"},{Value:"Pacific/Auckland",Text:"(UTC+13:00) Auckland"},{Value:"Pacific/Enderbury",Text:"(UTC+13:00) Enderbury"},{Value:"Pacific/Fakaofo",Text:"(UTC+13:00) Fakaofo"},{Value:"Pacific/Fiji",Text:"(UTC+13:00) Fiji"},{Value:"Pacific/Tongatapu",Text:"(UTC+13:00) Tongatapu"},{Value:"Pacific/Apia",Text:"(UTC+14:00) Apia"},{Value:"Pacific/Kiritimati",Text:"(UTC+14:00) Kiritimati"}]},66299:function(){},43274:function(){}}]);