"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5183],{23592:function(e,t,i){i.d(t,{N:function(){return P}});var s,l=i(4049),o=i(25080),a=i(58174),h=i(67491),n=i(92268),r=i(1158),p=i(12878),c=i(63302),u=i(22100),d=i(91053),m=(s=function(e,t){return(s=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),v=function(e,t,i,s){var l,o=arguments.length,a=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,s);else for(var h=e.length-1;h>=0;h--)(l=e[h])&&(a=(o<3?l(a):o>3?l(t,i,a):l(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},f="e-input-focus",y="e-disabled",g="e-hide-listitem",C="e-chips",A="e-chips-close",b="e-chip-selected",S="e-delimiter",x="e-zero-size",k="e-chips-close e-close-hooker",E="e-delim-values",L="e-rtl",B="e-close-icon-hide",w="e-ddl-disable-icon",W="e-ms-spinner-icon",D="e-input-group-icon e-ddl-icon",I="e-icon-anim",V="e-delim-total",T="e-search-custom-width",O="e-input-filter",P=function(e){function t(t,i){var s=e.call(this,t,i)||this;return s.clearIconWidth=0,s.previousFilterText="",s.isValidKey=!1,s.selectAllEventData=[],s.selectAllEventEle=[],s.resetMainList=null,s.resetFilteredData=!1,s.scrollFocusStatus=!1,s.keyDownStatus=!1,s}return m(t,e),t.prototype.enableRTL=function(e){e?this.overAllWrapper.classList.add(L):this.overAllWrapper.classList.remove(L),this.popupObj&&(this.popupObj.enableRtl=e,this.popupObj.dataBind())},t.prototype.requiredModules=function(){var e=[];if("CheckBox"===this.mode){if(this.isGroupChecking=this.enableGroupCheckBox,this.enableGroupCheckBox){var t=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.enableSelectionOrder=!1,this.isProtectedOnChange=t}this.allowCustomValue=!1,this.hideSelectedItem=!1,this.closePopupOnSelect=!1,e.push({member:"CheckBoxSelection",args:[this]})}return e},t.prototype.updateHTMLAttribute=function(){if(Object.keys(this.htmlAttributes).length)for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var i=t[e];switch(i){case"class":var s=this.htmlAttributes[""+i].replace(/\s+/g," ").trim();""!==s&&((0,n.cn)([this.overAllWrapper],s.split(" ")),(0,n.cn)([this.popupWrapper],s.split(" ")));break;case"disabled":this.enable(!1);break;case"placeholder":this.placeholder||(this.inputElement.setAttribute(i,this.htmlAttributes[""+i]),this.setProperties({placeholder:this.inputElement.placeholder},!0),this.refreshPlaceHolder());break;default:var l=["name","required","aria-required","form"],o=["title","role","style","class"];["id"].indexOf(i)>-1?this.element.setAttribute(i,this.htmlAttributes[""+i]):0===i.indexOf("data")||l.indexOf(i)>-1?this.hiddenElement.setAttribute(i,this.htmlAttributes[""+i]):o.indexOf(i)>-1?this.overAllWrapper.setAttribute(i,this.htmlAttributes[""+i]):"size"===i||(0,n.le)(this.inputElement)||this.inputElement.setAttribute(i,this.htmlAttributes[""+i])}}},t.prototype.updateReadonly=function(e){(0,n.le)(this.inputElement)||(e||"CheckBox"===this.mode?this.inputElement.setAttribute("readonly","true"):this.inputElement.removeAttribute("readonly"))},t.prototype.updateClearButton=function(e){e?(this.overAllClear.parentNode?this.overAllClear.style.display="":this.componentWrapper.appendChild(this.overAllClear),this.componentWrapper.classList.remove(B)):(this.overAllClear.style.display="none",this.componentWrapper.classList.add(B))},t.prototype.updateCssClass=function(){if(!(0,n.le)(this.cssClass)&&""!==this.cssClass){var e=this.cssClass;""!==(e=this.cssClass.replace(/\s+/g," ").trim())&&((0,n.cn)([this.overAllWrapper],e.split(" ")),(0,n.cn)([this.popupWrapper],e.split(" ")))}},t.prototype.updateOldPropCssClass=function(e){(0,n.le)(e)||""===e||""===(e=e.replace(/\s+/g," ").trim())||((0,n.IV)([this.overAllWrapper],e.split(" ")),(0,n.IV)([this.popupWrapper],e.split(" ")))},t.prototype.onPopupShown=function(e){var t=this;if(n.AR.isDevice&&"CheckBox"===this.mode&&this.allowFiltering){var i=this;window.onpopstate=function(){i.hidePopup(),i.inputElement.focus()},history.pushState({},"")}var s={popup:this.popupObj,event:e,cancel:!1,animation:{name:"FadeIn",duration:100}};this.trigger("open",s,function(e){!e.cancel&&(t.focusAtFirstListItem(),t.popupObj&&document.body.appendChild(t.popupObj.element),"CheckBox"===t.mode&&t.enableGroupCheckBox&&!(0,n.le)(t.fields.groupBy)&&t.updateListItems(t.list.querySelectorAll("li.e-list-item"),t.mainList.querySelectorAll("li.e-list-item")),("CheckBox"===t.mode||t.showDropDownIcon)&&(0,n.cn)([t.overAllWrapper],[I]),t.refreshPopup(),t.renderReactTemplates(),t.popupObj&&t.popupObj.show(e.animation,1e3===t.zIndex?t.element:null),(0,n.Y4)(t.inputElement,{"aria-expanded":"true","aria-owns":t.inputElement.id+"_options"}),t.updateAriaActiveDescendant(),t.isFirstClick&&t.loadTemplate(),"CheckBox"===t.mode&&t.showSelectAll&&n.bi.add(t.popupObj.element,"click",t.clickHandler,t))})},t.prototype.updateListItems=function(e,t){for(var i=0;i<e.length;i++)this.findGroupStart(e[i]),this.findGroupStart(t[i]);this.deselectHeader()},t.prototype.loadTemplate=function(){this.refreshListItems(null),"CheckBox"===this.mode&&this.removeFocus(),this.notify("reOrder",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,e:this})},t.prototype.setScrollPosition=function(){if((!this.hideSelectedItem&&"CheckBox"!==this.mode||"CheckBox"===this.mode&&!this.enableSelectionOrder)&&!(0,n.le)(this.value)&&this.value.length>0){var e=this.findListElement(this.hideSelectedItem?this.ulElement:this.list,"li","data-value",this.value[this.value.length-1]);(0,n.le)(e)||this.scrollBottom(e)}},t.prototype.focusAtFirstListItem=function(){if(this.ulElement&&this.ulElement.querySelector("li."+l.AA.li)){var e=void 0;if("CheckBox"===this.mode){this.removeFocus();return}null!==(e=this.ulElement.querySelector("li."+l.AA.li+":not(."+g+")"))&&(this.removeFocus(),this.addListFocus(e))}},t.prototype.focusAtLastListItem=function(e){var t;e?t=(0,r.ol)(e,this.liCollections,"StartsWith",this.ignoreCase):this.value&&this.value.length?(0,r.ol)(this.value[this.value.length-1],this.liCollections,"StartsWith",this.ignoreCase):t=null,t&&null!==t.item&&(this.addListFocus(t.item),this.scrollBottom(t.item,t.index))},t.prototype.getAriaAttributes=function(){return{"aria-disabled":"false",role:"combobox","aria-expanded":"false"}},t.prototype.updateListARIA=function(){(0,n.le)(this.ulElement)||(0,n.Y4)(this.ulElement,{id:this.element.id+"_options",role:"listbox","aria-hidden":"false"});var e=!(0,n.le)(this.inputElement)&&!!this.inputElement.disabled;this.isPopupOpen()||(0,n.le)(this.inputElement)||(0,n.Y4)(this.inputElement,this.getAriaAttributes()),e&&(0,n.Y4)(this.inputElement,{"aria-disabled":"true"}),this.ensureAriaDisabled(e?"true":"false")},t.prototype.ensureAriaDisabled=function(e){if(this.htmlAttributes&&this.htmlAttributes["aria-disabled"]){var t=this.htmlAttributes;(0,n.l7)(t,{"aria-disabled":e},t),this.setProperties({htmlAttributes:t},!0)}},t.prototype.removelastSelection=function(e){var t=this.chipCollectionWrapper.querySelectorAll("span."+C),i=t[t.length-1].getAttribute("data-value");(0,n.le)(this.value)||(this.tempValues=this.value.slice());var s=this.getFormattedValue(i);this.allowCustomValue&&("false"!==i&&!1===s||!(0,n.le)(s)&&"NaN"===s.toString())&&(s=i),this.removeValue(s,e),this.removeChipSelection(),this.updateDelimeter(this.delimiterChar,e),this.makeTextBoxEmpty(),this.mainList&&this.listData&&this.refreshSelection(),this.checkPlaceholderSize()},t.prototype.onActionFailure=function(t){e.prototype.onActionFailure.call(this,t),this.renderPopup(),this.onPopupShown()},t.prototype.targetElement=function(){return this.targetInputElement=this.inputElement,"CheckBox"===this.mode&&this.allowFiltering&&this.notify("targetElement",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode}),this.targetInputElement.value},t.prototype.getForQuery=function(e){for(var t,i=(0,n.le)(this.fields.value)?this.fields.text:this.fields.value,s=0;s<e.length;s++)t=0===s?new p.$(i,"equal",e[s]):t.or(i,"equal",e[s]);return this.dataSource instanceof c.h&&this.dataSource.adaptor instanceof u.Lc?new p.A().where(t):this.getQuery(this.query).clone().where(t)},t.prototype.onActionComplete=function(t,i,s,l){if(e.prototype.onActionComplete.call(this,t,i,s),this.updateSelectElementData(this.allowFiltering),!(0,n.le)(this.value)&&!this.allowCustomValue)for(var o=0;o<this.value.length;o++)this.findListElement(this.allowFiltering&&!(0,n.le)(this.mainList)?this.mainList:t,"li","data-value",this.value[o])||this.dataSource instanceof c.h||(this.value.splice(o,1),o-=1);var a=[];(0,n.le)(this.value)||(a=this.presentItemValue(this.ulElement)),a.length>0&&this.dataSource instanceof c.h&&!(0,n.le)(this.value)&&null!=this.listData?this.addNonPresentItems(a,this.ulElement,this.listData):this.updateActionList(t,i,s),this.dataSource instanceof c.h&&"CheckBox"===this.mode&&this.allowFiltering&&this.removeFocus()},t.prototype.updateActionList=function(e,t,i,s){if("CheckBox"===this.mode&&this.showSelectAll&&this.notify("selectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode}),this.mainList||this.mainData?((0,n.le)(this.mainData)||0===this.mainData.length)&&(this.mainData=t):(this.mainList=e.cloneNode?e.cloneNode(!0):e,this.mainData=t,this.mainListCollection=this.liCollections),(this.remoteCustomValue||t.length<=0)&&this.allowCustomValue&&this.inputFocus&&this.allowFiltering&&this.inputElement.value&&""!==this.inputElement.value){this.checkForCustomValue(this.tempQuery,this.fields);return}this.value&&this.value.length&&("CheckBox"!==this.mode&&!(0,n.le)(this.inputElement)&&""!==this.inputElement.value.trim()||"CheckBox"===this.mode||(8===this.keyCode||46===this.keyCode)&&this.allowFiltering&&this.allowCustomValue&&this.dataSource instanceof c.h&&""===this.inputElement.value)&&this.refreshSelection(),this.updateListARIA(),this.unwireListEvents(),this.wireListEvents(),(0,n.le)(this.setInitialValue)||this.setInitialValue(),(0,n.le)(this.selectAllAction)||this.selectAllAction(),this.setDynValue&&(!(0,n.le)(this.text)&&((0,n.le)(this.value)||0===this.value.length)&&this.initialTextUpdate(),this.initialValueUpdate(),this.initialUpdate(),this.refreshPlaceHolder(),"CheckBox"!==this.mode&&this.changeOnBlur&&this.updateValueState(null,this.value,null)),this.renderPopup(),this.beforePopupOpen&&(this.beforePopupOpen=!1,this.onPopupShown(i))},t.prototype.refreshSelection=function(){var e,t,i=this.hideSelectedItem?g:l.AA.selected;if(!(0,n.le)(this.value)){for(var s=0;!(0,n.le)(this.value[s]);s++)if(e=this.value[s],t=this.findListElement(this.list,"li","data-value",e)){if((0,n.cn)([t],i),this.hideSelectedItem&&t.previousSibling&&t.previousElementSibling.classList.contains(l.AA.group)&&(!t.nextElementSibling||t.nextElementSibling.classList.contains(l.AA.group))&&(0,n.cn)([t.previousElementSibling],i),this.hideSelectedItem&&this.fields.groupBy&&!t.previousElementSibling.classList.contains(g)&&this.hideGroupItem(e),this.hideSelectedItem&&t.classList.contains(l.AA.focus)){(0,n.IV)([t],l.AA.focus);var o=t.parentElement.querySelectorAll("."+l.AA.li+":not(."+g+")");o.length>0?((0,n.cn)([o[0]],l.AA.focus),this.updateAriaActiveDescendant()):this.list&&this.list.querySelectorAll("."+l.AA.li).length>0||(this.l10nUpdate(),(0,n.cn)([this.list],l.AA.noData))}if(t.setAttribute("aria-selected","true"),"CheckBox"===this.mode&&t.classList.contains("e-active")&&0===t.getElementsByClassName("e-check").length){var a={module:"CheckBoxSelection",enable:"CheckBox"===this.mode,li:t,e:null};this.notify("updatelist",a)}}}this.checkSelectAll(),this.checkMaxSelection()},t.prototype.hideGroupItem=function(e){var t,i,s=this.hideSelectedItem?g:l.AA.selected;i=t=this.findListElement(this.ulElement,"li","data-value",e);var o=0,a=0,h=!0,r=!0;do t&&t.previousElementSibling&&!t.previousElementSibling.classList.contains(g)&&t.previousElementSibling.classList.contains(l.AA.li)&&(h=!1),!h||!t||t.previousElementSibling&&t.previousElementSibling.classList.contains(l.AA.group)?o=10:t=t.previousElementSibling,i&&i.nextElementSibling&&!i.nextElementSibling.classList.contains(g)&&i.nextElementSibling.classList.contains(l.AA.li)&&(r=!1),!r||!i||i.nextElementSibling&&i.nextElementSibling.classList.contains(l.AA.group)?a=10:i=i.nextElementSibling;while(o<10||a<10);h&&r&&!t.previousElementSibling.classList.contains(g)?(0,n.cn)([t.previousElementSibling],s):h&&r&&t.previousElementSibling.classList.contains(g)&&(0,n.IV)([t.previousElementSibling],s)},t.prototype.getValidLi=function(){var e=this.ulElement.querySelector("li."+l.AA.li+":not(."+g+")");return(0,n.le)(e)?this.liCollections[0]:e},t.prototype.checkSelectAll=function(){var e=this.list.querySelectorAll("li.e-list-group-item.e-active").length,t=this.list.querySelectorAll("li.e-list-item"),i=this.list.querySelectorAll("li."+l.AA.li).length,s=this.list.querySelectorAll("li."+l.AA.selected).length;if(this.enableGroupCheckBox&&!(0,n.le)(this.fields.groupBy)&&(s-=e),(i===s||s===this.maximumSelectionLength)&&"CheckBox"===this.mode&&this.showSelectAll?this.notify("checkSelectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,value:"check"}):i!==s&&"CheckBox"===this.mode&&this.showSelectAll&&this.notify("checkSelectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,value:"uncheck"}),this.enableGroupCheckBox&&this.fields.groupBy&&!this.enableSelectionOrder){for(var o=0;o<t.length;o++)this.findGroupStart(t[o]);this.deselectHeader()}},t.prototype.openClick=function(e){this.openOnClick||"CheckBox"===this.mode?this.openOnClick||"CheckBox"!==this.mode||this.isPopupOpen()||this.showPopup():""!==this.targetElement()?this.showPopup():this.hidePopup(e)},t.prototype.keyUp=function(e){if("CheckBox"===this.mode&&!this.openOnClick){var t=String.fromCharCode(e.keyCode).match(/\w/);(0,n.le)(t)||(this.isValidKey=!0)}this.isValidKey=this.isPopupOpen()&&8===e.keyCode||this.isValidKey,this.isValidKey=(!e.ctrlKey||86!==e.keyCode)&&this.isValidKey,this.isValidKey&&(this.isValidKey=!1,this.expandTextbox(),this.showOverAllClear(),e.keyCode,this.search(e))},t.prototype.filter=function(e,t,i){this.isFiltered=!0,this.remoteFilterAction=!0,this.dataUpdater(e,t,i)},t.prototype.getQuery=function(e){var t=e?e.clone():this.query?this.query.clone():new p.A;if(this.isFiltered)return t;if(!this.filterAction)return e||(this.query?this.query:new p.A);if(null!==this.targetElement()){var i=this.typeOfData(this.dataSource).typeof;if((this.dataSource instanceof c.h||"string"!==i)&&"number"!==i){var s=this.fields;t.where((0,n.le)(s.text)?"":s.text,this.filterType,this.targetElement(),this.ignoreCase,this.ignoreAccent)}else t.where("",this.filterType,this.targetElement(),this.ignoreCase,this.ignoreAccent)}return t},t.prototype.dataUpdater=function(e,t,i){if(this.isDataFetched=!1,""===this.targetElement().trim()){var s=this.mainList.cloneNode?this.mainList.cloneNode(!0):this.mainList;this.backCommand&&(this.remoteCustomValue=!1,this.allowCustomValue&&0==s.querySelectorAll("li").length&&this.mainData.length>0&&(this.mainData=[]),this.onActionComplete(s,this.mainData),this.value&&this.value.length&&this.refreshSelection(),8!==this.keyCode&&this.focusAtFirstListItem(),this.notify("reOrder",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,e:this}))}else this.resetList(e,i,t),this.allowCustomValue&&(e instanceof c.h?(this.remoteCustomValue=!0,this.tempQuery=t):this.checkForCustomValue(t,i));this.refreshPopup(),"CheckBox"===this.mode&&this.removeFocus()},t.prototype.checkForCustomValue=function(e,t){var i=!this.getValueByText(this.inputElement.value,this.ignoreCase);if(this.allowCustomValue&&i){var s=this.inputElement.value,l=t||this.fields,o=!(0,n.le)(this.mainData)&&this.mainData.length>0?this.mainData[0]:this.mainData;if("string"!=typeof o&&"number"!=typeof o&&"boolean"!=typeof o){var a={};(0,n.sO)(l.text,s,a),"number"==typeof(0,n.NA)(this.fields.value?this.fields.value:"value",o)?(0,n.sO)(l.value,Math.random(),a):(0,n.sO)(l.value,s,a);var h=JSON.parse(JSON.stringify(this.listData));h.splice(0,0,a),this.resetList(h,l,e)}else{var h=JSON.parse(JSON.stringify(this.listData));h.splice(0,0,this.inputElement.value),h[0]="number"!=typeof o||isNaN(parseFloat(h[0]))?h[0]:parseFloat(h[0]),h[0]="boolean"==typeof o?"true"===h[0]||"false"!==h[0]&&h[0]:h[0],this.resetList(h,l)}}this.value&&this.value.length&&this.refreshSelection()},t.prototype.getNgDirective=function(){return"EJS-MULTISELECT"},t.prototype.wrapperClick=function(e){if(this.setDynValue=!1,this.enabled){if(e.target===this.overAllClear){e.preventDefault();return}if(this.inputFocus||this.inputElement.focus(),!this.readonly){if(e.target&&-1!==e.target.classList.toString().indexOf(A)){this.isPopupOpen()&&this.refreshPopup();return}!this.isPopupOpen()&&(this.openOnClick||this.showDropDownIcon&&e.target&&e.target.className===D)?this.showPopup(e):(this.hidePopup(e),"CheckBox"!==this.mode||(this.showOverAllClear(),this.inputFocus=!0,this.overAllWrapper.classList.contains(f)||this.overAllWrapper.classList.add(f)))}this.targetElement()&&""!==this.targetElement()||e.preventDefault()}},t.prototype.enable=function(e){e?(this.overAllWrapper.classList.remove(y),this.inputElement.removeAttribute("disabled"),(0,n.Y4)(this.inputElement,{"aria-disabled":"false"}),this.ensureAriaDisabled("false")):(this.overAllWrapper.classList.add(y),this.inputElement.setAttribute("disabled","true"),(0,n.Y4)(this.inputElement,{"aria-disabled":"true"}),this.ensureAriaDisabled("true")),this.enabled!==e&&(this.enabled=e),this.hidePopup()},t.prototype.onBlurHandler=function(e,t){var i;if((0,n.le)(e)||(i=e.relatedTarget),this.popupObj&&document.body.contains(this.popupObj.element)&&this.popupObj.element.contains(i)){"CheckBox"!==this.mode?this.inputElement.focus():"Auto"===this.floatLabelType&&(this.overAllWrapper.classList.contains("e-outline")||this.overAllWrapper.classList.contains("e-filled"))&&(0,n.cn)([this.overAllWrapper],"e-valid-input");return}if("Auto"===this.floatLabelType&&this.overAllWrapper.classList.contains("e-outline")&&"CheckBox"===this.mode&&((0,n.le)(this.value)||0===this.value.length)&&(0,n.IV)([this.overAllWrapper],"e-valid-input"),"CheckBox"===this.mode&&n.AR.isIE&&!(0,n.le)(e)&&!t){this.inputFocus=!1,this.overAllWrapper.classList.remove(f);return}if(this.scrollFocusStatus){(0,n.le)(e)||e.preventDefault(),this.inputElement.focus(),this.scrollFocusStatus=!1;return}if(this.inputFocus=!1,this.overAllWrapper.classList.remove(f),this.addTagOnBlur){var s=this.getValueByText(this.inputElement.value,this.ignoreCase,this.ignoreAccent),o=this.findListElement(this.list,"li","data-value",s),a=this.hideSelectedItem?g:l.AA.selected;o&&!o.classList.contains(a)&&(this.updateListSelection(o,e),"Delimiter"===this.mode&&this.updateDelimeter(this.delimiterChar))}this.updateDataList(),this.resetMainList&&(this.mainList=this.resetMainList,this.resetMainList=null),this.refreshListItems(null),"Box"!==this.mode&&"CheckBox"!==this.mode&&this.updateDelimView(),this.changeOnBlur&&(this.updateValueState(e,this.value,this.tempValues),this.dispatchEvent(this.hiddenElement,"change")),this.overAllClear.style.display="none",this.isPopupOpen()&&this.hidePopup(e),this.makeTextBoxEmpty(),this.trigger("blur"),this.focused=!0,n.AR.isDevice&&"Delimiter"!==this.mode&&"CheckBox"!==this.mode&&this.removeChipFocus(),this.removeChipSelection(),this.refreshInputHight(),(0,d.V2)(this.overAllWrapper,this.componentWrapper,this.value,this.floatLabelType,this.placeholder),this.refreshPlaceHolder(),(this.allowFiltering||!0===this.enableSelectionOrder&&"CheckBox"===this.mode)&&!(0,n.le)(this.mainList)&&(this.ulElement=this.mainList),this.checkPlaceholderSize(),h.I.createSpanElement(this.overAllWrapper,this.createElement),this.calculateWidth(),(0,n.le)(this.overAllWrapper)||(0,n.le)(this.overAllWrapper.getElementsByClassName("e-ddl-icon")[0]&&this.overAllWrapper.getElementsByClassName("e-float-text-content")[0]&&"Never"!==this.floatLabelType)||this.overAllWrapper.getElementsByClassName("e-float-text-content")[0].classList.add("e-icon")},t.prototype.calculateWidth=function(){var e;if(this.overAllWrapper){if(!this.showDropDownIcon||this.overAllWrapper.querySelector(".e-label-top"))e=this.overAllWrapper.clientWidth-2*parseInt(getComputedStyle(this.inputElement).paddingRight);else{var t=this.dropIcon.offsetWidth+parseInt(getComputedStyle(this.dropIcon).marginRight);e=this.overAllWrapper.clientWidth-(t+2*parseInt(getComputedStyle(this.inputElement).paddingRight))}"Auto"===this.floatLabelType&&h.I.calculateWidth(e,this.overAllWrapper,this.getModuleName())}},t.prototype.checkPlaceholderSize=function(){if(this.showDropDownIcon){var e=this.dropIcon.offsetWidth+parseInt(window.getComputedStyle(this.dropIcon).marginRight,10);this.setPlaceholderSize(e)}else(0,n.le)(this.dropIcon)||this.setPlaceholderSize(this.showDropDownIcon?this.dropIcon.offsetWidth:0)},t.prototype.setPlaceholderSize=function(e){(0,n.le)(this.value)||0===this.value.length?0!==this.dropIcon.offsetWidth?this.searchWrapper.style.width="calc(100% - "+(e+10)+"px":(0,n.cn)([this.searchWrapper],T):(0,n.le)(this.value)||(this.searchWrapper.removeAttribute("style"),(0,n.IV)([this.searchWrapper],T))},t.prototype.refreshInputHight=function(){(0,n.le)(this.searchWrapper)||((!this.value||!this.value.length)&&((0,n.le)(this.text)||""===this.text)?this.searchWrapper.classList.remove(x):this.searchWrapper.classList.add(x))},t.prototype.validateValues=function(e,t){return JSON.stringify(e.slice().sort())!==JSON.stringify(t.slice().sort())},t.prototype.updateValueState=function(e,t,i){var s=t||[],l=i||[];if(this.initStatus&&this.validateValues(s,l)){var o={e:e,oldValue:i,value:t,isInteracted:!!e,element:this.element,event:e};this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",o),this.updateTempValue(),this.changeOnBlur||this.dispatchEvent(this.hiddenElement,"change")}},t.prototype.updateTempValue=function(){this.value?this.tempValues=this.value.slice():this.tempValues=this.value},t.prototype.updateAriaActiveDescendant=function(){(0,n.le)(this.ulElement)||(0,n.le)(this.ulElement.getElementsByClassName("e-item-focus")[0])||(0,n.Y4)(this.inputElement,{"aria-activedescendant":this.ulElement.getElementsByClassName("e-item-focus")[0].id})},t.prototype.getPagingCount=function(){var e=this.list.classList.contains(l.AA.noData)?null:getComputedStyle(this.getItems()[0],null).getPropertyValue("height");return Math.round(this.list.offsetHeight/parseInt(e,10))},t.prototype.pageUpSelection=function(e){var t=this.list.querySelectorAll("li."+l.AA.li+":not(."+g+"):not(.e-reorder-hide)"),i=e>=0?t[e+1]:t[0];this.addListFocus(i),this.scrollBottom(i,this.getIndexByValue(i.getAttribute("data-value")))},t.prototype.pageDownSelection=function(e){this.getItems();var t=this.list.querySelectorAll("li."+l.AA.li+":not(."+g+"):not(.e-reorder-hide)"),i=e<=t.length?t[e-1]:t[t.length-1];this.addListFocus(i),this.scrollBottom(i,this.getIndexByValue(i.getAttribute("data-value")))},t.prototype.getItems=function(){return this.list||e.prototype.render.call(this),this.ulElement&&this.ulElement.querySelectorAll("."+l.AA.li).length>0?this.ulElement.querySelectorAll("."+l.AA.li+":not(."+g+")"):[]},t.prototype.focusInHandler=function(e){var t=this;return!!this.enabled&&(this.showOverAllClear(),this.inputFocus=!0,this.value&&this.value.length&&("Delimiter"!==this.mode&&"CheckBox"!==this.mode?this.chipCollectionWrapper.style.display="":this.showDelimWrapper(),"CheckBox"!==this.mode&&(this.viewWrapper.style.display="none")),"CheckBox"!==this.mode&&this.searchWrapper.classList.remove(x),this.checkPlaceholderSize(),this.focused&&(this.trigger("focus",{isInteracted:!!e,event:e}),this.focused=!1),this.overAllWrapper.classList.contains(f)||this.overAllWrapper.classList.add(f),(0,d.dL)(this.overAllWrapper,this.componentWrapper),this.isPopupOpen()&&this.refreshPopup(),setTimeout(function(){t.calculateWidth()},150),!0)},t.prototype.showDelimWrapper=function(){"CheckBox"===this.mode?this.viewWrapper.style.display="":this.delimiterWrapper.style.display="",this.componentWrapper.classList.add(S)},t.prototype.hideDelimWrapper=function(){this.delimiterWrapper.style.display="none",this.componentWrapper.classList.remove(S)},t.prototype.expandTextbox=function(){var e=5;this.placeholder&&(e=e>this.inputElement.placeholder.length?e:this.inputElement.placeholder.length),this.inputElement.value.length>e?this.inputElement.size=this.inputElement.value.length:this.inputElement.size=e},t.prototype.isPopupOpen=function(){return null!==this.popupWrapper&&null!==this.popupWrapper.parentElement},t.prototype.refreshPopup=function(){this.popupObj&&this.mobFilter&&(this.popupObj.setProperties({width:this.calcPopupWidth()}),this.popupObj.refreshPosition(this.overAllWrapper),this.popupObj.resolveCollision())},t.prototype.checkTextLength=function(){return this.targetElement().length<1},t.prototype.popupKeyActions=function(e){switch(e.keyCode){case 38:this.hidePopup(e),"CheckBox"===this.mode&&this.inputElement.focus(),e.preventDefault();break;case 40:this.isPopupOpen()||(this.showPopup(e),e.preventDefault())}},t.prototype.updateAriaAttribute=function(){var e=this.list.querySelector("."+l.AA.focus);if(!(0,n.le)(e)){if(this.inputElement.setAttribute("aria-activedescendant",e.id),this.allowFiltering){var t=this.popupWrapper.querySelector("."+O);t&&t.setAttribute("aria-activedescendant",e.id)}else"CheckBox"==this.mode&&this.overAllWrapper.setAttribute("aria-activedescendant",e.id)}},t.prototype.homeNavigation=function(e){this.removeFocus();var t=this.ulElement.querySelectorAll("li."+l.AA.li+":not(."+g+"):not(.e-reorder-hide)");if(t.length>0){var i=t[e?0:t.length-1];i.classList.add(l.AA.focus),this.scrollBottom(i),this.updateAriaActiveDescendant()}},t.prototype.onKeyDown=function(e){if(!this.readonly&&(this.enabled||"CheckBox"===this.mode)&&(this.keyCode=e.keyCode,this.keyDownStatus=!0,!(e.keyCode>111)||!(e.keyCode<124))){if(e.altKey){this.popupKeyActions(e);return}if(this.isPopupOpen()){var t=this.list.querySelector("."+l.AA.focus),i=void 0;switch(e.keyCode){case 36:case 35:this.homeNavigation(36===e.keyCode);break;case 33:e.preventDefault(),t&&(this.getIndexByValue(t.getAttribute("data-value")),this.pageUpSelection(i-this.getPagingCount()),this.updateAriaAttribute());return;case 34:e.preventDefault(),t&&(this.getIndexByValue(t.getAttribute("data-value")),this.pageDownSelection(i+this.getPagingCount()),this.updateAriaAttribute());return;case 38:this.arrowUp(e);break;case 40:this.arrowDown(e);break;case 27:e.preventDefault(),this.hidePopup(e),"CheckBox"===this.mode&&this.inputElement.focus();return;case 13:e.preventDefault(),"CheckBox"!==this.mode&&this.selectByKey(e),this.checkPlaceholderSize();return;case 32:this.spaceKeySelection(e);return;case 9:e.preventDefault(),this.hidePopup(e),this.inputElement.focus(),this.overAllWrapper.classList.add(f)}}else switch(e.keyCode){case 13:case 9:case 16:case 17:case 20:return;case 40:this.openOnClick&&this.showPopup();break;case 27:e.preventDefault(),this.escapeAction();return}this.checkTextLength()&&this.keyNavigation(e),"CheckBox"===this.mode&&this.enableSelectionOrder&&(this.allowFiltering&&(this.previousFilterText=this.targetElement()),this.checkBackCommand(e)),this.expandTextbox(),"CheckBox"===this.mode&&this.showSelectAll||this.refreshPopup()}},t.prototype.arrowDown=function(e){e.preventDefault(),this.moveByList(1),this.keyAction=!0,(document.activeElement.classList.contains(O)||"CheckBox"===this.mode&&!this.allowFiltering&&document.activeElement!==this.list)&&n.bi.add(this.list,"keydown",this.onKeyDown,this),this.updateAriaAttribute()},t.prototype.arrowUp=function(e){e.preventDefault(),this.keyAction=!0;var t=this.list.querySelectorAll("li."+l.AA.li+":not(."+g+"):not(.e-reorder-hide)");this.enableGroupCheckBox&&"CheckBox"===this.mode&&!(0,n.le)(this.fields.groupBy)&&(t=this.list.querySelectorAll("li."+l.AA.li+",li."+l.AA.group+":not(."+g+"):not(.e-reorder-hide)"));var i=this.list.querySelector("li."+l.AA.focus);this.focusFirstListItem=!(0,n.le)(this.liCollections[0])&&this.liCollections[0].classList.contains("e-item-focus"),0>=Array.prototype.slice.call(t).indexOf(i)&&"CheckBox"===this.mode&&this.allowFiltering&&(this.keyAction=!1,this.notify("inputFocus",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,value:"focus"})),this.moveByList(-1),this.updateAriaAttribute()},t.prototype.spaceKeySelection=function(e){if("CheckBox"===this.mode){var t=this.list.querySelector("li."+l.AA.focus),i=document.getElementsByClassName("e-selectall-parent")[0];if((!(0,n.le)(t)||i&&i.classList.contains("e-item-focus"))&&(e.preventDefault(),this.keyAction=!0),this.selectByKey(e),this.keyAction){var s=this.list.querySelector("li."+l.AA.focus);!(0,n.le)(s)&&i&&i.classList.contains("e-item-focus")&&s.classList.remove("e-item-focus")}}this.checkPlaceholderSize()},t.prototype.checkBackCommand=function(e){(8===e.keyCode&&this.allowFiltering?this.targetElement()!==this.previousFilterText:""===this.targetElement())?this.backCommand=!1:this.backCommand=!0},t.prototype.keyNavigation=function(e){if("Delimiter"!==this.mode&&"CheckBox"!==this.mode&&this.value&&this.value.length)switch(e.keyCode){case 37:e.preventDefault(),this.moveBy(-1,e);break;case 39:e.preventDefault(),this.moveBy(1,e);break;case 8:this.removelastSelection(e);break;case 46:this.removeSelectedChip(e)}else if(8===e.keyCode&&"Delimiter"===this.mode&&this.value&&this.value.length){e.preventDefault();var t=this.value[this.value.length-1];this.removeValue(t,e),this.updateDelimeter(this.delimiterChar,e),this.focusAtLastListItem(t)}},t.prototype.selectByKey=function(e){this.removeChipSelection(),this.selectListByKey(e),this.hideSelectedItem&&this.focusAtFirstListItem()},t.prototype.escapeAction=function(){var e=this.tempValues?this.tempValues.slice():[];this.value&&this.validateValues(this.value,e)&&("CheckBox"!==this.mode&&(this.value=e,this.initialValueUpdate()),"Delimiter"!==this.mode&&"CheckBox"!==this.mode?this.chipCollectionWrapper.style.display="":this.showDelimWrapper(),this.refreshPlaceHolder(),this.value.length?this.showOverAllClear():this.hideOverAllClear()),this.makeTextBoxEmpty()},t.prototype.scrollBottom=function(e,t){var i=this.list.offsetHeight,s=e.offsetTop+e.offsetHeight-this.list.scrollTop,l=this.list.scrollTop+s-i,o=e.offsetTop+e.offsetHeight-this.list.scrollTop;o=this.fields.groupBy&&!(0,n.le)(this.fixedHeaderElement)?o-this.fixedHeaderElement.offsetHeight:o,0===t?this.list.scrollTop=0:s>i?this.list.scrollTop=l:o>0&&this.list.offsetHeight>o||(this.list.scrollTop=l)},t.prototype.scrollTop=function(e,t){var i=e.offsetTop-this.list.scrollTop;i=this.fields.groupBy&&!(0,n.o8)(this.fixedHeaderElement)?i-this.fixedHeaderElement.offsetHeight:i;var s=e.offsetTop+e.offsetHeight-this.list.scrollTop;0===t?this.list.scrollTop=0:i<0?this.list.scrollTop=this.list.scrollTop+i:s>0&&this.list.offsetHeight>s||(this.list.scrollTop=e.offsetTop-(this.fields.groupBy&&!(0,n.o8)(this.fixedHeaderElement)?this.fixedHeaderElement.offsetHeight:0))},t.prototype.selectListByKey=function(e){var t,i=this.list.querySelector("li."+l.AA.focus),s=this.value&&this.value.length?this.value.length:0;null!==i&&(e.preventDefault(),i.classList.contains("e-active")&&(s-=1),this.isValidLI(i)&&s<this.maximumSelectionLength?(this.updateListSelection(i,e),this.addListFocus(i),"CheckBox"===this.mode?(this.updateDelimView(),this.updateDelimeter(this.delimiterChar,e),this.refreshInputHight(),this.checkPlaceholderSize(),this.enableGroupCheckBox&&!(0,n.le)(this.fields.groupBy)&&(t=i.firstElementChild.lastElementChild,this.findGroupStart(t),this.deselectHeader())):this.updateDelimeter(this.delimiterChar,e),this.makeTextBoxEmpty(),"CheckBox"!==this.mode&&this.refreshListItems(i.textContent),this.changeOnBlur||this.updateValueState(e,this.value,this.tempValues),this.refreshPopup()):!this.isValidLI(i)&&s<this.maximumSelectionLength&&((t=i.firstElementChild.lastElementChild).classList.contains("e-check")?this.selectAllItem(!1,e,i):this.selectAllItem(!0,e,i)),this.refreshSelection(),this.closePopupOnSelect&&this.hidePopup(e));var o=document.getElementsByClassName("e-selectall-parent")[0];if(o&&o.classList.contains("e-item-focus")){var a=o.childNodes[0];if(a.classList.contains("e-check")){a.classList.remove("e-check");var h={module:"CheckBoxSelection",enable:"CheckBox"===this.mode,value:"check",name:"checkSelectAll"};this.notify("checkSelectAll",h),this.selectAllItem(!1,e,i)}else{a.classList.add("e-check");var h={module:"CheckBoxSelection",enable:"CheckBox"===this.mode,value:"check",name:"checkSelectAll"};this.notify("checkSelectAll",h),this.selectAllItem(!0,e,i)}}this.refreshPlaceHolder()},t.prototype.refreshListItems=function(e){if((this.allowFiltering||"CheckBox"===this.mode&&!0===this.enableSelectionOrder||this.allowCustomValue)&&this.mainList&&this.listData){var t=this.mainList.cloneNode?this.mainList.cloneNode(!0):this.mainList;this.onActionComplete(t,this.mainData),this.focusAtLastListItem(e),this.value&&this.value.length&&this.refreshSelection()}else!(0,n.le)(this.fields.groupBy)&&this.value&&this.value.length&&this.refreshSelection()},t.prototype.removeSelectedChip=function(e){var t,i=this.chipCollectionWrapper.querySelector("span."+b);null!==i&&((0,n.le)(this.value)||(this.tempValues=this.value.slice()),null!==(t=i.nextElementSibling)&&(this.removeChipSelection(),this.addChipSelection(t,e)),this.removeValue(i.getAttribute("data-value"),e),this.makeTextBoxEmpty()),this.closePopupOnSelect&&this.hidePopup(e),this.checkPlaceholderSize()},t.prototype.moveByTop=function(e){var t,i=this.list.querySelectorAll("li."+l.AA.li);i.length>1&&(this.removeFocus(),t=e?0:i.length-1,this.addListFocus(i[t]),this.scrollBottom(i[t],t)),this.updateAriaAttribute()},t.prototype.clickHandler=function(e){var t=e.target.className,i=document.getElementsByClassName("e-selectall-parent")[0];("e-input-filter e-input"===t||"e-input-group e-control-wrapper e-input-focus"===t)&&i.classList.contains("e-item-focus")&&i.classList.remove("e-item-focus")},t.prototype.moveByList=function(e){if(this.list){var t=this.list.querySelectorAll("li."+l.AA.li+":not(."+g+"):not(.e-reorder-hide)");"CheckBox"===this.mode&&this.enableGroupCheckBox&&!(0,n.le)(this.fields.groupBy)&&(t=this.list.querySelectorAll("li."+l.AA.li+",li."+l.AA.group+":not(."+g+"):not(.e-reorder-hide)"));var i=this.list.querySelector("li."+l.AA.focus),s=-1,o=document.getElementsByClassName("e-selectall-parent")[0];if("CheckBox"===this.mode&&this.showSelectAll&&1==e&&!(0,n.le)(o)&&!o.classList.contains("e-item-focus")&&0==this.list.getElementsByClassName("e-item-focus").length&&this.liCollections.length>1)!this.focusFirstListItem&&o.classList.contains("e-item-focus")?o.classList.remove("e-item-focus"):o.classList.contains("e-item-focus")||o.classList.add("e-item-focus");else if(t.length){"CheckBox"===this.mode&&this.showSelectAll&&!(0,n.le)(o&&-1==e)&&(!this.focusFirstListItem&&o.classList.contains("e-item-focus")?o.classList.remove("e-item-focus"):this.focusFirstListItem&&!o.classList.contains("e-item-focus")&&o.classList.add("e-item-focus"));for(var a=0;a<t.length;a++)if(t[a]===i){s=a;break}e>0?s<t.length-1&&(this.removeFocus(),this.addListFocus(t[++s]),this.updateCheck(t[s]),this.scrollBottom(t[s],s)):s>0&&(this.removeFocus(),this.addListFocus(t[--s]),this.updateCheck(t[s]),this.scrollTop(t[s],s))}}},t.prototype.updateCheck=function(e){"CheckBox"===this.mode&&this.enableGroupCheckBox&&!(0,n.le)(this.fields.groupBy)&&(e.firstElementChild.lastElementChild.classList.contains("e-check")?e.classList.add("e-active"):e.classList.remove("e-active"))},t.prototype.moveBy=function(e,t){var i,s=this.chipCollectionWrapper.querySelectorAll("span."+C),l=this.chipCollectionWrapper.querySelector("span."+b);null===l?e<0&&this.addChipSelection(s[s.length-1],t):e<0?null!==(i=l.previousElementSibling)&&(this.removeChipSelection(),this.addChipSelection(i,t)):(i=l.nextElementSibling,this.removeChipSelection(),null!==i&&this.addChipSelection(i,t))},t.prototype.chipClick=function(e){if(this.enabled){var t=(0,n.oq)(e.target,"."+C);this.removeChipSelection(),this.addChipSelection(t,e)}},t.prototype.removeChipSelection=function(){this.chipCollectionWrapper&&this.removeChipFocus()},t.prototype.addChipSelection=function(e,t){(0,n.cn)([e],b),this.trigger("chipSelection",t)},t.prototype.onChipRemove=function(e){if(3!==e.which&&2!==e.button&&this.enabled&&!this.readonly){var t=e.target.parentElement.getAttribute("data-value"),i=this.getFormattedValue(t);if(this.allowCustomValue&&("false"!==t&&!1===i||!(0,n.le)(i)&&"NaN"===i.toString())&&(i=t),this.isPopupOpen()&&"CheckBox"!==this.mode&&this.hidePopup(e),this.inputFocus||this.inputElement.focus(),this.removeValue(i,e),(0,n.le)(this.findListElement(this.list,"li","data-value",i))&&this.mainList&&this.listData){var s=this.mainList.cloneNode?this.mainList.cloneNode(!0):this.mainList;this.onActionComplete(s,this.mainData)}this.updateDelimeter(this.delimiterChar,e),this.placeholder&&"Never"===this.floatLabelType?(this.makeTextBoxEmpty(),this.checkPlaceholderSize()):this.inputElement.value="",e.preventDefault()}},t.prototype.makeTextBoxEmpty=function(){this.inputElement.value="",this.refreshPlaceHolder()},t.prototype.refreshPlaceHolder=function(){this.placeholder&&"Never"===this.floatLabelType?this.value&&this.value.length||!(0,n.le)(this.text)&&""!==this.text?this.inputElement.placeholder="":this.inputElement.placeholder=(0,d.CT)(this.placeholder):this.setFloatLabelType(),this.expandTextbox()},t.prototype.removeAllItems=function(e,t,i,s,o){var a=this.value.indexOf(e),h=this.value.slice(0);h.splice(a,1),this.setProperties({value:[].concat([],h)},!0),s.setAttribute("aria-selected","false");var r=this.hideSelectedItem?g:l.AA.selected;(0,n.IV)([s],r),this.notify("activeList",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,li:s,e:this,index:a}),this.invokeCheckboxSelection(s,t,i),this.updateMainList(!0,e,o),this.updateChipStatus()},t.prototype.invokeCheckboxSelection=function(e,t,i){this.notify("updatelist",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,li:e,e:t}),this.updateAriaActiveDescendant(),this.value&&this.value.length!==this.mainData.length&&"CheckBox"===this.mode&&this.showSelectAll&&!(this.isSelectAll||i)&&this.notify("checkSelectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,value:"uncheck"})},t.prototype.removeValue=function(t,i,s,o){var a=this,h=this.value.indexOf(this.getFormattedValue(t));-1===h&&this.allowCustomValue&&!(0,n.le)(t)&&(h=this.value.indexOf(t.toString()));var r=i&&i.target;o=!!(o||r&&r.classList.contains("e-close-hooker"))||null;var p=this.hideSelectedItem?g:l.AA.selected;if(-1!==h){var c=this.findListElement(this.list,"li","data-value",t),u=this.getDataByValue(t);this.trigger("removing",{e:i,item:c,itemData:u,isInteracted:!!i,cancel:!1},function(r){if(r.cancel)a.removeIndex++;else{var d=a.value.slice(0);if(d.splice(h,1),a.setProperties({value:[].concat([],d)},!0),null!==c){var m=a.findListElement(a.mainList,"li","data-value",t);c.setAttribute("aria-selected","false"),(0,n.IV)([c],p),m&&(m.setAttribute("aria-selected","false"),(0,n.IV)([c,m],p)),a.notify("activeList",{module:"CheckBoxSelection",enable:"CheckBox"===a.mode,li:c,e:a,index:h}),a.invokeCheckboxSelection(c,i,o)}if(a.hideSelectedItem&&a.fields.groupBy&&c&&a.hideGroupItem(t),a.hideSelectedItem&&a.fixedHeaderElement&&a.fields.groupBy&&"CheckBox"!==a.mode&&a.isPopupOpen()&&e.prototype.scrollStop.call(a),a.updateMainList(!0,t),a.removeChip(t),a.updateChipStatus(),(a.value&&a.value.length?a.value.length:0)<a.maximumSelectionLength){var v=a.list.querySelectorAll("li."+l.AA.li+":not(.e-active)");(0,n.IV)(v,"e-disable")}a.trigger("removed",r);var f=i&&i.currentTarget,y=!!(f&&f.classList.contains("e-selectall-parent"))||null;if(a.changeOnBlur||o||!i||!s||y||a.updateValueState(i,a.value,a.tempValues),s&&(a.selectAllEventData.push(u),a.selectAllEventEle.push(c)),1===s){a.changeOnBlur||a.updateValueState(i,a.value,a.tempValues);var g={event:i,items:a.selectAllEventEle,itemData:a.selectAllEventData,isInteracted:!!i,isChecked:!1};a.trigger("selectedAll",g),a.selectAllEventData=[],a.selectAllEventEle=[]}o&&(1===s||null===s)&&a.clearAllCallback(i,o)}})}},t.prototype.updateMainList=function(e,t,i){if(this.allowFiltering||"CheckBox"===this.mode){var s=i||this.findListElement(this.mainList,"li","data-value",t);s&&(e?(s.setAttribute("aria-selected","false"),(0,n.IV)([s],this.hideSelectedItem?g:l.AA.selected),"CheckBox"===this.mode&&(0,n.IV)([s.firstElementChild.lastElementChild],"e-check")):(s.setAttribute("aria-selected","true"),(0,n.cn)([s],this.hideSelectedItem?g:l.AA.selected),"CheckBox"===this.mode&&(0,n.cn)([s.firstElementChild.lastElementChild],"e-check")))}},t.prototype.removeChip=function(e){if(this.chipCollectionWrapper){var t=this.findListElement(this.chipCollectionWrapper,"span","data-value",e);t&&(0,n.Od)(t)}},t.prototype.setWidth=function(e){(0,n.le)(e)||("number"==typeof e?this.overAllWrapper.style.width=(0,n.Ac)(e):"string"==typeof e&&(this.overAllWrapper.style.width=e.match(/px|%|em/)?e:(0,n.Ac)(e)))},t.prototype.updateChipStatus=function(){this.value&&this.value.length?((0,n.le)(this.chipCollectionWrapper)||(this.chipCollectionWrapper.style.display=""),("Delimiter"===this.mode||"CheckBox"===this.mode)&&this.showDelimWrapper(),this.showOverAllClear()):((0,n.le)(this.chipCollectionWrapper)||(this.chipCollectionWrapper.style.display="none"),(0,n.le)(this.delimiterWrapper)||(this.delimiterWrapper.style.display="none"),this.hideOverAllClear())},t.prototype.addValue=function(e,t,i){this.value||(this.value=[]),0>this.value.indexOf(e)&&this.setProperties({value:[].concat([],this.value,[e])},!0);var s=this.findListElement(this.list,"li","data-value",e);this.removeFocus(),s&&(this.addListFocus(s),this.addListSelection(s)),"Delimiter"!==this.mode&&"CheckBox"!==this.mode&&this.addChip(t,e,i),this.hideSelectedItem&&this.fields.groupBy&&this.hideGroupItem(e),this.updateChipStatus(),this.checkMaxSelection()},t.prototype.checkMaxSelection=function(){if((this.value&&this.value.length?this.value.length:0)===this.maximumSelectionLength){var e=this.list.querySelectorAll("li."+l.AA.li+":not(.e-active)");(0,n.cn)(e,"e-disable")}},t.prototype.dispatchSelect=function(t,i,s,l,o){var a=this,h=this.listData;if(this.initStatus&&!l){var n=this.getDataByValue(t);this.trigger("select",{e:i,item:s,itemData:n,isInteracted:!!i,cancel:!1},function(l){if(!l.cancel){if(o&&(a.selectAllEventData.push(n),a.selectAllEventEle.push(s)),1===o){var r={event:i,items:a.selectAllEventEle,itemData:a.selectAllEventData,isInteracted:!!i,isChecked:!0};a.trigger("selectedAll",r),a.selectAllEventData=[]}a.allowCustomValue&&a.isServerRendered&&a.listData!==h&&(a.listData=h),a.updateListSelectEventCallback(t,s,i),a.hideSelectedItem&&a.fixedHeaderElement&&a.fields.groupBy&&"CheckBox"!==a.mode&&e.prototype.scrollStop.call(a)}})}},t.prototype.addChip=function(e,t,i){this.chipCollectionWrapper&&this.getChip(e,t,i)},t.prototype.removeChipFocus=function(){var e=this.chipCollectionWrapper.querySelectorAll("span."+C+"."+b);if((0,n.IV)(e,b),n.AR.isDevice)for(var t=this.chipCollectionWrapper.querySelectorAll("span."+A.split(" ")[0]),i=0;i<t.length;i++)t[i].style.display="none"},t.prototype.onMobileChipInteraction=function(e){var t=(0,n.oq)(e.target,"."+C),i=t.querySelector("span."+A.split(" ")[0]);this.enabled&&!this.readonly&&(t.classList.contains(b)||(this.removeChipFocus(),i.style.display="",t.classList.add(b)),this.refreshPopup(),e.preventDefault())},t.prototype.multiCompiler=function(e){var t=!1;if("function"!=typeof e&&e)try{t=!!(0,n.td)(e,document).length}catch(e){t=!1}return t},t.prototype.encodeHtmlEntities=function(e){return e.replace(/[\u00A0-\u9999<>&]/g,function(e){return"&#"+e.charCodeAt(0)+";"})},t.prototype.getChip=function(e,t,i){var s=this,l={text:t,value:t},o=this.createElement("span",{className:C,attrs:{"data-value":t,title:e}}),a=this.createElement("span",{className:"e-chipcontent"}),h=this.createElement("span",{className:A});if(this.mainData&&(l=this.getDataByValue(t)),this.valueTemplate&&!(0,n.le)(l)){var r=this.multiCompiler(this.valueTemplate),p=("function"!=typeof this.valueTemplate&&r?(0,n.MY)((0,n.Ys)(this.valueTemplate,document).innerHTML.trim()):(0,n.MY)(this.valueTemplate))(l,this,"valueTemplate",this.valueTemplateId,this.isStringTemplate,null,a);p&&p.length>0&&(0,n.R3)(p,a),this.renderReactTemplates()}else this.enableHtmlSanitizer?a.innerText=e:a.innerHTML=this.encodeHtmlEntities(e);o.appendChild(a);var c={isInteracted:!!i,itemData:l,e:i,setClass:function(e){(0,n.cn)([o],e)},cancel:!1};this.isPreventChange=this.isAngular&&this.preventChange,this.trigger("tagging",c,function(e){e.cancel||(n.AR.isDevice?(o.classList.add("e-mob-chip"),(0,n.R3)([h],o),h.style.display="none",n.bi.add(o,"click",s.onMobileChipInteraction,s)):(n.bi.add(o,"mousedown",s.chipClick,s),s.showClearButton&&o.appendChild(h)),n.bi.add(h,"mousedown",s.onChipRemove,s),s.chipCollectionWrapper.appendChild(o),!s.changeOnBlur&&i&&s.updateValueState(i,s.value,s.tempValues))})},t.prototype.calcPopupWidth=function(){var e=(0,n.Ac)(this.popupWidth);return e.indexOf("%")>-1&&(e=(this.componentWrapper.offsetWidth*parseFloat(e)/100).toString()+"px"),e},t.prototype.mouseIn=function(){this.enabled&&!this.readonly&&this.showOverAllClear()},t.prototype.mouseOut=function(){this.inputFocus||(this.overAllClear.style.display="none")},t.prototype.listOption=function(e,t){var i=!(0,n.le)(t.iconCss),s=(0,n.le)(t.properties)?t:t.properties;return this.listCurrentOptions=null!==t.text||null!==t.value?{fields:s,showIcon:i,ariaAttributes:{groupItemRole:"presentation"}}:{fields:{value:"text"}},(0,n.l7)(this.listCurrentOptions,this.listCurrentOptions,t,!0),"CheckBox"===this.mode&&this.notify("listoption",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,dataSource:e,fieldProperty:s}),this.listCurrentOptions},t.prototype.renderPopup=function(){var t=this;if(this.list||e.prototype.render.call(this),!this.popupObj&&!(0,n.le)(this.popupWrapper)){document.body.appendChild(this.popupWrapper);var i=this.popupWrapper.querySelector(".e-filter-parent");"CheckBox"===this.mode&&!this.allowFiltering&&i&&this.filterParent&&(i.remove(),this.filterParent=null);var s=parseInt(this.popupHeight,10);if(this.popupWrapper.style.visibility="hidden",this.headerTemplate&&(this.setHeaderTemplate(),s-=this.header.offsetHeight),(0,n.R3)([this.list],this.popupWrapper),this.footerTemplate&&(this.setFooterTemplate(),s-=this.footer.offsetHeight),"CheckBox"===this.mode&&this.showSelectAll?(this.notify("selectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode}),s-=this.selectAllHeight):"CheckBox"!==this.mode||this.showSelectAll||this.headerTemplate||this.footerTemplate?"CheckBox"===this.mode&&!this.showSelectAll&&(this.notify("selectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode}),s=parseInt(this.popupHeight,10),this.headerTemplate&&this.header&&(s-=this.header.offsetHeight),this.footerTemplate&&this.footer&&(s-=this.footer.offsetHeight)):(this.notify("selectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode}),s=parseInt(this.popupHeight,10)),"CheckBox"===this.mode){var l={module:"CheckBoxSelection",enable:"CheckBox"===this.mode,popupElement:this.popupWrapper};this.allowFiltering&&(this.notify("searchBox",l),s-=this.searchBoxHeight),(0,n.cn)([this.popupWrapper],"e-checkbox")}"auto"!==this.popupHeight?(this.list.style.maxHeight=(0,n.Ac)(s),this.popupWrapper.style.maxHeight=(0,n.Ac)(this.popupHeight)):this.list.style.maxHeight=(0,n.Ac)(this.popupHeight),this.popupObj=new o.GI(this.popupWrapper,{width:this.calcPopupWidth(),targetType:"relative",position:this.enableRtl?{X:"right",Y:"bottom"}:{X:"left",Y:"bottom"},relateTo:this.overAllWrapper,collision:{X:"flip",Y:"flip"},offsetY:1,enableRtl:this.enableRtl,zIndex:this.zIndex,close:function(){if(t.popupObj.element.parentElement){t.popupObj.unwireScrollEvents();var e=t.popupWrapper.querySelector("."+O);"CheckBox"===t.mode&&e&&document.activeElement===e&&e.blur(),(0,n.og)(t.popupObj.element)}},open:function(){if(t.popupObj.resolveCollision(),!t.isFirstClick){var e=t.list.querySelector("ul");e&&!("CheckBox"!==t.mode&&(t.allowFiltering||t.allowCustomValue)&&""!==t.targetElement().trim())&&(t.mainList=e.cloneNode?e.cloneNode(!0):e),t.isFirstClick=!0}t.popupObj.wireScrollEvents(),"CheckBox"!==t.mode&&(t.allowFiltering||t.allowCustomValue)&&""!==t.targetElement().trim()||t.loadTemplate(),t.setScrollPosition(),t.allowFiltering&&t.notify("inputFocus",{module:"CheckBoxSelection",enable:"CheckBox"===t.mode,value:"focus"})},targetExitViewport:function(){n.AR.isDevice||t.hidePopup()}}),"CheckBox"===this.mode&&n.AR.isDevice&&this.allowFiltering&&this.notify("deviceSearchBox",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode}),this.popupObj.close(),this.popupWrapper.style.visibility=""}},t.prototype.setHeaderTemplate=function(){this.header&&this.header.remove(),this.header=this.createElement("div"),(0,n.cn)([this.header],"e-ddl-header");var e=this.multiCompiler(this.headerTemplate),t=("function"!=typeof this.headerTemplate&&e?(0,n.MY)((0,n.Ys)(this.headerTemplate,document).innerHTML.trim()):(0,n.MY)(this.headerTemplate))({},this,"headerTemplate",this.headerTemplateId,this.isStringTemplate,null,this.header);t&&t.length>0&&(0,n.R3)(t,this.header),"CheckBox"===this.mode&&this.showSelectAll?(0,n.Ce)([this.header],this.popupWrapper):(0,n.R3)([this.header],this.popupWrapper),n.bi.add(this.header,"mousedown",this.onListMouseDown,this)},t.prototype.setFooterTemplate=function(){this.footer&&this.footer.remove(),this.footer=this.createElement("div"),(0,n.cn)([this.footer],"e-ddl-footer");var e=this.multiCompiler(this.footerTemplate),t=("function"!=typeof this.footerTemplate&&e?(0,n.MY)((0,n.Ys)(this.footerTemplate,document).innerHTML.trim()):(0,n.MY)(this.footerTemplate))({},this,"footerTemplate",this.footerTemplateId,this.isStringTemplate,null,this.footer);t&&t.length>0&&(0,n.R3)(t,this.footer),(0,n.R3)([this.footer],this.popupWrapper),n.bi.add(this.footer,"mousedown",this.onListMouseDown,this)},t.prototype.clearAll=function(e){if(this.enabled&&!this.readonly){var t=void 0;if(this.value&&this.value.length>0){var i=this.list&&this.list.querySelectorAll("li.e-list-item");if(i&&i.length>0)this.selectAllItems(!1,e);else for(this.removeIndex=0,t=this.value[this.removeIndex];this.removeIndex<this.value.length;t=this.value[this.removeIndex])this.removeValue(t,e,null,!0);this.selectedElementID=null,this.inputElement.removeAttribute("aria-activedescendant")}else this.clearAllCallback(e)}},t.prototype.clearAllCallback=function(e,t){var i=this.value?this.value.slice():[];if(this.mainList&&this.listData&&(this.allowFiltering&&"CheckBox"!==this.mode||this.allowCustomValue)){var s=this.mainList.cloneNode?this.mainList.cloneNode(!0):this.mainList;this.onActionComplete(s,this.mainData)}this.focusAtFirstListItem(),this.updateDelimeter(this.delimiterChar,e),"Box"===this.mode||this.inputFocus&&"CheckBox"!==this.mode||this.updateDelimView(),""!==this.inputElement.value&&(this.makeTextBoxEmpty(),this.search(null)),this.checkPlaceholderSize(),this.isPopupOpen()&&this.refreshPopup(),this.inputFocus||(this.changeOnBlur&&this.updateValueState(e,this.value,i),"CheckBox"!==this.mode&&this.inputElement.focus()),"CheckBox"===this.mode&&(this.refreshPlaceHolder(),this.refreshInputHight(),this.changeOnBlur&&t&&((0,n.le)(this.value)||0===this.value.length)&&this.updateValueState(e,this.value,this.tempValues)),!this.changeOnBlur&&t&&((0,n.le)(this.value)||0===this.value.length)&&this.updateValueState(e,this.value,this.tempValues),"CheckBox"===this.mode&&this.enableGroupCheckBox&&!(0,n.le)(this.fields.groupBy)&&this.updateListItems(this.list.querySelectorAll("li.e-list-item"),this.mainList.querySelectorAll("li.e-list-item")),e.preventDefault()},t.prototype.windowResize=function(){this.refreshPopup(),(!this.inputFocus||"CheckBox"===this.mode)&&this.viewWrapper&&this.viewWrapper.parentElement&&this.updateDelimView()},t.prototype.resetValueHandler=function(e){var t=(0,n.oq)(this.inputElement,"form");if(t&&e.target===t){var i=this.element.tagName===this.getNgDirective()?null:this.element.getAttribute("data-initial-value");this.text=i}},t.prototype.wireEvent=function(){n.bi.add(this.componentWrapper,"mousedown",this.wrapperClick,this),n.bi.add(window,"resize",this.windowResize,this),n.bi.add(this.inputElement,"focus",this.focusInHandler,this),n.bi.add(this.inputElement,"keydown",this.onKeyDown,this),n.bi.add(this.inputElement,"keyup",this.keyUp,this),"CheckBox"!==this.mode&&n.bi.add(this.inputElement,"input",this.onInput,this),n.bi.add(this.inputElement,"blur",this.onBlurHandler,this),n.bi.add(this.componentWrapper,"mouseover",this.mouseIn,this);var e=(0,n.oq)(this.inputElement,"form");e&&n.bi.add(e,"reset",this.resetValueHandler,this),n.bi.add(this.componentWrapper,"mouseout",this.mouseOut,this),n.bi.add(this.overAllClear,"mouseup",this.clearAll,this),n.bi.add(this.inputElement,"paste",this.pasteHandler,this)},t.prototype.onInput=function(e){this.keyDownStatus?this.isValidKey=!0:this.isValidKey=!1,this.keyDownStatus=!1,n.AR.isDevice&&"mozilla"===n.AR.info.name&&this.search(e)},t.prototype.pasteHandler=function(e){var t=this;setTimeout(function(){t.expandTextbox(),t.search(e)})},t.prototype.search=function(e){var t=this;if(this.resetFilteredData=!0,(0,n.le)(e)||(this.keyCode=e.keyCode),!this.isPopupOpen()&&this.openOnClick&&this.showPopup(e),this.openClick(e),!this.checkTextLength()||this.allowFiltering||(0,n.le)(e)||8===e.keyCode){var i=this.targetElement();if(this.allowFiltering){var s={preventDefaultAction:!1,text:this.targetElement(),updateData:function(e,i,l){s.cancel||(t.isFiltered=!0,t.remoteFilterAction=!0,t.dataUpdater(e,i,l))},event:e,cancel:!1};this.trigger("filtering",s,function(e){e.cancel||t.isFiltered||e.preventDefaultAction||(t.filterAction=!0,t.dataUpdater(t.dataSource,null,t.fields))})}else if(this.allowCustomValue){var o=new p.A;o=""!==i?o.where(this.fields.text,"startswith",i,this.ignoreCase,this.ignoreAccent):o,this.dataUpdater(this.mainData,o,this.fields)}else{var a=this.list.querySelectorAll("li."+l.AA.li+":not(.e-hide-listitem)"),h=(0,r.ol)(this.targetElement(),a,"StartsWith",this.ignoreCase);h&&null!==h.item?(this.addListFocus(h.item),this.list.scrollTop=h.item.offsetHeight*h.index):""!==this.targetElement()?this.removeFocus():this.focusAtFirstListItem()}}else this.focusAtFirstListItem()},t.prototype.preRender=function(){null===this.allowFiltering&&(this.allowFiltering="CheckBox"===this.mode),this.initializeData(),this.updateDataAttribute(this.htmlAttributes),e.prototype.preRender.call(this)},t.prototype.getLocaleName=function(){return"multi-select"},t.prototype.initializeData=function(){this.mainListCollection=[],this.beforePopupOpen=!1,this.filterAction=!1,this.remoteFilterAction=!1,this.isFirstClick=!1,this.mobFilter=!0,this.isFiltered=!1,this.focused=!0,this.initial=!0,this.backCommand=!0},t.prototype.updateData=function(e,t){var i,s="",l="Delimiter"===this.mode||"CheckBox"===this.mode,o=[],a=this.listData;if(this.listData=this.mainData,(0,n.le)(this.hiddenElement)||(this.hiddenElement.innerHTML=""),!(0,n.le)(this.value)){for(var h=this.value.length,r="",p=0;p<h;p++){var c=this.value[p],u=this.findListElement((0,n.le)(this.mainList)?this.ulElement:this.mainList,"li","data-value",c);(0,n.le)(u)&&!this.allowCustomValue?(this.value.splice(p,1),p-=1,h-=1):(s+=(i=this.listData?this.getTextByValue(c):c)+e+" ",o.push(i)),r+='<option selected value="'+c+'">'+p+"</option>"}(0,n.le)(this.hiddenElement)||(this.hiddenElement.innerHTML=r)}this.setProperties({text:o.toString()},!0),l&&(this.updateWrapperText(this.delimiterWrapper,s),this.delimiterWrapper.setAttribute("id",(0,n.QI)("delim_val")),this.inputElement.setAttribute("aria-labelledby",this.delimiterWrapper.id));var d=t&&t.target,m=!!(d&&d.classList.contains("e-close-hooker"))||null;(!this.changeOnBlur&&t&&!m||this.isSelectAll)&&(this.isSelectAll=!1,this.updateValueState(t,this.value,this.tempValues)),this.listData=a,this.addValidInputClass()},t.prototype.initialTextUpdate=function(){if((0,n.le)(this.text))this.setProperties({value:null},!0);else{for(var e=this.text.split(this.delimiterChar),t=[],i=0;e.length>i;i++){var s=this.getValueByText(e[i]);(0,n.le)(s)?this.allowCustomValue&&t.push(e[i]):t.push(s)}t&&t.length&&this.setProperties({value:t},!0)}},t.prototype.renderList=function(t){!t&&this.allowCustomValue&&this.list&&(this.list.textContent===this.noRecordsTemplate||this.list.querySelector(".e-ul")&&0===this.list.querySelector(".e-ul").childElementCount)&&(t=!0),e.prototype.render.call(this,null,t),this.unwireListEvents(),this.wireListEvents()},t.prototype.initialValueUpdate=function(){if(this.list){var e=void 0,t=void 0,i=void 0;if(this.chipCollectionWrapper&&(this.chipCollectionWrapper.innerHTML=""),this.removeListSelection(),!(0,n.le)(this.value)){for(var s=0;!(0,n.le)(this.value[s]);s++)if(i=this.value[s],t=this.findListElement(this.hideSelectedItem?this.ulElement:this.list,"li","data-value",i),e=this.getTextByValue(i),t&&"true"!==t.getAttribute("aria-selected")||t&&"true"===t.getAttribute("aria-selected")&&this.hideSelectedItem&&("Box"===this.mode||"Default"===this.mode))this.addChip(e,i),this.addListSelection(t);else if(i&&this.allowCustomValue){var o=this.listData.length,a={};(0,n.sO)(this.fields.text,i,a),(0,n.sO)(this.fields.value,i,a);var h=this.popupWrapper.querySelector("."+l.AA.noData);this.addItem(a,o),t=t||this.findListElement(this.hideSelectedItem?this.ulElement:this.list,"li","data-value",i),this.popupWrapper.contains(h)&&(this.list.setAttribute("style",h.getAttribute("style")),this.popupWrapper.replaceChild(this.list,h),this.wireListEvents()),this.addChip(e,i),this.addListSelection(t)}}"CheckBox"===this.mode?(this.updateDelimView(),this.changeOnBlur&&this.updateValueState(null,this.value,this.tempValues),this.updateDelimeter(this.delimiterChar),this.refreshInputHight()):this.updateDelimeter(this.delimiterChar),"CheckBox"===this.mode&&this.showSelectAll&&((0,n.le)(this.value)||!this.value.length)&&this.notify("checkSelectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,value:"uncheck"}),"Box"===this.mode||"Default"===this.mode&&this.inputFocus?this.chipCollectionWrapper.style.display="":("Delimiter"===this.mode||"CheckBox"===this.mode)&&this.showDelimWrapper()}},t.prototype.updateActionCompleteData=function(e,t){this.value&&this.value.indexOf(e.getAttribute("data-value"))>-1&&(this.mainList=this.ulElement,this.hideSelectedItem&&(0,n.cn)([e],g))},t.prototype.updateAddItemList=function(e,t){this.popupObj&&this.popupObj.element&&this.popupObj.element.querySelector("."+l.AA.noData)&&e?(this.list=e,this.mainList=this.ulElement=e.querySelector("ul"),(0,n.Od)(this.popupWrapper.querySelector(".e-content")),this.popupObj=null,this.renderPopup()):this.allowCustomValue&&(this.list=e,this.mainList=this.ulElement=e.querySelector("ul"))},t.prototype.updateDataList=function(){if(this.mainList&&this.ulElement&&!(this.isFiltered||this.filterAction||this.targetElement().trim())){var e=this.mainList.childElementCount<this.ulElement.childElementCount,t=this.ulElement.childElementCount>0&&this.ulElement.children[0].childElementCount>0&&this.mainList.children[0].childElementCount<this.ulElement.children[0].childElementCount,i=this.itemTemplate&&this.ulElement.childElementCount>0&&!(this.ulElement.childElementCount<this.mainList.childElementCount)&&(this.ulElement.children[0].childElementCount>0||this.fields.groupBy&&this.ulElement.children[1]&&this.ulElement.children[1].childElementCount>0);(e||t||i)&&(this.mainList=this.ulElement)}},t.prototype.isValidLI=function(e){return e&&!e.classList.contains(l.AA.disabled)&&!e.classList.contains(l.AA.group)&&e.classList.contains(l.AA.li)},t.prototype.updateListSelection=function(e,t,i){var s=e.getAttribute("data-value"),l=this.getFormattedValue(s);this.allowCustomValue&&("false"!==s&&!1===l||!(0,n.le)(l)&&"NaN"===l.toString())&&(l=s),this.removeHover(),this.value&&-1!==this.value.indexOf(l)?this.removeValue(l,t,i):this.dispatchSelect(l,t,e,"true"===e.getAttribute("aria-selected"),i)},t.prototype.updateListSelectEventCallback=function(e,t,i){var s=this,l=this.getTextByValue(e);if((this.allowCustomValue||this.allowFiltering)&&!this.findListElement(this.mainList,"li","data-value",e)){var o=t.cloneNode(!0),a=this.fields.value?this.fields.value:"value";this.allowCustomValue&&this.mainData.length&&"number"==typeof(0,n.NA)(a,this.mainData[0])&&(e=isNaN(parseFloat(e.toString()))?e:parseFloat(e.toString()));var h=this.getDataByValue(e);this.trigger("customValueSelection",{newData:h,cancel:!1},function(t){t.cancel||((0,n.R3)([o],s.mainList),s.mainData.push(h),s.remoteCustomValue=!1,s.addValue(e,l,i))})}else this.remoteCustomValue=!1,this.addValue(e,l,i)},t.prototype.removeListSelection=function(){var e=this.hideSelectedItem?g:l.AA.selected,t=this.list.querySelectorAll("."+e),i=t.length;if(t&&t.length)for((0,n.IV)(t,e);i>0;)t[i-1].setAttribute("aria-selected","false"),i--;if(!(0,n.le)(this.mainList)){var s=this.mainList.querySelectorAll("."+e),o=s.length;if(s&&s.length)for((0,n.IV)(s,e);o>0;)s[o-1].setAttribute("aria-selected","false"),"CheckBox"===this.mode&&(t&&t.length>o-1&&(0,n.IV)([t[o-1].firstElementChild.lastElementChild],"e-check"),(0,n.IV)([s[o-1].firstElementChild.lastElementChild],"e-check")),o--}},t.prototype.removeHover=function(){var e=this.list.querySelectorAll("."+l.AA.hover);e&&e.length&&(0,n.IV)(e,l.AA.hover)},t.prototype.removeFocus=function(){if(this.list&&this.mainList){var e=this.list.querySelectorAll("."+l.AA.focus),t=this.mainList.querySelectorAll("."+l.AA.focus);e&&e.length&&((0,n.IV)(e,l.AA.focus),(0,n.IV)(t,l.AA.focus))}},t.prototype.addListHover=function(e){this.enabled&&this.isValidLI(e)?(this.removeHover(),(0,n.cn)([e],l.AA.hover)):null!==e&&e.classList.contains("e-list-group-item")&&this.enableGroupCheckBox&&"CheckBox"===this.mode&&!(0,n.le)(this.fields.groupBy)&&(this.removeHover(),(0,n.cn)([e],l.AA.hover))},t.prototype.addListFocus=function(e){this.enabled&&this.isValidLI(e)?(this.removeFocus(),(0,n.cn)([e],l.AA.focus),this.updateAriaActiveDescendant()):this.enableGroupCheckBox&&"CheckBox"===this.mode&&!(0,n.le)(this.fields.groupBy)&&((0,n.cn)([e],l.AA.focus),this.updateAriaActiveDescendant())},t.prototype.addListSelection=function(e,t){var i=this.hideSelectedItem?g:l.AA.selected;this.isValidLI(e)&&!e.classList.contains(l.AA.hover)&&((0,n.cn)([e],i),this.updateMainList(!1,e.getAttribute("data-value"),t),e.setAttribute("aria-selected","true"),"CheckBox"===this.mode&&e.classList.contains("e-active")&&0===e.getElementsByClassName("e-check").length&&this.notify("updatelist",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,li:e,e:this}),this.notify("activeList",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,li:e,e:this}),this.chipCollectionWrapper&&this.removeChipSelection(),this.selectedElementID=e.id)},t.prototype.updateDelimeter=function(e,t){this.updateData(e,t)},t.prototype.onMouseClick=function(e){var t=this;this.keyCode=null,this.scrollFocusStatus=!1;var i=e.target,s=(0,n.oq)(i,"."+l.AA.li);if((0,n.oq)(i,"."+l.AA.group)&&this.enableGroupCheckBox&&"CheckBox"===this.mode&&this.fields.groupBy)(i=i.classList.contains("e-list-group-item")?i.firstElementChild.lastElementChild:e.target).classList.contains("e-check")?(this.selectAllItem(!1,e),i.classList.remove("e-check"),i.classList.remove("e-stop"),(0,n.oq)(i,".e-list-group-item").classList.remove("e-active"),i.setAttribute("aria-selected","false")):(this.selectAllItem(!0,e),i.classList.remove("e-stop"),i.classList.add("e-check"),(0,n.oq)(i,".e-list-group-item").classList.add("e-active"),i.setAttribute("aria-selected","true")),this.refreshSelection(),this.checkSelectAll();else{if(this.isValidLI(s)){var o=this.value&&this.value.length?this.value.length:0;s.classList.contains("e-active")&&(o-=1),o<this.maximumSelectionLength&&(this.updateListSelection(s,e),this.checkPlaceholderSize(),this.addListFocus(s),(this.allowCustomValue||this.allowFiltering)&&this.mainList&&this.listData?"CheckBox"!==this.mode&&(this.focusAtLastListItem(s.getAttribute("data-value")),this.refreshSelection()):this.makeTextBoxEmpty()),"CheckBox"===this.mode?(this.updateDelimView(),this.value&&this.value.length>50?setTimeout(function(){t.updateDelimeter(t.delimiterChar,e)},0):this.updateDelimeter(this.delimiterChar,e),this.refreshInputHight()):this.updateDelimeter(this.delimiterChar,e),this.checkSelectAll(),this.refreshPopup(),this.hideSelectedItem&&this.focusAtFirstListItem(),this.closePopupOnSelect?this.hidePopup(e):e.preventDefault(),this.makeTextBoxEmpty(),this.findGroupStart(i),"CheckBox"!==this.mode&&this.refreshListItems((0,n.le)(s)?null:s.textContent)}else e.preventDefault();this.refreshPlaceHolder(),this.deselectHeader()}},t.prototype.findGroupStart=function(e){if(this.enableGroupCheckBox&&"CheckBox"===this.mode&&!(0,n.le)(this.fields.groupBy)){var t=void 0;if(this.itemTemplate&&!e.getElementsByClassName("e-frame").length)for(;!e.getElementsByClassName("e-frame").length;)e=e.parentElement;for(e.classList.contains("e-frame")&&(e=e.parentElement.parentElement),t=this.findGroupAttrtibutes(e,0,0,0,0),t=this.findGroupAttrtibutes(e,t[0],t[1],t[2],1);!e.classList.contains("e-list-group-item")&&(e.classList.contains("e-list-icon")&&(e=e.parentElement),null!=(e=e.previousElementSibling)););this.updateCheckBox(e,t[0],t[1],t[2])}},t.prototype.findGroupAttrtibutes=function(e,t,i,s,l){for(;!e.classList.contains("e-list-group-item")&&(e.classList.contains("e-list-icon")&&(e=e.parentElement),e.getElementsByClassName("e-frame")[0].classList.contains("e-check")&&e.classList.contains("e-list-item")?t++:e.classList.contains("e-list-item")&&i++,s++,null!=(e=l?e.nextElementSibling:e.previousElementSibling)););return[t,i,s]},t.prototype.updateCheckBox=function(e,t,i,s){if(null!==e){var l=e.getElementsByClassName("e-frame")[0];s===t?(l.classList.remove("e-stop"),l.classList.add("e-check"),(0,n.oq)(l,".e-list-group-item").classList.add("e-active"),e.setAttribute("aria-selected","true")):s===i?(l.classList.remove("e-check"),l.classList.remove("e-stop"),(0,n.oq)(l,".e-list-group-item").classList.remove("e-active"),e.setAttribute("aria-selected","false")):this.maximumSelectionLength===t-1?(l.classList.remove("e-stop"),e.setAttribute("aria-selected","true"),(0,n.oq)(l,".e-list-group-item").classList.add("e-active"),l.classList.add("e-check")):(l.classList.remove("e-check"),l.classList.add("e-stop"),(0,n.oq)(l,".e-list-group-item").classList.add("e-active"),e.setAttribute("aria-selected","false"))}},t.prototype.deselectHeader=function(){var e=this.value&&this.value.length?this.value.length:0,t=this.list.querySelectorAll("li.e-list-group-item:not(.e-active)");e<this.maximumSelectionLength&&(0,n.IV)(t,"e-disable"),e===this.maximumSelectionLength&&(0,n.cn)(t,"e-disable")},t.prototype.onMouseOver=function(e){var t=(0,n.oq)(e.target,"."+l.AA.li);null===t&&"CheckBox"===this.mode&&!(0,n.le)(this.fields.groupBy)&&this.enableGroupCheckBox&&(t=(0,n.oq)(e.target,"."+l.AA.group)),this.addListHover(t)},t.prototype.onMouseLeave=function(){this.removeHover()},t.prototype.onListMouseDown=function(e){e.preventDefault(),this.scrollFocusStatus=!0},t.prototype.onDocumentClick=function(e){if("CheckBox"!==this.mode){var t=e.target;!(0,n.le)(this.popupObj)&&(0,n.oq)(t,'[id="'+this.popupObj.element.id+'"]')||this.overAllWrapper.contains(e.target)?this.scrollFocusStatus=(n.AR.isIE||"edge"===n.AR.info.name)&&document.activeElement===this.inputElement:this.scrollFocusStatus=!1}},t.prototype.wireListEvents=function(){(0,n.le)(this.list)||(n.bi.add(document,"mousedown",this.onDocumentClick,this),n.bi.add(this.list,"mousedown",this.onListMouseDown,this),n.bi.add(this.list,"mouseup",this.onMouseClick,this),n.bi.add(this.list,"mouseover",this.onMouseOver,this),n.bi.add(this.list,"mouseout",this.onMouseLeave,this))},t.prototype.unwireListEvents=function(){n.bi.remove(document,"mousedown",this.onDocumentClick),this.list&&(n.bi.remove(this.list,"mousedown",this.onListMouseDown),n.bi.remove(this.list,"mouseup",this.onMouseClick),n.bi.remove(this.list,"mouseover",this.onMouseOver),n.bi.remove(this.list,"mouseout",this.onMouseLeave))},t.prototype.hideOverAllClear=function(){this.value&&this.value.length&&""!==this.inputElement.value||(this.overAllClear.style.display="none")},t.prototype.showOverAllClear=function(){(this.value&&this.value.length||""!==this.inputElement.value)&&this.showClearButton&&!0!==this.readonly?this.overAllClear.style.display="":this.overAllClear.style.display="none"},t.prototype.focusIn=function(){document.activeElement!==this.inputElement&&this.enabled&&this.inputElement.focus()},t.prototype.focusOut=function(){document.activeElement===this.inputElement&&this.enabled&&this.inputElement.blur()},t.prototype.showSpinner=function(){if((0,n.le)(this.spinnerElement)){var e=this.filterParent&&this.filterParent.querySelector(".e-clear-icon.e-icons");"none"!==this.overAllClear.style.display||e?this.spinnerElement=e||this.overAllClear:(this.spinnerElement=this.createElement("span",{className:k+" "+W}),this.componentWrapper.appendChild(this.spinnerElement)),(0,a.rj)({target:this.spinnerElement,width:n.AR.isDevice?"16px":"14px"},this.createElement),(0,n.cn)([this.spinnerElement],w),(0,a.yh)(this.spinnerElement)}},t.prototype.hideSpinner=function(){(0,n.le)(this.spinnerElement)||((0,a.v3)(this.spinnerElement),(0,n.IV)([this.spinnerElement],w),this.spinnerElement.classList.contains(W)?(0,n.og)(this.spinnerElement):this.spinnerElement.innerHTML="",this.spinnerElement=null)},t.prototype.updateWrapperText=function(e,t){this.valueTemplate||!this.enableHtmlSanitizer?e.innerHTML=this.encodeHtmlEntities(t):e.innerText=t},t.prototype.updateDelimView=function(){if(this.delimiterWrapper&&this.hideDelimWrapper(),this.chipCollectionWrapper&&(this.chipCollectionWrapper.style.display="none"),(0,n.le)(this.viewWrapper)||(this.viewWrapper.style.display="",this.viewWrapper.style.width="",this.viewWrapper.classList.remove(V)),this.value&&this.value.length){var e="",t=void 0,i=void 0,s=1,l=void 0,o=void 0,a=0,h=void 0;this.updateWrapperText(this.viewWrapper,e);var r={noRecordsTemplate:"No records found",actionFailureTemplate:"Request failed",overflowCountTemplate:"+${count} more..",totalCountTemplate:"${count} selected"},p=new n.E7(this.getLocaleName(),r,this.locale);""===p.getConstant("actionFailureTemplate")&&(p=new n.E7("dropdowns",r,this.locale)),""===p.getConstant("noRecordsTemplate")&&(p=new n.E7("dropdowns",r,this.locale));var c=p.getConstant("overflowCountTemplate"),u=p.getConstant("totalCountTemplate"),d=this.createElement("span",{className:"e-remain"}),m=c.replace("${count}",this.value.length.toString());d.innerText=m,this.viewWrapper.appendChild(d),this.renderReactTemplates();var v=d.offsetWidth;if((0,n.Od)(d),this.showDropDownIcon&&(a=this.dropIcon.offsetWidth+parseInt(window.getComputedStyle(this.dropIcon).marginRight,10)),this.checkClearIconWidth(),!(0,n.le)(this.value))for(var f=0;!(0,n.le)(this.value[f]);f++){if(e+=(0===f?"":this.delimiterChar+" ")+(t=this.getOverflowVal(f)),t=this.viewWrapper.innerHTML,this.updateWrapperText(this.viewWrapper,e),l=this.viewWrapper.offsetWidth+parseInt(window.getComputedStyle(this.viewWrapper).paddingRight,10),h=this.componentWrapper.offsetWidth-parseInt(window.getComputedStyle(this.componentWrapper).paddingLeft,10)-parseInt(window.getComputedStyle(this.componentWrapper).paddingRight,10),l+a+this.clearIconWidth>h){for(void 0!==i&&""!==i&&(t=i,f=s+1),this.updateWrapperText(this.viewWrapper,t),o=this.value.length-f,l=this.viewWrapper.offsetWidth+parseInt(window.getComputedStyle(this.viewWrapper).paddingRight,10);l+v+a+this.clearIconWidth>h&&0!==l&&""!==this.viewWrapper.innerHTML;){var y=[];this.viewWrapper.innerHTML=y.join(this.delimiterChar),o=this.value.length,l=this.viewWrapper.offsetWidth+parseInt(window.getComputedStyle(this.viewWrapper).paddingRight,10)}break}l+v+a+this.clearIconWidth<=h?(i=e,s=f):0===f&&(i="",s=-1)}if(o>0){var g=h-a-this.clearIconWidth;this.viewWrapper.appendChild(this.updateRemainTemplate(d,this.viewWrapper,o,c,u,g)),this.updateRemainWidth(this.viewWrapper,g),this.updateRemainingText(d,a,o,c,u)}}else(0,n.le)(this.viewWrapper)||(this.viewWrapper.innerHTML="",this.viewWrapper.style.display="none")},t.prototype.checkClearIconWidth=function(){this.showClearButton&&(this.clearIconWidth=this.overAllClear.offsetWidth)},t.prototype.updateRemainWidth=function(e,t){e.classList.contains(V)&&t<e.offsetWidth+parseInt(window.getComputedStyle(e).paddingLeft,10)+parseInt(window.getComputedStyle(e).paddingLeft,10)&&(e.style.width=t+"px")},t.prototype.updateRemainTemplate=function(e,t,i,s,l,o){t.firstChild&&3===t.firstChild.nodeType&&""===t.firstChild.nodeValue&&t.removeChild(t.firstChild),e.innerHTML="";var a=s.replace("${count}",i.toString()),h=l.replace("${count}",i.toString());return e.innerText=t.firstChild&&3===t.firstChild.nodeType?a:h,t.firstChild&&3===t.firstChild.nodeType?t.classList.remove(V):(t.classList.add(V),this.updateRemainWidth(t,o)),e},t.prototype.updateRemainingText=function(e,t,i,s,l){var o=this.componentWrapper.offsetWidth-parseInt(window.getComputedStyle(this.componentWrapper).paddingLeft,10)-parseInt(window.getComputedStyle(this.componentWrapper).paddingRight,10),a=this.viewWrapper.offsetWidth+parseInt(window.getComputedStyle(this.viewWrapper).paddingRight,10);if(a+t>=o&&0!==a&&this.viewWrapper.firstChild&&3===this.viewWrapper.firstChild.nodeType){for(;a+t>o&&0!==a&&this.viewWrapper.firstChild&&3===this.viewWrapper.firstChild.nodeType;){var h=this.viewWrapper.firstChild.nodeValue.split(this.delimiterChar);h.pop(),this.viewWrapper.firstChild.nodeValue=h.join(this.delimiterChar),""===this.viewWrapper.firstChild.nodeValue&&this.viewWrapper.removeChild(this.viewWrapper.firstChild),i++,a=this.viewWrapper.offsetWidth}this.updateRemainTemplate(e,this.viewWrapper,i,s,l,o-t)}},t.prototype.getOverflowVal=function(e){var t;if(this.mainData&&this.mainData.length){if("CheckBox"===this.mode){var i=this.listData;this.listData=this.mainData,t=this.getTextByValue(this.value[e]),this.listData=i}else t=this.getTextByValue(this.value[e])}else t=this.value[e];return t},t.prototype.unWireEvent=function(){if((0,n.le)(this.componentWrapper)||n.bi.remove(this.componentWrapper,"mousedown",this.wrapperClick),n.bi.remove(window,"resize",this.windowResize),!(0,n.le)(this.inputElement)){n.bi.remove(this.inputElement,"focus",this.focusInHandler),n.bi.remove(this.inputElement,"keydown",this.onKeyDown),"CheckBox"!==this.mode&&n.bi.remove(this.inputElement,"input",this.onInput),n.bi.remove(this.inputElement,"keyup",this.keyUp);var e=(0,n.oq)(this.inputElement,"form");e&&n.bi.remove(e,"reset",this.resetValueHandler),n.bi.remove(this.inputElement,"blur",this.onBlurHandler)}(0,n.le)(this.componentWrapper)||(n.bi.remove(this.componentWrapper,"mouseover",this.mouseIn),n.bi.remove(this.componentWrapper,"mouseout",this.mouseOut)),(0,n.le)(this.overAllClear)||n.bi.remove(this.overAllClear,"mousedown",this.clearAll),(0,n.le)(this.inputElement)||n.bi.remove(this.inputElement,"paste",this.pasteHandler)},t.prototype.selectAllItem=function(e,t,i){var s;if((0,n.le)(this.list)||(s=this.list.querySelectorAll(e?'li.e-list-item:not([aria-selected="true"]):not(.e-reorder-hide)':'li.e-list-item[aria-selected="true"]:not(.e-reorder-hide)')),this.value&&this.value.length&&t&&t.target&&(0,n.oq)(t.target,".e-close-hooker")&&this.allowFiltering&&(s=this.mainList.querySelectorAll(e?'li.e-list-item:not([aria-selected="true"]):not(.e-reorder-hide)':'li.e-list-item[aria-selected="true"]:not(.e-reorder-hide)')),this.enableGroupCheckBox&&"CheckBox"===this.mode&&!(0,n.le)(this.fields.groupBy)){var l=t?this.groupTemplate?(0,n.oq)(t.target,".e-list-group-item"):t.target:null;if((l=(l=t&&32===t.keyCode?i:l)&&l.classList.contains("e-frame")?l.parentElement.parentElement:l)&&l.classList.contains("e-list-group-item")){var o=l.nextElementSibling;if((0,n.le)(o))return;for(;o.classList.contains("e-list-item");){if(e){if(!o.firstElementChild.lastElementChild.classList.contains("e-check")){var a=this.value&&this.value.length?this.value.length:0;o.classList.contains("e-active")&&(a-=1),a<this.maximumSelectionLength&&this.updateListSelection(o,t)}}else o.firstElementChild.lastElementChild.classList.contains("e-check")&&this.updateListSelection(o,t);if(null==(o=o.nextElementSibling))break}if(l.classList.contains("e-list-group-item")){var h=this.list.getElementsByClassName("e-item-focus")[0];h&&h.classList.remove("e-item-focus"),e?l.classList.add("e-active"):l.classList.remove("e-active"),l.classList.add("e-item-focus"),this.updateAriaActiveDescendant()}this.textboxValueUpdate(),this.checkPlaceholderSize(),!this.changeOnBlur&&t&&this.updateValueState(t,this.value,this.tempValues)}else this.updateValue(t,s,e)}else this.updateValue(t,s,e);this.addValidInputClass()},t.prototype.updateValue=function(e,t,i){var s=this,o=t.length,a={event:e,items:i?t:[],itemData:i?this.listData:[],isInteracted:!!e,isChecked:i,preventSelectEvent:!1};if(this.trigger("beforeSelectAll",a),t&&t.length){var h=0,r=0;if(r=this.enableGroupCheckBox?i?this.maximumSelectionLength-(this.value?this.value.length:0):t.length:i?this.maximumSelectionLength-(this.value?this.value.length:0):this.maximumSelectionLength,a.preventSelectEvent){for(var p=0;p<t.length&&p<r;p++){this.removeHover();var c=t[p].getAttribute("data-value"),u=this.getFormattedValue(c),d=this.mainList?this.mainList.querySelectorAll(i?'li.e-list-item:not([aria-selected="true"]):not(.e-reorder-hide)':'li.e-list-item[aria-selected="true"]:not(.e-reorder-hide)')[p]:null;i?(this.value=this.value?this.value:[],0>this.value.indexOf(u)&&this.setProperties({value:[].concat([],this.value,[u])},!0),this.removeFocus(),this.addListSelection(t[p],d),this.updateChipStatus(),this.checkMaxSelection()):this.removeAllItems(u,e,!1,t[p],d),this.enableGroupCheckBox&&this.findGroupStart(t[p])}if(!i&&(this.value&&this.value.length?this.value.length:0)<this.maximumSelectionLength){var m=this.list.querySelectorAll("li."+l.AA.li+":not(.e-active)");(0,n.IV)(m,"e-disable")}var v={event:e,items:i?t:[],itemData:i?this.listData:[],isInteracted:!!e,isChecked:i};this.trigger("selectedAll",v)}else{for(;h<o&&h<=50&&h<r;)this.updateListSelection(t[h],e,o-h),this.enableGroupCheckBox&&this.findGroupStart(t[h]),h++;o>50&&setTimeout(function(){for(;h<o&&h<r;)s.updateListSelection(t[h],e,o-h),s.enableGroupCheckBox&&s.findGroupStart(t[h]),h++;s.updatedataValueItems(e),s.changeOnBlur||(s.updateValueState(e,s.value,s.tempValues),s.isSelectAll=s.isSelectAll?!s.isSelectAll:s.isSelectAll),s.updateHiddenElement()},0)}}this.updatedataValueItems(e),this.checkPlaceholderSize(),o<=50&&!a.preventSelectEvent&&(this.changeOnBlur||(this.updateValueState(e,this.value,this.tempValues),this.isSelectAll=this.isSelectAll?!this.isSelectAll:this.isSelectAll),this.updateHiddenElement())},t.prototype.updateHiddenElement=function(){var e=this,t="",i="",s="",l=[];"CheckBox"===this.mode&&(this.value.map(function(o,a){t+='<option selected value ="'+o+'">'+a+"</option>",s=e.listData?e.getTextByValue(o):o,i+=s+e.delimiterChar+" ",l.push(s)}),this.hiddenElement.innerHTML=t,this.updateWrapperText(this.delimiterWrapper,i),this.delimiterWrapper.setAttribute("id",(0,n.QI)("delim_val")),this.inputElement.setAttribute("aria-labelledby",this.delimiterWrapper.id),this.setProperties({text:l.toString()},!0),this.refreshInputHight(),this.refreshPlaceHolder())},t.prototype.updatedataValueItems=function(e){this.deselectHeader(),this.textboxValueUpdate(e)},t.prototype.textboxValueUpdate=function(e){var t=e&&e.target&&((0,n.oq)(e.target,".e-selectall-parent")||(0,n.oq)(e.target,".e-close-hooker"));"Box"===this.mode||this.isPopupOpen()||"CheckBox"===this.mode&&(this.isSelectAll||t)?this.searchWrapper.classList.remove(x):this.updateDelimView(),"CheckBox"===this.mode?(this.updateDelimView(),t||this.isSelectAll||this.updateDelimeter(this.delimiterChar,e),this.refreshInputHight()):this.updateDelimeter(this.delimiterChar,e),this.refreshPlaceHolder()},t.prototype.setZIndex=function(){this.popupObj&&this.popupObj.setProperties({zIndex:this.zIndex})},t.prototype.updateDataSource=function(e){(0,n.le)(this.list)?this.renderPopup():this.resetList(this.dataSource),this.value&&this.value.length&&(this.setProperties({value:this.value}),this.refreshSelection())},t.prototype.onLoadSelect=function(){this.setDynValue=!0,this.renderPopup()},t.prototype.selectAllItems=function(t,i){var s=this;if((0,n.le)(this.list))this.selectAllAction=function(){if("CheckBox"===s.mode&&s.showSelectAll){var e={module:"CheckBoxSelection",enable:"CheckBox"===s.mode,value:t?"check":"uncheck"};s.notify("checkSelectAll",e)}s.selectAllItem(t,i),s.selectAllAction=null},e.prototype.render.call(this);else{if(this.selectAllAction=null,"CheckBox"===this.mode&&this.showSelectAll){var l={value:t?"check":"uncheck",enable:"CheckBox"===this.mode,module:"CheckBoxSelection"};this.notify("checkSelectAll",l)}this.selectAllItem(t,i)}},t.prototype.getPersistData=function(){return this.addOnPersist(["value"])},t.prototype.onPropertyChanged=function(t,i){(t.dataSource&&!(0,n.le)(Object.keys(t.dataSource))||t.query&&!(0,n.le)(Object.keys(t.query)))&&(this.resetFilteredData&&(this.resetMainList=this.resetMainList?this.resetMainList:this.mainList,this.resetFilteredData=!1),this.mainList=null,this.mainData=null,this.isFirstClick=!1,this.isDynamicDataChange=!0),"multiselect"===this.getModuleName()&&(this.filterAction=!1,this.setUpdateInitial(["fields","query","dataSource"],t));for(var s=0,l=Object.keys(t);s<l.length;s++){var o=l[s];switch(o){case"query":case"dataSource":"CheckBox"===this.mode&&this.showSelectAll&&((0,n.le)(this.popupObj)||(this.popupObj.destroy(),this.popupObj=null),this.renderPopup());break;case"htmlAttributes":this.updateHTMLAttribute();break;case"showClearButton":this.updateClearButton(t.showClearButton);break;case"text":this.updateVal(this.value,this.value,"text");break;case"value":this.updateVal(this.value,i.value,"value"),this.addValidInputClass(),!this.closePopupOnSelect&&this.isPopupOpen()&&this.refreshPopup(),this.preventChange=this.isAngular&&this.preventChange?!this.preventChange:this.preventChange;break;case"width":this.setWidth(t.width),this.popupObj.setProperties({width:this.calcPopupWidth()});break;case"placeholder":this.refreshPlaceHolder();break;case"filterBarPlaceholder":this.allowFiltering&&this.notify("filterBarPlaceholder",{filterBarPlaceholder:t.filterBarPlaceholder});break;case"delimiterChar":"Box"!==this.mode&&this.updateDelimView(),this.updateData(t.delimiterChar);break;case"cssClass":this.updateOldPropCssClass(i.cssClass),this.updateCssClass(),this.calculateWidth();break;case"enableRtl":this.enableRTL(t.enableRtl),e.prototype.onPropertyChanged.call(this,t,i);break;case"readonly":this.updateReadonly(t.readonly),this.hidePopup();break;case"enabled":this.hidePopup(),this.enable(t.enabled);break;case"showSelectAll":this.popupObj&&(this.popupObj.destroy(),this.popupObj=null),this.renderPopup();break;case"showDropDownIcon":this.dropDownIcon();break;case"floatLabelType":this.setFloatLabelType(),this.addValidInputClass(),h.I.createSpanElement(this.overAllWrapper,this.createElement),this.calculateWidth(),(0,n.le)(this.overAllWrapper)||(0,n.le)(this.overAllWrapper.getElementsByClassName("e-ddl-icon")[0]&&this.overAllWrapper.getElementsByClassName("e-float-text-content")[0]&&"Never"!==this.floatLabelType)||this.overAllWrapper.getElementsByClassName("e-float-text-content")[0].classList.add("e-icon");break;case"enableSelectionOrder":break;case"selectAllText":this.notify("selectAllText",!1);break;case"popupHeight":if(this.popupObj){var a=parseInt(this.popupHeight,10);"auto"!==this.popupHeight?(this.list.style.maxHeight=(0,n.Ac)(a),this.popupWrapper.style.maxHeight=(0,n.Ac)(this.popupHeight)):this.list.style.maxHeight=(0,n.Ac)(this.popupHeight)}break;case"headerTemplate":case"footerTemplate":this.reInitializePoup();break;case"allowFiltering":"CheckBox"===this.mode&&this.popupObj&&this.reInitializePoup(),this.updateSelectElementData(this.allowFiltering);break;default:var r=this.getPropObject(o,t,i);e.prototype.onPropertyChanged.call(this,r.newProperty,r.oldProperty)}}},t.prototype.reInitializePoup=function(){this.popupObj&&(this.popupObj.destroy(),this.popupObj=null),this.renderPopup()},t.prototype.presentItemValue=function(e){for(var t=[],i=0;i<this.value.length;i++)this.findListElement(this.allowFiltering&&!(0,n.le)(this.mainList)?this.mainList:e,"li","data-value",this.value[i])||t.push(this.value[i]);return t},t.prototype.addNonPresentItems=function(e,t,i,s){var l=this;this.dataSource.executeQuery(this.getForQuery(e)).then(function(e){e.result.length>0&&l.addItem(e.result,i.length),l.updateActionList(t,i,s)})},t.prototype.updateVal=function(e,t,i){if(this.list){if(this.dataSource instanceof c.h&&(!this.listData||!(this.mainList&&this.mainData)))this.onLoadSelect();else{var s=[];if((0,n.le)(this.value)||this.allowCustomValue||(s=this.presentItemValue(this.ulElement)),"value"==i&&s.length>0&&this.dataSource instanceof c.h&&!(0,n.le)(this.value)&&null!=this.listData)this.mainData=null,this.setDynValue=!0,this.addNonPresentItems(s,this.ulElement,this.listData);else{if("text"===i&&(this.initialTextUpdate(),e=this.value),((0,n.le)(this.value)||0===this.value.length)&&(this.tempValues=t),this.allowCustomValue&&("Default"===this.mode||"Box"===this.mode)&&this.isReact&&this.inputFocus&&this.isPopupOpen()&&this.mainData!==this.listData){var l=this.mainList.cloneNode?this.mainList.cloneNode(!0):this.mainList;this.onActionComplete(l,this.mainData)}this.initialValueUpdate(),"Box"===this.mode||this.inputFocus||this.updateDelimView(),this.inputFocus||this.refreshInputHight(),this.refreshPlaceHolder(),"CheckBox"!==this.mode&&this.changeOnBlur&&this.updateValueState(null,e,t),this.checkPlaceholderSize()}}}else this.onLoadSelect();this.changeOnBlur||this.updateValueState(null,e,t)},t.prototype.addItem=function(t,i){e.prototype.addItem.call(this,t,i)},t.prototype.hidePopup=function(e){var t=this;if(this.isPopupOpen()){var i={popup:this.popupObj,cancel:!1,animation:{name:"FadeOut",duration:100,delay:100},event:e||null};this.trigger("close",i,function(e){!e.cancel&&(t.fields.groupBy&&"CheckBox"!==t.mode&&t.fixedHeaderElement&&((0,n.Od)(t.fixedHeaderElement),t.fixedHeaderElement=null),t.beforePopupOpen=!1,t.overAllWrapper.classList.remove(I),t.popupObj.hide(new n.fw(e.animation)),(0,n.Y4)(t.inputElement,{"aria-expanded":"false"}),t.inputElement.removeAttribute("aria-owns"),t.inputElement.removeAttribute("aria-activedescendant"),t.allowFiltering&&t.notify("inputFocus",{module:"CheckBoxSelection",enable:"CheckBox"===t.mode,value:"clear"}),t.popupObj.hide(),(0,n.IV)([document.body,t.popupObj.element],"e-popup-full-page"),n.bi.remove(t.list,"keydown",t.onKeyDown),"CheckBox"===t.mode&&t.showSelectAll&&n.bi.remove(t.popupObj.element,"click",t.clickHandler))})}},t.prototype.showPopup=function(t){var i=this;this.enabled&&this.trigger("beforeOpen",{cancel:!1},function(s){if(!s.cancel){if(!i.ulElement){i.beforePopupOpen=!0,e.prototype.render.call(i,t),"CheckBox"===i.mode&&n.AR.isDevice&&i.allowFiltering&&i.notify("popupFullScreen",{module:"CheckBoxSelection",enable:"CheckBox"===i.mode});return}"CheckBox"===i.mode&&n.AR.isDevice&&i.allowFiltering&&i.notify("popupFullScreen",{module:"CheckBoxSelection",enable:"CheckBox"===i.mode});var o=i.ulElement.querySelectorAll("li.e-list-item").length,a=i.ulElement.querySelectorAll("li."+l.AA.li+"."+g).length;if(o>0&&o===a&&a===i.mainData.length&&!(""!==i.targetElement()&&i.allowCustomValue)){i.beforePopupOpen=!1;return}i.onPopupShown(t)}})},t.prototype.selectAll=function(e){this.isSelectAll=!0,this.selectAllItems(e)},t.prototype.getModuleName=function(){return"multiselect"},t.prototype.clear=function(){var e=this;this.selectAll(!1),this.value&&this.value.length?setTimeout(function(){e.setProperties({value:null},!0)},0):this.setProperties({value:null},!0)},t.prototype.render=function(){(0,n.le)(this.value)||(this.value=this.value.slice()),this.setDynValue=this.initStatus=!1,this.isSelectAll=!1,this.selectAllEventEle=[],this.searchWrapper=this.createElement("span",{className:"e-searcher "+("Box"===this.mode?"e-multiselect-box":"")}),this.viewWrapper=this.createElement("span",{className:"e-delim-view "+E,styles:"display:none;"}),this.overAllClear=this.createElement("span",{className:k,styles:"display:none;"}),this.componentWrapper=this.createElement("div",{className:"e-multi-select-wrapper"}),this.overAllWrapper=this.createElement("div",{className:"e-multiselect e-input-group e-control-wrapper"}),"CheckBox"===this.mode&&(0,n.cn)([this.overAllWrapper],"e-checkbox"),n.AR.isDevice&&this.componentWrapper.classList.add("e-mob-wrapper"),this.setWidth(this.width),this.overAllWrapper.appendChild(this.componentWrapper),this.popupWrapper=this.createElement("div",{id:this.element.id+"_popup",className:"e-ddl e-popup e-multi-select-list-wrapper"}),"Delimiter"===this.mode||"CheckBox"===this.mode?(this.delimiterWrapper=this.createElement("span",{className:E,styles:"display:none"}),this.componentWrapper.appendChild(this.delimiterWrapper)):(this.chipCollectionWrapper=this.createElement("span",{className:"e-chips-collection",styles:"display:none"}),"Default"===this.mode?this.chipCollectionWrapper.setAttribute("id",(0,n.QI)("chip_default")):"Box"===this.mode&&this.chipCollectionWrapper.setAttribute("id",(0,n.QI)("chip_box")),this.componentWrapper.appendChild(this.chipCollectionWrapper)),"Box"!==this.mode&&this.componentWrapper.appendChild(this.viewWrapper),this.componentWrapper.appendChild(this.searchWrapper),this.showClearButton&&!n.AR.isDevice?this.componentWrapper.appendChild(this.overAllClear):this.componentWrapper.classList.add(B),this.dropDownIcon(),this.inputElement=this.createElement("input",{className:"e-dropdownbase",attrs:{spellcheck:"false",type:"text",autocomplete:"off",tabindex:"0",role:"combobox"}}),("Default"===this.mode||"Box"===this.mode)&&this.inputElement.setAttribute("aria-labelledby",this.chipCollectionWrapper.id),this.element.tagName!==this.getNgDirective()&&(this.element.style.display="none"),this.element.tagName===this.getNgDirective()?(this.element.appendChild(this.overAllWrapper),this.searchWrapper.appendChild(this.inputElement)):(this.element.parentElement.insertBefore(this.overAllWrapper,this.element),this.searchWrapper.appendChild(this.inputElement),this.searchWrapper.appendChild(this.element),this.element.removeAttribute("tabindex")),"Never"!==this.floatLabelType?(0,d.cm)(this.overAllWrapper,this.searchWrapper,this.element,this.inputElement,this.value,this.floatLabelType,this.placeholder):"Never"===this.floatLabelType&&this.refreshPlaceHolder(),this.addValidInputClass(),this.element.style.opacity="";var e=this.element.getAttribute("id")?this.element.getAttribute("id"):(0,n.QI)("ej2_dropdownlist");this.element.id=e,this.hiddenElement=this.createElement("select",{attrs:{"aria-hidden":"true",class:"e-multi-hidden",tabindex:"-1",multiple:""}}),this.componentWrapper.appendChild(this.hiddenElement),this.validationAttribute(this.element,this.hiddenElement),"CheckBox"!==this.mode&&this.hideOverAllClear(),!(0,n.le)((0,n.oq)(this.element,"fieldset"))&&(0,n.oq)(this.element,"fieldset").disabled&&(this.enabled=!1),this.wireEvent(),this.enable(this.enabled),this.enableRTL(this.enableRtl),this.checkInitialValue(),this.element.hasAttribute("data-val")&&this.element.setAttribute("data-val","false"),h.I.createSpanElement(this.overAllWrapper,this.createElement),this.calculateWidth(),(0,n.le)(this.overAllWrapper)||(0,n.le)(this.overAllWrapper.getElementsByClassName("e-ddl-icon")[0]&&this.overAllWrapper.getElementsByClassName("e-float-text-content")[0]&&"Never"!==this.floatLabelType)||this.overAllWrapper.getElementsByClassName("e-float-text-content")[0].classList.add("e-icon"),this.renderComplete()},t.prototype.checkInitialValue=function(){var t=this,i=this.dataSource instanceof Array?this.dataSource.length>0:!(0,n.le)(this.dataSource);if(!(this.value&&this.value.length)&&(0,n.le)(this.text)&&!i&&"SELECT"===this.element.tagName&&this.element.options.length>0){for(var s=this.element.options,l=[],o="",a=0,h=s.length;a<h;a++){var r=s[a];(0,n.le)(r.getAttribute("selected"))||(r.getAttribute("value")?l.push(r.getAttribute("value")):o+=r.text+this.delimiterChar)}l.length>0?this.setProperties({value:l},!0):""!==o&&this.setProperties({text:o},!0),(l.length>0||""!==o)&&(this.refreshInputHight(),this.refreshPlaceHolder())}(this.value&&this.value.length||!(0,n.le)(this.text))&&!this.list&&e.prototype.render.call(this),!(0,n.le)(this.text)&&((0,n.le)(this.value)||0===this.value.length)&&this.initialTextUpdate(),this.value&&this.value.length?(this.dataSource instanceof c.h?this.setInitialValue=function(){t.initStatus=!1,t.initialValueUpdate(),t.initialUpdate(),t.setInitialValue=null,t.initStatus=!0}:(this.initialValueUpdate(),this.initialUpdate()),this.updateTempValue()):this.initialUpdate(),this.initStatus=!0,this.checkAutoFocus(),(0,n.le)(this.text)||this.element.setAttribute("data-initial-value",this.text)},t.prototype.checkAutoFocus=function(){this.element.hasAttribute("autofocus")&&this.inputElement.focus()},t.prototype.setFloatLabelType=function(){(0,d.V6)(this.overAllWrapper,this.componentWrapper,this.searchWrapper,this.inputElement,this.value,this.floatLabelType,this.placeholder),"Never"!==this.floatLabelType&&(0,d.cm)(this.overAllWrapper,this.searchWrapper,this.element,this.inputElement,this.value,this.floatLabelType,this.placeholder)},t.prototype.addValidInputClass=function(){(0,n.le)(this.overAllWrapper)||(!(0,n.le)(this.value)&&this.value.length||"Always"===this.floatLabelType?(0,n.cn)([this.overAllWrapper],"e-valid-input"):(0,n.IV)([this.overAllWrapper],"e-valid-input"))},t.prototype.dropDownIcon=function(){this.showDropDownIcon?(this.dropIcon=this.createElement("span",{className:D}),this.componentWrapper.appendChild(this.dropIcon),(0,n.cn)([this.componentWrapper],["e-down-icon"])):(0,n.le)(this.dropIcon)||(this.dropIcon.parentElement.removeChild(this.dropIcon),(0,n.IV)([this.componentWrapper],["e-down-icon"]))},t.prototype.initialUpdate=function(){"Box"===this.mode||this.setDynValue&&"Default"===this.mode&&this.inputFocus||this.updateDelimView(),this.updateCssClass(),this.updateHTMLAttribute(),this.updateReadonly(this.readonly),this.refreshInputHight(),this.checkPlaceholderSize()},t.prototype.destroy=function(){this.isReact&&this.clearTemplate(),this.popupObj&&this.popupObj.hide(),this.notify("destroy",{}),this.unwireListEvents(),this.unWireEvent(),this.list=null,this.popupObj=null,this.mainList=null,this.mainData=null,this.filterParent=null,this.ulElement=null,this.mainListCollection=null,e.prototype.destroy.call(this);var t=["readonly","aria-disabled","placeholder"],i=t.length;if(!(0,n.le)(this.inputElement))for(;i>0;)this.inputElement.removeAttribute(t[i-1]),i--;(0,n.le)(this.element)||(this.element.removeAttribute("data-initial-value"),this.element.style.display="block"),this.overAllWrapper&&this.overAllWrapper.parentElement&&(this.overAllWrapper.parentElement.tagName===this.getNgDirective()||this.overAllWrapper.parentElement.insertBefore(this.element,this.overAllWrapper),(0,n.Od)(this.overAllWrapper)),this.componentWrapper=null,this.overAllClear=null,this.overAllWrapper=null,this.hiddenElement=null,this.searchWrapper=null,this.viewWrapper=null,this.chipCollectionWrapper=null,this.targetInputElement=null,this.popupWrapper=null,this.inputElement=null,this.delimiterWrapper=null,this.popupObj=null,this.popupWrapper=null,this.liCollections=null,this.header=null,this.mainList=null,this.mainListCollection=null,this.footer=null,this.selectAllEventEle=null},v([(0,n.Zz)({text:null,value:null,iconCss:null,groupBy:null},l.Yw)],t.prototype,"fields",void 0),v([(0,n.Z9)(!1)],t.prototype,"enablePersistence",void 0),v([(0,n.Z9)(null)],t.prototype,"groupTemplate",void 0),v([(0,n.Z9)("No records found")],t.prototype,"noRecordsTemplate",void 0),v([(0,n.Z9)("Request failed")],t.prototype,"actionFailureTemplate",void 0),v([(0,n.Z9)("None")],t.prototype,"sortOrder",void 0),v([(0,n.Z9)(!0)],t.prototype,"enabled",void 0),v([(0,n.Z9)(!1)],t.prototype,"enableHtmlSanitizer",void 0),v([(0,n.Z9)([])],t.prototype,"dataSource",void 0),v([(0,n.Z9)(null)],t.prototype,"query",void 0),v([(0,n.Z9)("StartsWith")],t.prototype,"filterType",void 0),v([(0,n.Z9)(1e3)],t.prototype,"zIndex",void 0),v([(0,n.Z9)(!1)],t.prototype,"ignoreAccent",void 0),v([(0,n.Z9)()],t.prototype,"locale",void 0),v([(0,n.Z9)(!1)],t.prototype,"enableGroupCheckBox",void 0),v([(0,n.Z9)(null)],t.prototype,"cssClass",void 0),v([(0,n.Z9)("100%")],t.prototype,"width",void 0),v([(0,n.Z9)("300px")],t.prototype,"popupHeight",void 0),v([(0,n.Z9)("100%")],t.prototype,"popupWidth",void 0),v([(0,n.Z9)(null)],t.prototype,"placeholder",void 0),v([(0,n.Z9)(null)],t.prototype,"filterBarPlaceholder",void 0),v([(0,n.Z9)({})],t.prototype,"htmlAttributes",void 0),v([(0,n.Z9)(null)],t.prototype,"valueTemplate",void 0),v([(0,n.Z9)(null)],t.prototype,"headerTemplate",void 0),v([(0,n.Z9)(null)],t.prototype,"footerTemplate",void 0),v([(0,n.Z9)(null)],t.prototype,"itemTemplate",void 0),v([(0,n.Z9)(null)],t.prototype,"allowFiltering",void 0),v([(0,n.Z9)(!0)],t.prototype,"changeOnBlur",void 0),v([(0,n.Z9)(!1)],t.prototype,"allowCustomValue",void 0),v([(0,n.Z9)(!0)],t.prototype,"showClearButton",void 0),v([(0,n.Z9)(1e3)],t.prototype,"maximumSelectionLength",void 0),v([(0,n.Z9)(!1)],t.prototype,"readonly",void 0),v([(0,n.Z9)(null)],t.prototype,"text",void 0),v([(0,n.Z9)(null)],t.prototype,"value",void 0),v([(0,n.Z9)(!0)],t.prototype,"hideSelectedItem",void 0),v([(0,n.Z9)(!0)],t.prototype,"closePopupOnSelect",void 0),v([(0,n.Z9)("Default")],t.prototype,"mode",void 0),v([(0,n.Z9)(",")],t.prototype,"delimiterChar",void 0),v([(0,n.Z9)(!0)],t.prototype,"ignoreCase",void 0),v([(0,n.Z9)(!1)],t.prototype,"showDropDownIcon",void 0),v([(0,n.Z9)("Never")],t.prototype,"floatLabelType",void 0),v([(0,n.Z9)(!1)],t.prototype,"showSelectAll",void 0),v([(0,n.Z9)("Select All")],t.prototype,"selectAllText",void 0),v([(0,n.Z9)("Unselect All")],t.prototype,"unSelectAllText",void 0),v([(0,n.Z9)(!0)],t.prototype,"enableSelectionOrder",void 0),v([(0,n.Z9)(!0)],t.prototype,"openOnClick",void 0),v([(0,n.Z9)(!1)],t.prototype,"addTagOnBlur",void 0),v([(0,n.ju)()],t.prototype,"change",void 0),v([(0,n.ju)()],t.prototype,"removing",void 0),v([(0,n.ju)()],t.prototype,"removed",void 0),v([(0,n.ju)()],t.prototype,"beforeSelectAll",void 0),v([(0,n.ju)()],t.prototype,"selectedAll",void 0),v([(0,n.ju)()],t.prototype,"beforeOpen",void 0),v([(0,n.ju)()],t.prototype,"open",void 0),v([(0,n.ju)()],t.prototype,"close",void 0),v([(0,n.ju)()],t.prototype,"blur",void 0),v([(0,n.ju)()],t.prototype,"focus",void 0),v([(0,n.ju)()],t.prototype,"chipSelection",void 0),v([(0,n.ju)()],t.prototype,"filtering",void 0),v([(0,n.ju)()],t.prototype,"tagging",void 0),v([(0,n.ju)()],t.prototype,"customValueSelection",void 0),t=v([n.Zl],t)}(l.fM)}}]);